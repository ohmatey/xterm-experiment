{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"react\"), require(\"tslib\")) : \"function\" == typeof define && define.amd ? define(\"ReactXterm\", [\"react\", \"tslib\"], t) : \"object\" == typeof exports ? exports.ReactXterm = t(require(\"react\"), require(\"tslib\")) : e.ReactXterm = t(e.react, e.tslib);\n}(\"undefined\" != typeof self ? self : this, function (e, t) {\n  return function (e) {\n    var t = {};\n\n    function i(r) {\n      if (t[r]) return t[r].exports;\n      var n = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(n.exports, n, n.exports, i), n.l = !0, n.exports;\n    }\n\n    return i.m = e, i.c = t, i.d = function (e, t, r) {\n      i.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, i.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, i.t = function (e, t) {\n      if (1 & t && (e = i(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (i.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var n in e) i.d(r, n, function (t) {\n        return e[t];\n      }.bind(null, n));\n      return r;\n    }, i.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return i.d(t, \"a\", t), t;\n    }, i.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, i.p = \"\", i(i.s = 64);\n  }([function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = i(31),\n        o = i(32),\n        a = i(33),\n        l = i(2),\n        h = i(1);\n    t.DEFAULT_ATTR = 256 | h.DEFAULT_COLOR << 9, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.MAX_BUFFER_SIZE = 4294967295, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32, t.FILL_CHAR_DATA = [t.DEFAULT_ATTR, t.NULL_CELL_CHAR, t.NULL_CELL_WIDTH, t.NULL_CELL_CODE];\n\n    var c = function () {\n      function e(e, t) {\n        this._terminal = e, this._hasScrollback = t, this.markers = [], this._cols = this._terminal.cols, this._rows = this._terminal.rows, this.clear();\n      }\n\n      return e.prototype.getBlankLine = function (e, i) {\n        var r = [e, t.NULL_CELL_CHAR, t.NULL_CELL_WIDTH, t.NULL_CELL_CODE];\n        return new s.BufferLine(this._cols, r, i);\n      }, Object.defineProperty(e.prototype, \"hasScrollback\", {\n        get: function () {\n          return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"isCursorInViewport\", {\n        get: function () {\n          var e = this.ybase + this.y - this.ydisp;\n          return e >= 0 && e < this._rows;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype._getCorrectBufferLength = function (e) {\n        if (!this._hasScrollback) return e;\n        var i = e + this._terminal.options.scrollback;\n        return i > t.MAX_BUFFER_SIZE ? t.MAX_BUFFER_SIZE : i;\n      }, e.prototype.fillViewportRows = function (e) {\n        if (0 === this.lines.length) {\n          void 0 === e && (e = t.DEFAULT_ATTR);\n\n          for (var i = this._rows; i--;) this.lines.push(this.getBlankLine(e));\n        }\n      }, e.prototype.clear = function () {\n        this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.lines = new a.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n      }, e.prototype.resize = function (e, i) {\n        var r = this._getCorrectBufferLength(i);\n\n        if (r > this.lines.maxLength && (this.lines.maxLength = r), this.lines.length > 0) {\n          if (this._cols < e) for (var n = 0; n < this.lines.length; n++) this.lines.get(n).resize(e, t.FILL_CHAR_DATA);\n          var o = 0;\n          if (this._rows < i) for (var a = this._rows; a < i; a++) this.lines.length < i + this.ybase && (this.ybase > 0 && this.lines.length <= this.ybase + this.y + o + 1 ? (this.ybase--, o++, this.ydisp > 0 && this.ydisp--) : this.lines.push(new s.BufferLine(e, t.FILL_CHAR_DATA)));else for (a = this._rows; a > i; a--) this.lines.length > i + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++));\n\n          if (r < this.lines.maxLength) {\n            var l = this.lines.length - r;\n            l > 0 && (this.lines.trimStart(l), this.ybase = Math.max(this.ybase - l, 0), this.ydisp = Math.max(this.ydisp - l, 0)), this.lines.maxLength = r;\n          }\n\n          this.x = Math.min(this.x, e - 1), this.y = Math.min(this.y, i - 1), o && (this.y += o), this.savedY = Math.min(this.savedY, i - 1), this.savedX = Math.min(this.savedX, e - 1), this.scrollTop = 0;\n        }\n\n        if (this.scrollBottom = i - 1, this._isReflowEnabled && (this._reflow(e, i), this._cols > e)) for (n = 0; n < this.lines.length; n++) this.lines.get(n).resize(e, t.FILL_CHAR_DATA);\n        this._cols = e, this._rows = i;\n      }, Object.defineProperty(e.prototype, \"_isReflowEnabled\", {\n        get: function () {\n          return this._hasScrollback && !this._terminal.isWinptyCompatEnabled;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype._reflow = function (e, t) {\n        this._cols !== e && (e > this._cols ? this._reflowLarger(e, t) : this._reflowSmaller(e, t));\n      }, e.prototype._reflowLarger = function (e, t) {\n        var i = o.reflowLargerGetLinesToRemove(this.lines, this._cols, e, this.ybase + this.y);\n\n        if (i.length > 0) {\n          var r = o.reflowLargerCreateNewLayout(this.lines, i);\n          o.reflowLargerApplyNewLayout(this.lines, r.layout), this._reflowLargerAdjustViewport(e, t, r.countRemoved);\n        }\n      }, e.prototype._reflowLargerAdjustViewport = function (e, i, r) {\n        for (var n = r; n-- > 0;) 0 === this.ybase ? (this.y > 0 && this.y--, this.lines.length < i && this.lines.push(new s.BufferLine(e, t.FILL_CHAR_DATA))) : (this.ydisp === this.ybase && this.ydisp--, this.ybase--);\n      }, e.prototype._reflowSmaller = function (e, i) {\n        for (var r = [], n = 0, s = this.lines.length - 1; s >= 0; s--) {\n          var a = this.lines.get(s);\n\n          if (a.isWrapped || !(a.getTrimmedLength() <= e)) {\n            for (var l = [a]; a.isWrapped && s > 0;) a = this.lines.get(--s), l.unshift(a);\n\n            var h = this.ybase + this.y;\n\n            if (!(h >= s && h < s + l.length)) {\n              var c = l[l.length - 1].getTrimmedLength(),\n                  u = o.reflowSmallerGetNewLineLengths(l, this._cols, e),\n                  _ = u.length - l.length,\n                  f = void 0;\n\n              f = 0 === this.ybase && this.y !== this.lines.length - 1 ? Math.max(0, this.y - this.lines.maxLength + _) : Math.max(0, this.lines.length - this.lines.maxLength + _);\n\n              for (var d = [], p = 0; p < _; p++) {\n                var m = this.getBlankLine(t.DEFAULT_ATTR, !0);\n                d.push(m);\n              }\n\n              d.length > 0 && (r.push({\n                start: s + l.length + n,\n                newLines: d\n              }), n += d.length), l.push.apply(l, d);\n              var y = u.length - 1,\n                  g = u[y];\n              0 === g && (g = u[--y]);\n\n              for (var C = l.length - _ - 1, v = c; C >= 0;) {\n                var b = Math.min(v, g);\n\n                if (l[y].copyCellsFrom(l[C], v - b, g - b, b, !0), 0 === (g -= b) && (g = u[--y]), 0 === (v -= b)) {\n                  C--;\n                  var w = Math.max(C, 0);\n                  v = o.getWrappedLineTrimmedLength(l, w, this._cols);\n                }\n              }\n\n              for (p = 0; p < l.length; p++) u[p] < e && l[p].set(u[p], t.FILL_CHAR_DATA);\n\n              for (var L = _ - f; L-- > 0;) 0 === this.ybase ? this.y < i - 1 ? (this.y++, this.lines.pop()) : (this.ybase++, this.ydisp++) : this.ybase < Math.min(this.lines.maxLength, this.lines.length + n) - i && (this.ybase === this.ydisp && this.ydisp++, this.ybase++);\n            }\n          }\n        }\n\n        if (r.length > 0) {\n          var E = [],\n              S = [];\n\n          for (p = 0; p < this.lines.length; p++) S.push(this.lines.get(p));\n\n          var A = this.lines.length,\n              x = A - 1,\n              T = 0,\n              R = r[T];\n          this.lines.length = Math.min(this.lines.maxLength, this.lines.length + n);\n          var M = 0;\n\n          for (p = Math.min(this.lines.maxLength - 1, A + n - 1); p >= 0; p--) if (R && R.start > x + M) {\n            for (var k = R.newLines.length - 1; k >= 0; k--) this.lines.set(p--, R.newLines[k]);\n\n            p++, E.push({\n              index: x + 1,\n              amount: R.newLines.length\n            }), M += R.newLines.length, R = r[++T];\n          } else this.lines.set(p, S[x--]);\n\n          var H = 0;\n\n          for (p = E.length - 1; p >= 0; p--) E[p].index += H, this.lines.emit(\"insert\", E[p]), H += E[p].amount;\n\n          var D = Math.max(0, A + n - this.lines.maxLength);\n          D > 0 && this.lines.emitMayRemoveListeners(\"trim\", D);\n        }\n      }, e.prototype.stringIndexToBufferIndex = function (e, i, r) {\n        for (void 0 === r && (r = !1); i;) {\n          var n = this.lines.get(e);\n          if (!n) return [-1, -1];\n\n          for (var s = r ? n.getTrimmedLength() : n.length, o = 0; o < s; ++o) if (n.get(o)[t.CHAR_DATA_WIDTH_INDEX] && (i -= n.get(o)[t.CHAR_DATA_CHAR_INDEX].length || 1), i < 0) return [e, o];\n\n          e++;\n        }\n\n        return [e, 0];\n      }, e.prototype.translateBufferLineToString = function (e, t, i, r) {\n        void 0 === i && (i = 0);\n        var n = this.lines.get(e);\n        return n ? n.translateToString(t, i, r) : \"\";\n      }, e.prototype.getWrappedRangeForLine = function (e) {\n        for (var t = e, i = e; t > 0 && this.lines.get(t).isWrapped;) t--;\n\n        for (; i + 1 < this.lines.length && this.lines.get(i + 1).isWrapped;) i++;\n\n        return {\n          first: t,\n          last: i\n        };\n      }, e.prototype.setupTabStops = function (e) {\n        for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this._cols; e += this._terminal.options.tabStopWidth) this.tabs[e] = !0;\n      }, e.prototype.prevStop = function (e) {\n        for (null == e && (e = this.x); !this.tabs[--e] && e > 0;);\n\n        return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n      }, e.prototype.nextStop = function (e) {\n        for (null == e && (e = this.x); !this.tabs[++e] && e < this._cols;);\n\n        return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n      }, e.prototype.addMarker = function (e) {\n        var t = this,\n            i = new u(e);\n        return this.markers.push(i), i.register(this.lines.addDisposableListener(\"trim\", function (e) {\n          i.line -= e, i.line < 0 && i.dispose();\n        })), i.register(this.lines.addDisposableListener(\"insert\", function (e) {\n          i.line >= e.index && (i.line += e.amount);\n        })), i.register(this.lines.addDisposableListener(\"delete\", function (e) {\n          i.line >= e.index && i.line < e.index + e.amount && i.dispose(), i.line > e.index && (i.line -= e.amount);\n        })), i.register(i.addDisposableListener(\"dispose\", function () {\n          return t._removeMarker(i);\n        })), i;\n      }, e.prototype._removeMarker = function (e) {\n        this.markers.splice(this.markers.indexOf(e), 1);\n      }, e.prototype.iterator = function (e, t, i, r, n) {\n        return new _(this, e, t, i, r, n);\n      }, e;\n    }();\n\n    t.Buffer = c;\n\n    var u = function (e) {\n      function t(i) {\n        var r = e.call(this) || this;\n        return r.line = i, r._id = t._nextId++, r.isDisposed = !1, r;\n      }\n\n      return n(t, e), Object.defineProperty(t.prototype, \"id\", {\n        get: function () {\n          return this._id;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.dispose = function () {\n        this.isDisposed || (this.isDisposed = !0, this.emit(\"dispose\"), e.prototype.dispose.call(this));\n      }, t._nextId = 1, t;\n    }(l.EventEmitter);\n\n    t.Marker = u;\n\n    var _ = function () {\n      function e(e, t, i, r, n, s) {\n        void 0 === i && (i = 0), void 0 === r && (r = e.lines.length), void 0 === n && (n = 0), void 0 === s && (s = 0), this._buffer = e, this._trimRight = t, this._startIndex = i, this._endIndex = r, this._startOverscan = n, this._endOverscan = s, this._startIndex < 0 && (this._startIndex = 0), this._endIndex > this._buffer.lines.length && (this._endIndex = this._buffer.lines.length), this._current = this._startIndex;\n      }\n\n      return e.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n      }, e.prototype.next = function () {\n        var e = this._buffer.getWrappedRangeForLine(this._current);\n\n        e.first < this._startIndex - this._startOverscan && (e.first = this._startIndex - this._startOverscan), e.last > this._endIndex + this._endOverscan && (e.last = this._endIndex + this._endOverscan), e.first = Math.max(e.first, 0), e.last = Math.min(e.last, this._buffer.lines.length);\n\n        for (var t = \"\", i = e.first; i <= e.last; ++i) t += this._buffer.translateBufferLineToString(i, this._trimRight);\n\n        return this._current = e.last + 1, {\n          range: e,\n          content: t\n        };\n      }, e;\n    }();\n\n    t.BufferStringIterator = _;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.DEFAULT_COLOR = 256, t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.CHAR_ATLAS_CELL_SPACING = 1;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t._events = t._events || {}, t;\n      }\n\n      return n(t, e), t.prototype.on = function (e, t) {\n        this._events[e] = this._events[e] || [], this._events[e].push(t);\n      }, t.prototype.addDisposableListener = function (e, t) {\n        var i = this;\n        this.on(e, t);\n        var r = !1;\n        return {\n          dispose: function () {\n            r || (i.off(e, t), r = !0);\n          }\n        };\n      }, t.prototype.off = function (e, t) {\n        if (this._events[e]) for (var i = this._events[e], r = i.length; r--;) if (i[r] === t) return void i.splice(r, 1);\n      }, t.prototype.removeAllListeners = function (e) {\n        this._events[e] && delete this._events[e];\n      }, t.prototype.emit = function (e) {\n        for (var t = [], i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];\n\n        if (this._events[e]) for (var r = this._events[e], n = 0; n < r.length; n++) r[n].apply(this, t);\n      }, t.prototype.emitMayRemoveListeners = function (e) {\n        for (var t = [], i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];\n\n        if (this._events[e]) for (var r = this._events[e], n = r.length, s = 0; s < r.length; s++) r[s].apply(this, t), s -= n - r.length, n = r.length;\n      }, t.prototype.listeners = function (e) {\n        return this._events[e] || [];\n      }, t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._events = {};\n      }, t;\n    }(i(3).Disposable);\n\n    t.EventEmitter = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e() {\n        this._disposables = [], this._isDisposed = !1;\n      }\n\n      return e.prototype.dispose = function () {\n        this._isDisposed = !0, this._disposables.forEach(function (e) {\n          return e.dispose();\n        }), this._disposables.length = 0;\n      }, e.prototype.register = function (e) {\n        this._disposables.push(e);\n      }, e.prototype.unregister = function (e) {\n        var t = this._disposables.indexOf(e);\n\n        -1 !== t && this._disposables.splice(t, 1);\n      }, e;\n    }();\n\n    t.Disposable = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(1);\n    t.generateConfig = function (e, t, i, r) {\n      var n = {\n        foreground: r.foreground,\n        background: r.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: r.ansi.slice(0, 16)\n      };\n      return {\n        type: i.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: e,\n        scaledCharHeight: t,\n        fontFamily: i.options.fontFamily,\n        fontSize: i.options.fontSize,\n        fontWeight: i.options.fontWeight,\n        fontWeightBold: i.options.fontWeightBold,\n        allowTransparency: i.options.allowTransparency,\n        colors: n\n      };\n    }, t.configEquals = function (e, t) {\n      for (var i = 0; i < e.colors.ansi.length; i++) if (e.colors.ansi[i].rgba !== t.colors.ansi[i].rgba) return !1;\n\n      return e.type === t.type && e.devicePixelRatio === t.devicePixelRatio && e.fontFamily === t.fontFamily && e.fontSize === t.fontSize && e.fontWeight === t.fontWeight && e.fontWeightBold === t.fontWeightBold && e.allowTransparency === t.allowTransparency && e.scaledCharWidth === t.scaledCharWidth && e.scaledCharHeight === t.scaledCharHeight && e.colors.foreground === t.colors.foreground && e.colors.background === t.colors.background;\n    }, t.is256Color = function (e) {\n      return e < r.DEFAULT_COLOR;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = \"undefined\" == typeof navigator,\n        n = r ? \"node\" : navigator.userAgent,\n        s = r ? \"node\" : navigator.platform;\n\n    function o(e, t) {\n      return e.indexOf(t) >= 0;\n    }\n\n    t.isFirefox = !!~n.indexOf(\"Firefox\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(n), t.isMSIE = !!~n.indexOf(\"MSIE\") || !!~n.indexOf(\"Trident\"), t.isMac = o([\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"], s), t.isIpad = \"iPad\" === s, t.isIphone = \"iPhone\" === s, t.isMSWindows = o([\"Windows\", \"Win16\", \"Win32\", \"WinCE\"], s), t.isLinux = s.indexOf(\"Linux\") >= 0;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = i(29),\n        n = i(14),\n        s = function () {\n      function e(e) {\n        this._core = new r.Terminal(e);\n      }\n\n      return Object.defineProperty(e.prototype, \"element\", {\n        get: function () {\n          return this._core.element;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"textarea\", {\n        get: function () {\n          return this._core.textarea;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"rows\", {\n        get: function () {\n          return this._core.rows;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"cols\", {\n        get: function () {\n          return this._core.cols;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"markers\", {\n        get: function () {\n          return this._core.markers;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.blur = function () {\n        this._core.blur();\n      }, e.prototype.focus = function () {\n        this._core.focus();\n      }, e.prototype.on = function (e, t) {\n        this._core.on(e, t);\n      }, e.prototype.off = function (e, t) {\n        this._core.off(e, t);\n      }, e.prototype.emit = function (e, t) {\n        this._core.emit(e, t);\n      }, e.prototype.addDisposableListener = function (e, t) {\n        return this._core.addDisposableListener(e, t);\n      }, e.prototype.resize = function (e, t) {\n        this._core.resize(e, t);\n      }, e.prototype.writeln = function (e) {\n        this._core.writeln(e);\n      }, e.prototype.open = function (e) {\n        this._core.open(e);\n      }, e.prototype.attachCustomKeyEventHandler = function (e) {\n        this._core.attachCustomKeyEventHandler(e);\n      }, e.prototype.addCsiHandler = function (e, t) {\n        return this._core.addCsiHandler(e, t);\n      }, e.prototype.addOscHandler = function (e, t) {\n        return this._core.addOscHandler(e, t);\n      }, e.prototype.registerLinkMatcher = function (e, t, i) {\n        return this._core.registerLinkMatcher(e, t, i);\n      }, e.prototype.deregisterLinkMatcher = function (e) {\n        this._core.deregisterLinkMatcher(e);\n      }, e.prototype.registerCharacterJoiner = function (e) {\n        return this._core.registerCharacterJoiner(e);\n      }, e.prototype.deregisterCharacterJoiner = function (e) {\n        this._core.deregisterCharacterJoiner(e);\n      }, e.prototype.addMarker = function (e) {\n        return this._core.addMarker(e);\n      }, e.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n      }, e.prototype.getSelection = function () {\n        return this._core.getSelection();\n      }, e.prototype.clearSelection = function () {\n        this._core.clearSelection();\n      }, e.prototype.selectAll = function () {\n        this._core.selectAll();\n      }, e.prototype.selectLines = function (e, t) {\n        this._core.selectLines(e, t);\n      }, e.prototype.dispose = function () {\n        this._core.dispose();\n      }, e.prototype.destroy = function () {\n        this._core.destroy();\n      }, e.prototype.scrollLines = function (e) {\n        this._core.scrollLines(e);\n      }, e.prototype.scrollPages = function (e) {\n        this._core.scrollPages(e);\n      }, e.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n      }, e.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n      }, e.prototype.scrollToLine = function (e) {\n        this._core.scrollToLine(e);\n      }, e.prototype.clear = function () {\n        this._core.clear();\n      }, e.prototype.write = function (e) {\n        this._core.write(e);\n      }, e.prototype.getOption = function (e) {\n        return this._core.getOption(e);\n      }, e.prototype.setOption = function (e, t) {\n        this._core.setOption(e, t);\n      }, e.prototype.refresh = function (e, t) {\n        this._core.refresh(e, t);\n      }, e.prototype.reset = function () {\n        this._core.reset();\n      }, e.applyAddon = function (t) {\n        t.apply(e);\n      }, Object.defineProperty(e, \"strings\", {\n        get: function () {\n          return n;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e;\n    }();\n\n    t.Terminal = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.addDisposableDomListener = function (e, t, i, r) {\n      return e.addEventListener(t, i, r), {\n        dispose: function () {\n          i && (e.removeEventListener(t, i, r), e = null, i = null);\n        }\n      };\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      e.NUL = \"\\0\", e.SOH = \"\u0001\", e.STX = \"\u0002\", e.ETX = \"\u0003\", e.EOT = \"\u0004\", e.ENQ = \"\u0005\", e.ACK = \"\u0006\", e.BEL = \"\u0007\", e.BS = \"\\b\", e.HT = \"\\t\", e.LF = \"\\n\", e.VT = \"\\v\", e.FF = \"\\f\", e.CR = \"\\r\", e.SO = \"\u000e\", e.SI = \"\u000f\", e.DLE = \"\u0010\", e.DC1 = \"\u0011\", e.DC2 = \"\u0012\", e.DC3 = \"\u0013\", e.DC4 = \"\u0014\", e.NAK = \"\u0015\", e.SYN = \"\u0016\", e.ETB = \"\u0017\", e.CAN = \"\u0018\", e.EM = \"\u0019\", e.SUB = \"\u001a\", e.ESC = \"\u001b\", e.FS = \"\u001c\", e.GS = \"\u001d\", e.RS = \"\u001e\", e.US = \"\u001f\", e.SP = \" \", e.DEL = \"\";\n    }(t.C0 || (t.C0 = {})), function (e) {\n      e.PAD = \"\", e.HOP = \"\", e.BPH = \"\", e.NBH = \"\", e.IND = \"\", e.NEL = \"\", e.SSA = \"\", e.ESA = \"\", e.HTS = \"\", e.HTJ = \"\", e.VTS = \"\", e.PLD = \"\", e.PLU = \"\", e.RI = \"\", e.SS2 = \"\", e.SS3 = \"\", e.DCS = \"\", e.PU1 = \"\", e.PU2 = \"\", e.STS = \"\", e.CCH = \"\", e.MW = \"\", e.SPA = \"\", e.EPA = \"\", e.SOS = \"\", e.SGCI = \"\", e.SCI = \"\", e.CSI = \"\", e.ST = \"\", e.OSC = \"\", e.PM = \"\", e.APC = \"\";\n    }(t.C1 || (t.C1 = {}));\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = i(1),\n        n = i(18),\n        s = i(0),\n        o = i(4),\n        a = function () {\n      function e(e, t, i, r, n) {\n        this._container = e, this._alpha = r, this._colors = n, this._scaledCharWidth = 0, this._scaledCharHeight = 0, this._scaledCellWidth = 0, this._scaledCellHeight = 0, this._scaledCharLeft = 0, this._scaledCharTop = 0, this._currentGlyphIdentifier = {\n          chars: \"\",\n          code: 0,\n          bg: 0,\n          fg: 0,\n          bold: !1,\n          dim: !1,\n          italic: !1\n        }, this._canvas = document.createElement(\"canvas\"), this._canvas.classList.add(\"xterm-\" + t + \"-layer\"), this._canvas.style.zIndex = i.toString(), this._initCanvas(), this._container.appendChild(this._canvas);\n      }\n\n      return e.prototype.dispose = function () {\n        this._container.removeChild(this._canvas), this._charAtlas && this._charAtlas.dispose();\n      }, e.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext(\"2d\", {\n          alpha: this._alpha\n        }), this._alpha || this.clearAll();\n      }, e.prototype.onOptionsChanged = function (e) {}, e.prototype.onBlur = function (e) {}, e.prototype.onFocus = function (e) {}, e.prototype.onCursorMove = function (e) {}, e.prototype.onGridChanged = function (e, t, i) {}, e.prototype.onSelectionChanged = function (e, t, i, r) {\n        void 0 === r && (r = !1);\n      }, e.prototype.onThemeChanged = function (e, t) {\n        this._refreshCharAtlas(e, t);\n      }, e.prototype.setTransparency = function (e, t) {\n        if (t !== this._alpha) {\n          var i = this._canvas;\n          this._alpha = t, this._canvas = this._canvas.cloneNode(), this._initCanvas(), this._container.replaceChild(this._canvas, i), this._refreshCharAtlas(e, this._colors), this.onGridChanged(e, 0, e.rows - 1);\n        }\n      }, e.prototype._refreshCharAtlas = function (e, t) {\n        this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0 || (this._charAtlas = n.acquireCharAtlas(e, t, this._scaledCharWidth, this._scaledCharHeight), this._charAtlas.warmUp());\n      }, e.prototype.resize = function (e, t) {\n        this._scaledCellWidth = t.scaledCellWidth, this._scaledCellHeight = t.scaledCellHeight, this._scaledCharWidth = t.scaledCharWidth, this._scaledCharHeight = t.scaledCharHeight, this._scaledCharLeft = t.scaledCharLeft, this._scaledCharTop = t.scaledCharTop, this._canvas.width = t.scaledCanvasWidth, this._canvas.height = t.scaledCanvasHeight, this._canvas.style.width = t.canvasWidth + \"px\", this._canvas.style.height = t.canvasHeight + \"px\", this._alpha || this.clearAll(), this._refreshCharAtlas(e, this._colors);\n      }, e.prototype.fillCells = function (e, t, i, r) {\n        this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, i * this._scaledCellWidth, r * this._scaledCellHeight);\n      }, e.prototype.fillBottomLineAtCells = function (e, t, i) {\n        void 0 === i && (i = 1), this._ctx.fillRect(e * this._scaledCellWidth, (t + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, i * this._scaledCellWidth, window.devicePixelRatio);\n      }, e.prototype.fillLeftLineAtCell = function (e, t) {\n        this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n      }, e.prototype.strokeRectAtCell = function (e, t, i, r) {\n        this._ctx.lineWidth = window.devicePixelRatio, this._ctx.strokeRect(e * this._scaledCellWidth + window.devicePixelRatio / 2, t * this._scaledCellHeight + window.devicePixelRatio / 2, i * this._scaledCellWidth - window.devicePixelRatio, r * this._scaledCellHeight - window.devicePixelRatio);\n      }, e.prototype.clearAll = function () {\n        this._alpha ? this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height));\n      }, e.prototype.clearCells = function (e, t, i, r) {\n        this._alpha ? this._ctx.clearRect(e * this._scaledCellWidth, t * this._scaledCellHeight, i * this._scaledCellWidth, r * this._scaledCellHeight) : (this._ctx.fillStyle = this._colors.background.css, this._ctx.fillRect(e * this._scaledCellWidth, t * this._scaledCellHeight, i * this._scaledCellWidth, r * this._scaledCellHeight));\n      }, e.prototype.fillCharTrueColor = function (e, t, i, r) {\n        this._ctx.font = this._getFont(e, !1, !1), this._ctx.textBaseline = \"middle\", this._clipRow(e, r), this._ctx.fillText(t[s.CHAR_DATA_CHAR_INDEX], i * this._scaledCellWidth + this._scaledCharLeft, r * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n      }, e.prototype.drawChars = function (e, t, i, n, s, o, a, l, h, c, u) {\n        a += e.options.drawBoldTextInBrightColors && h && a < 8 && a !== r.INVERTED_DEFAULT_COLOR ? 8 : 0, this._currentGlyphIdentifier.chars = t, this._currentGlyphIdentifier.code = i, this._currentGlyphIdentifier.bg = l, this._currentGlyphIdentifier.fg = a, this._currentGlyphIdentifier.bold = h && e.options.enableBold, this._currentGlyphIdentifier.dim = c, this._currentGlyphIdentifier.italic = u, this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, s * this._scaledCellWidth + this._scaledCharLeft, o * this._scaledCellHeight + this._scaledCharTop) || this._drawUncachedChars(e, t, n, a, s, o, h && e.options.enableBold, c, u);\n      }, e.prototype._drawUncachedChars = function (e, t, i, n, s, a, l, h, c) {\n        this._ctx.save(), this._ctx.font = this._getFont(e, l, c), this._ctx.textBaseline = \"middle\", n === r.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._colors.background.css : o.is256Color(n) ? this._ctx.fillStyle = this._colors.ansi[n].css : this._ctx.fillStyle = this._colors.foreground.css, this._clipRow(e, a), h && (this._ctx.globalAlpha = r.DIM_OPACITY), this._ctx.fillText(t, s * this._scaledCellWidth + this._scaledCharLeft, a * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2), this._ctx.restore();\n      }, e.prototype._clipRow = function (e, t) {\n        this._ctx.beginPath(), this._ctx.rect(0, t * this._scaledCellHeight, e.cols * this._scaledCellWidth, this._scaledCellHeight), this._ctx.clip();\n      }, e.prototype._getFont = function (e, t, i) {\n        return (i ? \"italic\" : \"\") + \" \" + (t ? e.options.fontWeightBold : e.options.fontWeight) + \" \" + e.options.fontSize * window.devicePixelRatio + \"px \" + e.options.fontFamily;\n      }, e;\n    }();\n\n    t.BaseRenderLayer = a;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = l(\"#ffffff\"),\n        n = l(\"#000000\"),\n        s = l(\"#ffffff\"),\n        o = l(\"#000000\"),\n        a = {\n      css: \"rgba(255, 255, 255, 0.3)\",\n      rgba: 4294967159\n    };\n\n    function l(e) {\n      return {\n        css: e,\n        rgba: parseInt(e.slice(1), 16) << 8 | 255\n      };\n    }\n\n    function h(e) {\n      var t = e.toString(16);\n      return t.length < 2 ? \"0\" + t : t;\n    }\n\n    t.DEFAULT_ANSI_COLORS = function () {\n      for (var e = [l(\"#2e3436\"), l(\"#cc0000\"), l(\"#4e9a06\"), l(\"#c4a000\"), l(\"#3465a4\"), l(\"#75507b\"), l(\"#06989a\"), l(\"#d3d7cf\"), l(\"#555753\"), l(\"#ef2929\"), l(\"#8ae234\"), l(\"#fce94f\"), l(\"#729fcf\"), l(\"#ad7fa8\"), l(\"#34e2e2\"), l(\"#eeeeec\")], t = [0, 95, 135, 175, 215, 255], i = 0; i < 216; i++) {\n        var r = t[i / 36 % 6 | 0],\n            n = t[i / 6 % 6 | 0],\n            s = t[i % 6];\n        e.push({\n          css: \"#\" + h(r) + h(n) + h(s),\n          rgba: (r << 24 | n << 16 | s << 8 | 255) >>> 0\n        });\n      }\n\n      for (i = 0; i < 24; i++) {\n        var o = 8 + 10 * i,\n            a = h(o);\n        e.push({\n          css: \"#\" + a + a + a,\n          rgba: (o << 24 | o << 16 | o << 8 | 255) >>> 0\n        });\n      }\n\n      return e;\n    }();\n\n    var c = function () {\n      function e(e, i) {\n        this.allowTransparency = i;\n        var l = e.createElement(\"canvas\");\n        l.width = 1, l.height = 1, this._ctx = l.getContext(\"2d\"), this._ctx.globalCompositeOperation = \"copy\", this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1), this.colors = {\n          foreground: r,\n          background: n,\n          cursor: s,\n          cursorAccent: o,\n          selection: a,\n          ansi: t.DEFAULT_ANSI_COLORS.slice()\n        };\n      }\n\n      return e.prototype.setTheme = function (e) {\n        this.colors.foreground = this._parseColor(e.foreground, r), this.colors.background = this._parseColor(e.background, n), this.colors.cursor = this._parseColor(e.cursor, s, !0), this.colors.cursorAccent = this._parseColor(e.cursorAccent, o, !0), this.colors.selection = this._parseColor(e.selection, a, !0), this.colors.ansi[0] = this._parseColor(e.black, t.DEFAULT_ANSI_COLORS[0]), this.colors.ansi[1] = this._parseColor(e.red, t.DEFAULT_ANSI_COLORS[1]), this.colors.ansi[2] = this._parseColor(e.green, t.DEFAULT_ANSI_COLORS[2]), this.colors.ansi[3] = this._parseColor(e.yellow, t.DEFAULT_ANSI_COLORS[3]), this.colors.ansi[4] = this._parseColor(e.blue, t.DEFAULT_ANSI_COLORS[4]), this.colors.ansi[5] = this._parseColor(e.magenta, t.DEFAULT_ANSI_COLORS[5]), this.colors.ansi[6] = this._parseColor(e.cyan, t.DEFAULT_ANSI_COLORS[6]), this.colors.ansi[7] = this._parseColor(e.white, t.DEFAULT_ANSI_COLORS[7]), this.colors.ansi[8] = this._parseColor(e.brightBlack, t.DEFAULT_ANSI_COLORS[8]), this.colors.ansi[9] = this._parseColor(e.brightRed, t.DEFAULT_ANSI_COLORS[9]), this.colors.ansi[10] = this._parseColor(e.brightGreen, t.DEFAULT_ANSI_COLORS[10]), this.colors.ansi[11] = this._parseColor(e.brightYellow, t.DEFAULT_ANSI_COLORS[11]), this.colors.ansi[12] = this._parseColor(e.brightBlue, t.DEFAULT_ANSI_COLORS[12]), this.colors.ansi[13] = this._parseColor(e.brightMagenta, t.DEFAULT_ANSI_COLORS[13]), this.colors.ansi[14] = this._parseColor(e.brightCyan, t.DEFAULT_ANSI_COLORS[14]), this.colors.ansi[15] = this._parseColor(e.brightWhite, t.DEFAULT_ANSI_COLORS[15]);\n      }, e.prototype._parseColor = function (e, t, i) {\n        if (void 0 === i && (i = this.allowTransparency), !e) return t;\n        if (this._ctx.fillStyle = this._litmusColor, this._ctx.fillStyle = e, \"string\" != typeof this._ctx.fillStyle) return console.warn(\"Color: \" + e + \" is invalid using fallback \" + t.css), t;\n\n        this._ctx.fillRect(0, 0, 1, 1);\n\n        var r = this._ctx.getImageData(0, 0, 1, 1).data;\n\n        return i || 255 === r[3] ? {\n          css: e,\n          rgba: (r[0] << 24 | r[1] << 16 | r[2] << 8 | r[3]) >>> 0\n        } : (console.warn(\"Color: \" + e + \" is using transparency, but allowTransparency is false. Using fallback \" + t.css + \".\"), t);\n      }, e;\n    }();\n\n    t.ColorManager = c;\n  }, function (t, i) {\n    t.exports = e;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e() {\n        this._didWarmUp = !1;\n      }\n\n      return e.prototype.dispose = function () {}, e.prototype.warmUp = function () {\n        this._didWarmUp || (this._doWarmUp(), this._didWarmUp = !0);\n      }, e.prototype._doWarmUp = function () {}, e.prototype.beginFrame = function () {}, e;\n    }();\n\n    t.default = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e, t) {\n        this._terminal = e, this._callback = t, this._animationFrame = null;\n      }\n\n      return e.prototype.dispose = function () {\n        this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);\n      }, e.prototype.refresh = function (e, t) {\n        var i = this;\n        e = null != e ? e : 0, t = null != t ? t : this._terminal.rows - 1;\n        var r = void 0 !== this._rowStart && null !== this._rowStart,\n            n = void 0 !== this._rowEnd && null !== this._rowEnd;\n        this._rowStart = r ? Math.min(this._rowStart, e) : e, this._rowEnd = n ? Math.max(this._rowEnd, t) : t, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function () {\n          return i._innerRefresh();\n        }));\n      }, e.prototype._innerRefresh = function () {\n        this._rowStart = Math.max(this._rowStart, 0), this._rowEnd = Math.min(this._rowEnd, this._terminal.rows - 1), this._callback(this._rowStart, this._rowEnd), this._rowStart = null, this._rowEnd = null, this._animationFrame = null;\n      }, e;\n    }();\n\n    t.RenderDebouncer = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.blankLine = \"Blank line\", t.promptLabel = \"Terminal input\", t.tooMuchOutput = \"Too much output to announce, navigate to rows manually to read\";\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(16);\n    t.wcwidth = function (e) {\n      var t = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531]],\n          i = [[68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]];\n      var n = 0 | e.control,\n          s = new Uint8Array(65536);\n      r.fill(s, 1), s[0] = e.nul, r.fill(s, e.control, 1, 32), r.fill(s, e.control, 127, 160), r.fill(s, 2, 4352, 4448), s[9001] = 2, s[9002] = 2, r.fill(s, 2, 11904, 42192), s[12351] = 1, r.fill(s, 2, 44032, 55204), r.fill(s, 2, 63744, 64256), r.fill(s, 2, 65040, 65050), r.fill(s, 2, 65072, 65136), r.fill(s, 2, 65280, 65377), r.fill(s, 2, 65504, 65511);\n\n      for (var o = 0; o < t.length; ++o) r.fill(s, 0, t[o][0], t[o][1] + 1);\n\n      return function (e) {\n        return e < 32 ? 0 | n : e < 127 ? 1 : e < 65536 ? s[e] : function (e, t) {\n          var i,\n              r = 0,\n              n = t.length - 1;\n          if (e < t[0][0] || e > t[n][1]) return !1;\n\n          for (; n >= r;) if (e > t[i = r + n >> 1][1]) r = i + 1;else {\n            if (!(e < t[i][0])) return !0;\n            n = i - 1;\n          }\n\n          return !1;\n        }(t = e, i) ? 0 : t >= 131072 && t <= 196605 || t >= 196608 && t <= 262141 ? 2 : 1;\n        var t;\n      };\n    }({\n      nul: 0,\n      control: 0\n    }), t.getStringCellWidth = function (e) {\n      for (var i = 0, r = e.length, n = 0; n < r; ++n) {\n        var s = e.charCodeAt(n);\n\n        if (55296 <= s && s <= 56319) {\n          if (++n >= r) return i + t.wcwidth(s);\n          var o = e.charCodeAt(n);\n          56320 <= o && o <= 57343 ? s = 1024 * (s - 55296) + o - 56320 + 65536 : i += t.wcwidth(o);\n        }\n\n        i += t.wcwidth(s);\n      }\n\n      return i;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    function r(e, t, i, r) {\n      if (void 0 === i && (i = 0), void 0 === r && (r = e.length), i >= e.length) return e;\n      i = (e.length + i) % e.length, r = r >= e.length ? e.length : (e.length + r) % e.length;\n\n      for (var n = i; n < r; ++n) e[n] = t;\n\n      return e;\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.fill = function (e, t, i, n) {\n      return e.fill ? e.fill(t, i, n) : r(e, t, i, n);\n    }, t.fillFallback = r, t.concat = function (e, t) {\n      var i = new e.constructor(e.length + t.length);\n      return i.set(e), i.set(t, e.length), i;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e() {\n        this._interim = 0;\n      }\n\n      return e.prototype.clear = function () {\n        this._interim = 0;\n      }, e.prototype.decode = function (e, t) {\n        var i = e.length;\n        if (!i) return 0;\n        var r = 0,\n            n = 0;\n        this._interim && (56320 <= (a = e.charCodeAt(n++)) && a <= 57343 ? t[r++] = 1024 * (this._interim - 55296) + a - 56320 + 65536 : (t[r++] = this._interim, t[r++] = a), this._interim = 0);\n\n        for (var s = n; s < i; ++s) {\n          var o = e.charCodeAt(s);\n\n          if (55296 <= o && o <= 56319) {\n            if (++s >= i) return this._interim = o, r;\n            var a;\n            56320 <= (a = e.charCodeAt(s)) && a <= 57343 ? t[r++] = 1024 * (o - 55296) + a - 56320 + 65536 : (t[r++] = o, t[r++] = a);\n          } else t[r++] = o;\n        }\n\n        return r;\n      }, e;\n    }();\n\n    t.StringToUtf32 = r, t.stringFromCodePoint = function (e) {\n      return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n    }, t.utf32ToString = function (e, t, i) {\n      void 0 === t && (t = 0), void 0 === i && (i = e.length);\n\n      for (var r = \"\", n = t; n < i; ++n) {\n        var s = e[n];\n        s > 65535 ? (s -= 65536, r += String.fromCharCode(55296 + (s >> 10)) + String.fromCharCode(s % 1024 + 56320)) : r += String.fromCharCode(s);\n      }\n\n      return r;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(4),\n        n = i(43),\n        s = i(45),\n        o = i(46),\n        a = {\n      none: s.default,\n      static: o.default,\n      dynamic: n.default\n    },\n        l = [];\n    t.acquireCharAtlas = function (e, t, i, n) {\n      for (var s = r.generateConfig(i, n, e, t), o = 0; o < l.length; o++) {\n        var h = (c = l[o]).ownedBy.indexOf(e);\n\n        if (h >= 0) {\n          if (r.configEquals(c.config, s)) return c.atlas;\n          1 === c.ownedBy.length ? (c.atlas.dispose(), l.splice(o, 1)) : c.ownedBy.splice(h, 1);\n          break;\n        }\n      }\n\n      for (o = 0; o < l.length; o++) {\n        var c = l[o];\n        if (r.configEquals(c.config, s)) return c.ownedBy.push(e), c.atlas;\n      }\n\n      var u = {\n        atlas: new a[e.options.experimentalCharAtlas](document, s),\n        config: s,\n        ownedBy: [e]\n      };\n      return l.push(u), u.atlas;\n    }, t.removeTerminalFromCache = function (e) {\n      for (var t = 0; t < l.length; t++) {\n        var i = l[t].ownedBy.indexOf(e);\n\n        if (-1 !== i) {\n          1 === l[t].ownedBy.length ? (l[t].atlas.dispose(), l.splice(t, 1)) : l[t].ownedBy.splice(i, 1);\n          break;\n        }\n      }\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(5),\n        n = i(1);\n\n    function s(e, t) {\n      for (var i = !0, r = t.rgba >>> 24, n = t.rgba >>> 16 & 255, s = t.rgba >>> 8 & 255, o = 0; o < e.data.length; o += 4) e.data[o] === r && e.data[o + 1] === n && e.data[o + 2] === s ? e.data[o + 3] = 0 : i = !1;\n\n      return i;\n    }\n\n    function o(e, t) {\n      return e + \" \" + t.fontSize * t.devicePixelRatio + \"px \" + t.fontFamily;\n    }\n\n    t.generateStaticCharAtlasTexture = function (e, t, i) {\n      var a = i.scaledCharWidth + n.CHAR_ATLAS_CELL_SPACING,\n          l = i.scaledCharHeight + n.CHAR_ATLAS_CELL_SPACING,\n          h = t(255 * a, 34 * l),\n          c = h.getContext(\"2d\", {\n        alpha: i.allowTransparency\n      });\n      c.fillStyle = i.colors.background.css, c.fillRect(0, 0, h.width, h.height), c.save(), c.fillStyle = i.colors.foreground.css, c.font = o(i.fontWeight, i), c.textBaseline = \"middle\";\n\n      for (var u = 0; u < 256; u++) c.save(), c.beginPath(), c.rect(u * a, 0, a, l), c.clip(), c.fillText(String.fromCharCode(u), u * a, l / 2), c.restore();\n\n      for (c.save(), c.font = o(i.fontWeightBold, i), u = 0; u < 256; u++) c.save(), c.beginPath(), c.rect(u * a, l, a, l), c.clip(), c.fillText(String.fromCharCode(u), u * a, 1.5 * l), c.restore();\n\n      c.restore(), c.font = o(i.fontWeight, i);\n\n      for (var _ = 0; _ < 16; _++) {\n        var f = (_ + 2) * l;\n\n        for (u = 0; u < 256; u++) c.save(), c.beginPath(), c.rect(u * a, f, a, l), c.clip(), c.fillStyle = i.colors.ansi[_].css, c.fillText(String.fromCharCode(u), u * a, f + l / 2), c.restore();\n      }\n\n      for (c.font = o(i.fontWeightBold, i), _ = 0; _ < 16; _++) for (f = (_ + 2 + 16) * l, u = 0; u < 256; u++) c.save(), c.beginPath(), c.rect(u * a, f, a, l), c.clip(), c.fillStyle = i.colors.ansi[_].css, c.fillText(String.fromCharCode(u), u * a, f + l / 2), c.restore();\n\n      if (c.restore(), !(\"createImageBitmap\" in e) || r.isFirefox || r.isSafari) return h;\n      var d = c.getImageData(0, 0, h.width, h.height);\n      return s(d, i.colors.background), e.createImageBitmap(d);\n    }, t.clearColor = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t() {\n        return null !== e && e.apply(this, arguments) || this;\n      }\n\n      return n(t, e), t.prototype.setListener = function (e) {\n        var t = this;\n        this._listener && this.clearListener(), this._listener = e, this._outerListener = function () {\n          t._listener(window.devicePixelRatio, t._currentDevicePixelRatio), t._updateDpr();\n        }, this._updateDpr();\n      }, t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this.clearListener();\n      }, t.prototype._updateDpr = function () {\n        this._resolutionMediaMatchList && this._resolutionMediaMatchList.removeListener(this._outerListener), this._currentDevicePixelRatio = window.devicePixelRatio, this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\"), this._resolutionMediaMatchList.addListener(this._outerListener);\n      }, t.prototype.clearListener = function () {\n        this._listener && (this._resolutionMediaMatchList.removeListener(this._outerListener), this._listener = null, this._outerListener = null);\n      }, t;\n    }(i(3).Disposable);\n\n    t.ScreenDprMonitor = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(3),\n        o = i(7),\n        a = function (e) {\n      function t(t) {\n        var i = e.call(this) || this;\n        return i._terminal = t, i._zones = [], i._areZonesActive = !1, i._tooltipTimeout = null, i._currentZone = null, i._lastHoverCoords = [null, null], i.register(o.addDisposableDomListener(i._terminal.element, \"mousedown\", function (e) {\n          return i._onMouseDown(e);\n        })), i._mouseMoveListener = function (e) {\n          return i._onMouseMove(e);\n        }, i._mouseLeaveListener = function (e) {\n          return i._onMouseLeave(e);\n        }, i._clickListener = function (e) {\n          return i._onClick(e);\n        }, i;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._deactivate();\n      }, t.prototype.add = function (e) {\n        this._zones.push(e), 1 === this._zones.length && this._activate();\n      }, t.prototype.clearAll = function (e, t) {\n        if (0 !== this._zones.length) {\n          t || (e = 0, t = this._terminal.rows - 1);\n\n          for (var i = 0; i < this._zones.length; i++) {\n            var r = this._zones[i];\n            (r.y1 > e && r.y1 <= t + 1 || r.y2 > e && r.y2 <= t + 1 || r.y1 < e && r.y2 > t + 1) && (this._currentZone && this._currentZone === r && (this._currentZone.leaveCallback(), this._currentZone = null), this._zones.splice(i--, 1));\n          }\n\n          0 === this._zones.length && this._deactivate();\n        }\n      }, t.prototype._activate = function () {\n        this._areZonesActive || (this._areZonesActive = !0, this._terminal.element.addEventListener(\"mousemove\", this._mouseMoveListener), this._terminal.element.addEventListener(\"mouseleave\", this._mouseLeaveListener), this._terminal.element.addEventListener(\"click\", this._clickListener));\n      }, t.prototype._deactivate = function () {\n        this._areZonesActive && (this._areZonesActive = !1, this._terminal.element.removeEventListener(\"mousemove\", this._mouseMoveListener), this._terminal.element.removeEventListener(\"mouseleave\", this._mouseLeaveListener), this._terminal.element.removeEventListener(\"click\", this._clickListener));\n      }, t.prototype._onMouseMove = function (e) {\n        this._lastHoverCoords[0] === e.pageX && this._lastHoverCoords[1] === e.pageY || (this._onHover(e), this._lastHoverCoords = [e.pageX, e.pageY]);\n      }, t.prototype._onHover = function (e) {\n        var t = this,\n            i = this._findZoneEventAt(e);\n\n        i !== this._currentZone && (this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = null, this._tooltipTimeout && clearTimeout(this._tooltipTimeout)), i && (this._currentZone = i, i.hoverCallback && i.hoverCallback(e), this._tooltipTimeout = setTimeout(function () {\n          return t._onTooltip(e);\n        }, 500)));\n      }, t.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n\n        var t = this._findZoneEventAt(e);\n\n        t && t.tooltipCallback && t.tooltipCallback(e);\n      }, t.prototype._onMouseDown = function (e) {\n        if (this._areZonesActive) {\n          var t = this._findZoneEventAt(e);\n\n          t && t.willLinkActivate(e) && (e.preventDefault(), e.stopImmediatePropagation());\n        }\n      }, t.prototype._onMouseLeave = function (e) {\n        this._currentZone && (this._currentZone.leaveCallback(), this._currentZone = null, this._tooltipTimeout && clearTimeout(this._tooltipTimeout));\n      }, t.prototype._onClick = function (e) {\n        var t = this._findZoneEventAt(e);\n\n        t && (t.clickCallback(e), e.preventDefault(), e.stopImmediatePropagation());\n      }, t.prototype._findZoneEventAt = function (e) {\n        var t = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n\n        if (!t) return null;\n\n        for (var i = t[0], r = t[1], n = 0; n < this._zones.length; n++) {\n          var s = this._zones[n];\n\n          if (s.y1 === s.y2) {\n            if (r === s.y1 && i >= s.x1 && i < s.x2) return s;\n          } else if (r === s.y1 && i >= s.x1 || r === s.y2 && i < s.x2 || r > s.y1 && r < s.y2) return s;\n        }\n\n        return null;\n      }, t;\n    }(s.Disposable);\n\n    t.MouseZoneManager = a;\n\n    var l = function () {\n      return function (e, t, i, r, n, s, o, a, l) {\n        this.x1 = e, this.y1 = t, this.x2 = i, this.y2 = r, this.clickCallback = n, this.hoverCallback = s, this.tooltipCallback = o, this.leaveCallback = a, this.willLinkActivate = l;\n      };\n    }();\n\n    t.MouseZone = l;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e) {\n        this._renderer = e;\n      }\n\n      return e.prototype.setRenderer = function (e) {\n        this._renderer = e;\n      }, e.getCoordsRelativeToElement = function (e, t) {\n        var i = t.getBoundingClientRect();\n        return [e.clientX - i.left, e.clientY - i.top];\n      }, e.prototype.getCoords = function (t, i, r, n, s, o) {\n        if (!r.width || !r.height) return null;\n        var a = e.getCoordsRelativeToElement(t, i);\n        return a ? (a[0] = Math.ceil((a[0] + (o ? this._renderer.dimensions.actualCellWidth / 2 : 0)) / this._renderer.dimensions.actualCellWidth), a[1] = Math.ceil(a[1] / this._renderer.dimensions.actualCellHeight), a[0] = Math.min(Math.max(a[0], 1), n + (o ? 1 : 0)), a[1] = Math.min(Math.max(a[1], 1), s), a) : null;\n      }, e.prototype.getRawByteCoords = function (e, t, i, r, n) {\n        var s = this.getCoords(e, t, i, r, n),\n            o = s[0],\n            a = s[1];\n        return {\n          x: o += 32,\n          y: a += 32\n        };\n      }, e;\n    }();\n\n    t.MouseHelper = r;\n  }, function (e, i) {\n    e.exports = t;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    (function (e) {\n      var i = function () {\n        if (\"undefined\" != typeof Map) return Map;\n\n        function e(e, t) {\n          var i = -1;\n          return e.some(function (e, r) {\n            return e[0] === t && (i = r, !0);\n          }), i;\n        }\n\n        return function () {\n          function t() {\n            this.__entries__ = [];\n          }\n\n          return Object.defineProperty(t.prototype, \"size\", {\n            get: function () {\n              return this.__entries__.length;\n            },\n            enumerable: !0,\n            configurable: !0\n          }), t.prototype.get = function (t) {\n            var i = e(this.__entries__, t),\n                r = this.__entries__[i];\n            return r && r[1];\n          }, t.prototype.set = function (t, i) {\n            var r = e(this.__entries__, t);\n            ~r ? this.__entries__[r][1] = i : this.__entries__.push([t, i]);\n          }, t.prototype.delete = function (t) {\n            var i = this.__entries__,\n                r = e(i, t);\n            ~r && i.splice(r, 1);\n          }, t.prototype.has = function (t) {\n            return !!~e(this.__entries__, t);\n          }, t.prototype.clear = function () {\n            this.__entries__.splice(0);\n          }, t.prototype.forEach = function (e, t) {\n            void 0 === t && (t = null);\n\n            for (var i = 0, r = this.__entries__; i < r.length; i++) {\n              var n = r[i];\n              e.call(t, n[1], n[0]);\n            }\n          }, t;\n        }();\n      }(),\n          r = \"undefined\" != typeof window && \"undefined\" != typeof document && window.document === document,\n          n = void 0 !== e && e.Math === Math ? e : \"undefined\" != typeof self && self.Math === Math ? self : \"undefined\" != typeof window && window.Math === Math ? window : Function(\"return this\")(),\n          s = \"function\" == typeof requestAnimationFrame ? requestAnimationFrame.bind(n) : function (e) {\n        return setTimeout(function () {\n          return e(Date.now());\n        }, 1e3 / 60);\n      },\n          o = 2;\n\n      var a = 20,\n          l = [\"top\", \"right\", \"bottom\", \"left\", \"width\", \"height\", \"size\", \"weight\"],\n          h = \"undefined\" != typeof MutationObserver,\n          c = function () {\n        function e() {\n          this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = function (e, t) {\n            var i = !1,\n                r = !1,\n                n = 0;\n\n            function a() {\n              i && (i = !1, e()), r && h();\n            }\n\n            function l() {\n              s(a);\n            }\n\n            function h() {\n              var e = Date.now();\n\n              if (i) {\n                if (e - n < o) return;\n                r = !0;\n              } else i = !0, r = !1, setTimeout(l, t);\n\n              n = e;\n            }\n\n            return h;\n          }(this.refresh.bind(this), a);\n        }\n\n        return e.prototype.addObserver = function (e) {\n          ~this.observers_.indexOf(e) || this.observers_.push(e), this.connected_ || this.connect_();\n        }, e.prototype.removeObserver = function (e) {\n          var t = this.observers_,\n              i = t.indexOf(e);\n          ~i && t.splice(i, 1), !t.length && this.connected_ && this.disconnect_();\n        }, e.prototype.refresh = function () {\n          this.updateObservers_() && this.refresh();\n        }, e.prototype.updateObservers_ = function () {\n          var e = this.observers_.filter(function (e) {\n            return e.gatherActive(), e.hasActive();\n          });\n          return e.forEach(function (e) {\n            return e.broadcastActive();\n          }), e.length > 0;\n        }, e.prototype.connect_ = function () {\n          r && !this.connected_ && (document.addEventListener(\"transitionend\", this.onTransitionEnd_), window.addEventListener(\"resize\", this.refresh), h ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {\n            attributes: !0,\n            childList: !0,\n            characterData: !0,\n            subtree: !0\n          })) : (document.addEventListener(\"DOMSubtreeModified\", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0);\n        }, e.prototype.disconnect_ = function () {\n          r && this.connected_ && (document.removeEventListener(\"transitionend\", this.onTransitionEnd_), window.removeEventListener(\"resize\", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener(\"DOMSubtreeModified\", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1);\n        }, e.prototype.onTransitionEnd_ = function (e) {\n          var t = e.propertyName,\n              i = void 0 === t ? \"\" : t;\n          l.some(function (e) {\n            return !!~i.indexOf(e);\n          }) && this.refresh();\n        }, e.getInstance = function () {\n          return this.instance_ || (this.instance_ = new e()), this.instance_;\n        }, e.instance_ = null, e;\n      }(),\n          u = function (e, t) {\n        for (var i = 0, r = Object.keys(t); i < r.length; i++) {\n          var n = r[i];\n          Object.defineProperty(e, n, {\n            value: t[n],\n            enumerable: !1,\n            writable: !1,\n            configurable: !0\n          });\n        }\n\n        return e;\n      },\n          _ = function (e) {\n        return e && e.ownerDocument && e.ownerDocument.defaultView || n;\n      },\n          f = C(0, 0, 0, 0);\n\n      function d(e) {\n        return parseFloat(e) || 0;\n      }\n\n      function p(e) {\n        for (var t = [], i = 1; i < arguments.length; i++) t[i - 1] = arguments[i];\n\n        return t.reduce(function (t, i) {\n          return t + d(e[\"border-\" + i + \"-width\"]);\n        }, 0);\n      }\n\n      function m(e) {\n        var t = e.clientWidth,\n            i = e.clientHeight;\n        if (!t && !i) return f;\n\n        var r = _(e).getComputedStyle(e),\n            n = function (e) {\n          for (var t = {}, i = 0, r = [\"top\", \"right\", \"bottom\", \"left\"]; i < r.length; i++) {\n            var n = r[i],\n                s = e[\"padding-\" + n];\n            t[n] = d(s);\n          }\n\n          return t;\n        }(r),\n            s = n.left + n.right,\n            o = n.top + n.bottom,\n            a = d(r.width),\n            l = d(r.height);\n\n        if (\"border-box\" === r.boxSizing && (Math.round(a + s) !== t && (a -= p(r, \"left\", \"right\") + s), Math.round(l + o) !== i && (l -= p(r, \"top\", \"bottom\") + o)), !function (e) {\n          return e === _(e).document.documentElement;\n        }(e)) {\n          var h = Math.round(a + s) - t,\n              c = Math.round(l + o) - i;\n          1 !== Math.abs(h) && (a -= h), 1 !== Math.abs(c) && (l -= c);\n        }\n\n        return C(n.left, n.top, a, l);\n      }\n\n      var y = \"undefined\" != typeof SVGGraphicsElement ? function (e) {\n        return e instanceof _(e).SVGGraphicsElement;\n      } : function (e) {\n        return e instanceof _(e).SVGElement && \"function\" == typeof e.getBBox;\n      };\n\n      function g(e) {\n        return r ? y(e) ? function (e) {\n          var t = e.getBBox();\n          return C(0, 0, t.width, t.height);\n        }(e) : m(e) : f;\n      }\n\n      function C(e, t, i, r) {\n        return {\n          x: e,\n          y: t,\n          width: i,\n          height: r\n        };\n      }\n\n      var v = function () {\n        function e(e) {\n          this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = C(0, 0, 0, 0), this.target = e;\n        }\n\n        return e.prototype.isActive = function () {\n          var e = g(this.target);\n          return this.contentRect_ = e, e.width !== this.broadcastWidth || e.height !== this.broadcastHeight;\n        }, e.prototype.broadcastRect = function () {\n          var e = this.contentRect_;\n          return this.broadcastWidth = e.width, this.broadcastHeight = e.height, e;\n        }, e;\n      }(),\n          b = function () {\n        return function (e, t) {\n          var i,\n              r,\n              n,\n              s,\n              o,\n              a,\n              l,\n              h = (r = (i = t).x, n = i.y, s = i.width, o = i.height, a = \"undefined\" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object, l = Object.create(a.prototype), u(l, {\n            x: r,\n            y: n,\n            width: s,\n            height: o,\n            top: n,\n            right: r + s,\n            bottom: o + n,\n            left: r\n          }), l);\n          u(this, {\n            target: e,\n            contentRect: h\n          });\n        };\n      }(),\n          w = function () {\n        function e(e, t, r) {\n          if (this.activeObservations_ = [], this.observations_ = new i(), \"function\" != typeof e) throw new TypeError(\"The callback provided as parameter 1 is not a function.\");\n          this.callback_ = e, this.controller_ = t, this.callbackCtx_ = r;\n        }\n\n        return e.prototype.observe = function (e) {\n          if (!arguments.length) throw new TypeError(\"1 argument required, but only 0 present.\");\n\n          if (\"undefined\" != typeof Element && Element instanceof Object) {\n            if (!(e instanceof _(e).Element)) throw new TypeError('parameter 1 is not of type \"Element\".');\n            var t = this.observations_;\n            t.has(e) || (t.set(e, new v(e)), this.controller_.addObserver(this), this.controller_.refresh());\n          }\n        }, e.prototype.unobserve = function (e) {\n          if (!arguments.length) throw new TypeError(\"1 argument required, but only 0 present.\");\n\n          if (\"undefined\" != typeof Element && Element instanceof Object) {\n            if (!(e instanceof _(e).Element)) throw new TypeError('parameter 1 is not of type \"Element\".');\n            var t = this.observations_;\n            t.has(e) && (t.delete(e), t.size || this.controller_.removeObserver(this));\n          }\n        }, e.prototype.disconnect = function () {\n          this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);\n        }, e.prototype.gatherActive = function () {\n          var e = this;\n          this.clearActive(), this.observations_.forEach(function (t) {\n            t.isActive() && e.activeObservations_.push(t);\n          });\n        }, e.prototype.broadcastActive = function () {\n          if (this.hasActive()) {\n            var e = this.callbackCtx_,\n                t = this.activeObservations_.map(function (e) {\n              return new b(e.target, e.broadcastRect());\n            });\n            this.callback_.call(e, t, e), this.clearActive();\n          }\n        }, e.prototype.clearActive = function () {\n          this.activeObservations_.splice(0);\n        }, e.prototype.hasActive = function () {\n          return this.activeObservations_.length > 0;\n        }, e;\n      }(),\n          L = \"undefined\" != typeof WeakMap ? new WeakMap() : new i(),\n          E = function () {\n        return function e(t) {\n          if (!(this instanceof e)) throw new TypeError(\"Cannot call a class as a function.\");\n          if (!arguments.length) throw new TypeError(\"1 argument required, but only 0 present.\");\n          var i = c.getInstance(),\n              r = new w(t, i, this);\n          L.set(this, r);\n        };\n      }();\n\n      [\"observe\", \"unobserve\", \"disconnect\"].forEach(function (e) {\n        E.prototype[e] = function () {\n          var t;\n          return (t = L.get(this))[e].apply(t, arguments);\n        };\n      });\n      var S = void 0 !== n.ResizeObserver ? n.ResizeObserver : E;\n      t.a = S;\n    }).call(this, i(28));\n  }, function (e, t, i) {\n    \"use strict\";\n\n    function r(e) {\n      if (!e.element.parentElement) return null;\n\n      var t = window.getComputedStyle(e.element.parentElement),\n          i = parseInt(t.getPropertyValue(\"height\")),\n          r = Math.max(0, parseInt(t.getPropertyValue(\"width\"))),\n          n = window.getComputedStyle(e.element),\n          s = i - (parseInt(n.getPropertyValue(\"padding-top\")) + parseInt(n.getPropertyValue(\"padding-bottom\"))),\n          o = r - (parseInt(n.getPropertyValue(\"padding-right\")) + parseInt(n.getPropertyValue(\"padding-left\"))) - e._core.viewport.scrollBarWidth;\n\n      return {\n        cols: Math.floor(o / e._core.renderer.dimensions.actualCellWidth),\n        rows: Math.floor(s / e._core.renderer.dimensions.actualCellHeight)\n      };\n    }\n\n    function n(e) {\n      var t = r(e);\n      t && (e.rows === t.rows && e.cols === t.cols || (e._core.renderer.clear(), e.resize(t.cols, t.rows)));\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.proposeGeometry = r, t.fit = n, t.apply = function (e) {\n      e.prototype.proposeGeometry = function () {\n        return r(this);\n      }, e.prototype.fit = function () {\n        n(this);\n      };\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = new RegExp(\"(?:^|[^\\\\da-z\\\\.-]+)((https?:\\\\/\\\\/)((([\\\\da-z\\\\.-]+)\\\\.([a-z\\\\.]{2,6}))|((\\\\d{1,3}\\\\.){3}\\\\d{1,3})|(localhost))(:\\\\d{1,5})?(\\\\/[\\\\/\\\\w\\\\.\\\\-%~:]*)*([^:\\\"'\\\\s])(\\\\?[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&'*+,:;~\\\\=\\\\.\\\\-]*)?(#[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&'*+,:;~\\\\=\\\\.\\\\-]*)?)($|[^\\\\/\\\\w\\\\.\\\\-%]+)\");\n\n    function n(e, t) {\n      window.open(t, \"_blank\");\n    }\n\n    function s(e, t, i) {\n      void 0 === t && (t = n), void 0 === i && (i = {}), i.matchIndex = 1, e.registerLinkMatcher(r, t, i);\n    }\n\n    t.webLinksInit = s, t.apply = function (e) {\n      e.prototype.webLinksInit = function (e, t) {\n        s(this, e, t);\n      };\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = 3,\n        n = 0,\n        s = 32;\n\n    function o(e) {\n      var t = e;\n      [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].indexOf(navigator.platform) >= 0 && (t._core.isWinptyCompatEnabled = !0, t.on(\"linefeed\", function () {\n        var e = t._core.buffer.lines.get(t._core.buffer.ybase + t._core.buffer.y - 1).get(t.cols - 1);\n\n        e[r] !== n && e[r] !== s && (t._core.buffer.lines.get(t._core.buffer.ybase + t._core.buffer.y).isWrapped = !0);\n      }));\n    }\n\n    t.winptyCompatInit = o, t.apply = function (e) {\n      e.prototype.winptyCompatInit = function () {\n        o(this);\n      };\n    };\n  }, function (e, t) {\n    var i;\n\n    i = function () {\n      return this;\n    }();\n\n    try {\n      i = i || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (i = window);\n    }\n\n    e.exports = i;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(30),\n        o = i(0),\n        a = i(34),\n        l = i(2),\n        h = i(35),\n        c = i(36),\n        u = i(8),\n        _ = i(37),\n        f = i(40),\n        d = i(51),\n        p = i(52),\n        m = i(55),\n        y = i(5),\n        g = i(7),\n        C = i(14),\n        v = i(22),\n        b = i(56),\n        w = i(10),\n        L = i(21),\n        E = i(57),\n        S = i(20),\n        A = i(18),\n        x = i(58),\n        T = i(60),\n        R = i(61),\n        M = \"undefined\" != typeof window ? window.document : null,\n        k = [\"cols\", \"rows\"],\n        H = {\n      cols: 80,\n      rows: 24,\n      convertEol: !1,\n      termName: \"xterm\",\n      cursorBlink: !1,\n      cursorStyle: \"block\",\n      bellSound: b.DEFAULT_BELL_SOUND,\n      bellStyle: \"none\",\n      drawBoldTextInBrightColors: !0,\n      enableBold: !0,\n      experimentalCharAtlas: \"static\",\n      fontFamily: \"courier-new, courier, monospace\",\n      fontSize: 15,\n      fontWeight: \"normal\",\n      fontWeightBold: \"bold\",\n      lineHeight: 1,\n      letterSpacing: 0,\n      scrollback: 1e3,\n      screenKeys: !1,\n      screenReaderMode: !1,\n      debug: !1,\n      macOptionIsMeta: !1,\n      macOptionClickForcesSelection: !1,\n      cancelEvents: !1,\n      disableStdin: !1,\n      useFlowControl: !1,\n      allowTransparency: !1,\n      tabStopWidth: 8,\n      theme: null,\n      rightClickSelectsWord: y.isMac,\n      rendererType: \"canvas\"\n    },\n        D = function (e) {\n      function t(t) {\n        void 0 === t && (t = {});\n        var i = e.call(this) || this;\n        return i.browser = y, i._blankLine = null, i.options = R.clone(t), i._setup(), i;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._customKeyEventHandler = null, A.removeTerminalFromCache(this), this.handler = function () {}, this.write = function () {}, this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element);\n      }, t.prototype.destroy = function () {\n        this.dispose();\n      }, t.prototype._setup = function () {\n        var e = this;\n        Object.keys(H).forEach(function (t) {\n          null !== e.options[t] && void 0 !== e.options[t] || (e.options[t] = H[t]);\n        }), this._parent = M ? M.body : null, this.cols = Math.max(this.options.cols, 2), this.rows = Math.max(this.options.rows, 1), this.options.handler && this.on(\"data\", this.options.handler), this.cursorState = 0, this.cursorHidden = !1, this._customKeyEventHandler = null, this.applicationKeypad = !1, this.applicationCursor = !1, this.originMode = !1, this.insertMode = !1, this.wraparoundMode = !0, this.bracketedPasteMode = !1, this.charset = null, this.gcharset = null, this.glevel = 0, this.charsets = [null], this.curAttr = o.DEFAULT_ATTR, this.params = [], this.currentParam = 0, this.writeBuffer = [], this._writeInProgress = !1, this._xoffSentToCatchUp = !1, this._userScrolling = !1, this._inputHandler = new _.InputHandler(this), this.register(this._inputHandler), this.renderer = this.renderer || null, this.selectionManager = this.selectionManager || null, this.linkifier = this.linkifier || new d.Linkifier(this), this._mouseZoneManager = this._mouseZoneManager || null, this.soundManager = this.soundManager || new b.SoundManager(this), this.buffers = new s.BufferSet(this), this.selectionManager && (this.selectionManager.clearSelection(), this.selectionManager.initBuffersListeners());\n      }, Object.defineProperty(t.prototype, \"buffer\", {\n        get: function () {\n          return this.buffers.active;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.eraseAttr = function () {\n        return -512 & o.DEFAULT_ATTR | 511 & this.curAttr;\n      }, t.prototype.focus = function () {\n        this.textarea && this.textarea.focus();\n      }, Object.defineProperty(t.prototype, \"isFocused\", {\n        get: function () {\n          return M.activeElement === this.textarea && M.hasFocus();\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.getOption = function (e) {\n        if (!(e in H)) throw new Error('No option with key \"' + e + '\"');\n        return this.options[e];\n      }, t.prototype.setOption = function (e, t) {\n        if (!(e in H)) throw new Error('No option with key \"' + e + '\"');\n\n        if (-1 !== k.indexOf(e) && console.error('Option \"' + e + '\" can only be set in the constructor'), this.options[e] !== t) {\n          switch (e) {\n            case \"bellStyle\":\n              t || (t = \"none\");\n              break;\n\n            case \"cursorStyle\":\n              t || (t = \"block\");\n              break;\n\n            case \"fontWeight\":\n              t || (t = \"normal\");\n              break;\n\n            case \"fontWeightBold\":\n              t || (t = \"bold\");\n              break;\n\n            case \"lineHeight\":\n              if (t < 1) return void console.warn(e + \" cannot be less than 1, value: \" + t);\n\n            case \"rendererType\":\n              t || (t = \"canvas\");\n              break;\n\n            case \"tabStopWidth\":\n              if (t < 1) return void console.warn(e + \" cannot be less than 1, value: \" + t);\n              break;\n\n            case \"theme\":\n              if (this.renderer) return void this._setTheme(t);\n              break;\n\n            case \"scrollback\":\n              if ((t = Math.min(t, o.MAX_BUFFER_SIZE)) < 0) return void console.warn(e + \" cannot be less than 0, value: \" + t);\n\n              if (this.options[e] !== t) {\n                var i = this.rows + t;\n\n                if (this.buffer.lines.length > i) {\n                  var r = this.buffer.lines.length - i,\n                      n = this.buffer.ydisp - r < 0;\n                  this.buffer.lines.trimStart(r), this.buffer.ybase = Math.max(this.buffer.ybase - r, 0), this.buffer.ydisp = Math.max(this.buffer.ydisp - r, 0), n && this.refresh(0, this.rows - 1);\n                }\n              }\n\n          }\n\n          switch (this.options[e] = t, e) {\n            case \"fontFamily\":\n            case \"fontSize\":\n              this.renderer && (this.renderer.clear(), this.charMeasure.measure(this.options));\n              break;\n\n            case \"drawBoldTextInBrightColors\":\n            case \"experimentalCharAtlas\":\n            case \"enableBold\":\n            case \"letterSpacing\":\n            case \"lineHeight\":\n            case \"fontWeight\":\n            case \"fontWeightBold\":\n              this.renderer && (this.renderer.clear(), this.renderer.onResize(this.cols, this.rows), this.refresh(0, this.rows - 1));\n              break;\n\n            case \"rendererType\":\n              this.renderer && (this.unregister(this.renderer), this.renderer.dispose(), this.renderer = null), this._setupRenderer(), this.renderer.onCharSizeChanged(), this._theme && this.renderer.setTheme(this._theme), this.mouseHelper.setRenderer(this.renderer);\n              break;\n\n            case \"scrollback\":\n              this.buffers.resize(this.cols, this.rows), this.viewport && this.viewport.syncScrollArea();\n              break;\n\n            case \"screenReaderMode\":\n              t ? this._accessibilityManager || (this._accessibilityManager = new E.AccessibilityManager(this)) : this._accessibilityManager && (this._accessibilityManager.dispose(), this._accessibilityManager = null);\n              break;\n\n            case \"tabStopWidth\":\n              this.buffers.setupTabStops();\n          }\n\n          this.renderer && this.renderer.onOptionsChanged();\n        }\n      }, t.prototype._onTextAreaFocus = function (e) {\n        this.sendFocus && this.handler(u.C0.ESC + \"[I\"), this.updateCursorStyle(e), this.element.classList.add(\"focus\"), this.showCursor(), this.emit(\"focus\");\n      }, t.prototype.blur = function () {\n        return this.textarea.blur();\n      }, t.prototype._onTextAreaBlur = function () {\n        this.textarea.value = \"\", this.refresh(this.buffer.y, this.buffer.y), this.sendFocus && this.handler(u.C0.ESC + \"[O\"), this.element.classList.remove(\"focus\"), this.emit(\"blur\");\n      }, t.prototype._initGlobal = function () {\n        var e = this;\n        this._bindKeys(), this.register(g.addDisposableDomListener(this.element, \"copy\", function (t) {\n          e.hasSelection() && c.copyHandler(t, e, e.selectionManager);\n        }));\n\n        var t = function (t) {\n          return c.pasteHandler(t, e);\n        };\n\n        this.register(g.addDisposableDomListener(this.textarea, \"paste\", t)), this.register(g.addDisposableDomListener(this.element, \"paste\", t)), y.isFirefox ? this.register(g.addDisposableDomListener(this.element, \"mousedown\", function (t) {\n          2 === t.button && c.rightClickHandler(t, e, e.selectionManager, e.options.rightClickSelectsWord);\n        })) : this.register(g.addDisposableDomListener(this.element, \"contextmenu\", function (t) {\n          c.rightClickHandler(t, e, e.selectionManager, e.options.rightClickSelectsWord);\n        })), y.isLinux && this.register(g.addDisposableDomListener(this.element, \"auxclick\", function (t) {\n          1 === t.button && c.moveTextAreaUnderMouseCursor(t, e);\n        }));\n      }, t.prototype._bindKeys = function () {\n        var e = this,\n            t = this;\n        this.register(g.addDisposableDomListener(this.element, \"keydown\", function (e) {\n          M.activeElement === this && t._keyDown(e);\n        }, !0)), this.register(g.addDisposableDomListener(this.element, \"keypress\", function (e) {\n          M.activeElement === this && t._keyPress(e);\n        }, !0)), this.register(g.addDisposableDomListener(this.element, \"keyup\", function (i) {\n          (function (e) {\n            return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;\n          })(i) || e.focus(), t._keyUp(i);\n        }, !0)), this.register(g.addDisposableDomListener(this.textarea, \"keydown\", function (t) {\n          return e._keyDown(t);\n        }, !0)), this.register(g.addDisposableDomListener(this.textarea, \"keypress\", function (t) {\n          return e._keyPress(t);\n        }, !0)), this.register(g.addDisposableDomListener(this.textarea, \"compositionstart\", function () {\n          return e._compositionHelper.compositionstart();\n        })), this.register(g.addDisposableDomListener(this.textarea, \"compositionupdate\", function (t) {\n          return e._compositionHelper.compositionupdate(t);\n        })), this.register(g.addDisposableDomListener(this.textarea, \"compositionend\", function () {\n          return e._compositionHelper.compositionend();\n        })), this.register(this.addDisposableListener(\"refresh\", function () {\n          return e._compositionHelper.updateCompositionElements();\n        })), this.register(this.addDisposableListener(\"refresh\", function (t) {\n          return e._queueLinkification(t.start, t.end);\n        }));\n      }, t.prototype.open = function (e) {\n        var t = this;\n        if (this._parent = e || this._parent, !this._parent) throw new Error(\"Terminal requires a parent element.\");\n        this._context = this._parent.ownerDocument.defaultView, this._document = this._parent.ownerDocument, this._screenDprMonitor = new S.ScreenDprMonitor(), this._screenDprMonitor.setListener(function () {\n          return t.emit(\"dprchange\", window.devicePixelRatio);\n        }), this.register(this._screenDprMonitor), this.element = this._document.createElement(\"div\"), this.element.dir = \"ltr\", this.element.classList.add(\"terminal\"), this.element.classList.add(\"xterm\"), this.element.setAttribute(\"tabindex\", \"0\"), this._parent.appendChild(this.element);\n        var i = M.createDocumentFragment();\n        this._viewportElement = M.createElement(\"div\"), this._viewportElement.classList.add(\"xterm-viewport\"), i.appendChild(this._viewportElement), this._viewportScrollArea = M.createElement(\"div\"), this._viewportScrollArea.classList.add(\"xterm-scroll-area\"), this._viewportElement.appendChild(this._viewportScrollArea), this.screenElement = M.createElement(\"div\"), this.screenElement.classList.add(\"xterm-screen\"), this._helperContainer = M.createElement(\"div\"), this._helperContainer.classList.add(\"xterm-helpers\"), this.screenElement.appendChild(this._helperContainer), i.appendChild(this.screenElement), this._mouseZoneManager = new L.MouseZoneManager(this), this.register(this._mouseZoneManager), this.register(this.addDisposableListener(\"scroll\", function () {\n          return t._mouseZoneManager.clearAll();\n        })), this.linkifier.attachToDom(this._mouseZoneManager), this.textarea = M.createElement(\"textarea\"), this.textarea.classList.add(\"xterm-helper-textarea\"), this.textarea.setAttribute(\"aria-label\", C.promptLabel), this.textarea.setAttribute(\"aria-multiline\", \"false\"), this.textarea.setAttribute(\"autocorrect\", \"off\"), this.textarea.setAttribute(\"autocapitalize\", \"off\"), this.textarea.setAttribute(\"spellcheck\", \"false\"), this.textarea.tabIndex = 0, this.register(g.addDisposableDomListener(this.textarea, \"focus\", function (e) {\n          return t._onTextAreaFocus(e);\n        })), this.register(g.addDisposableDomListener(this.textarea, \"blur\", function () {\n          return t._onTextAreaBlur();\n        })), this._helperContainer.appendChild(this.textarea), this._compositionView = M.createElement(\"div\"), this._compositionView.classList.add(\"composition-view\"), this._compositionHelper = new a.CompositionHelper(this.textarea, this._compositionView, this), this._helperContainer.appendChild(this._compositionView), this.charMeasure = new m.CharMeasure(M, this._helperContainer), this.element.appendChild(i), this._setupRenderer(), this._theme = this.options.theme, this.options.theme = null, this.viewport = new h.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure), this.viewport.onThemeChanged(this.renderer.colorManager.colors), this.register(this.viewport), this.register(this.addDisposableListener(\"cursormove\", function () {\n          return t.renderer.onCursorMove();\n        })), this.register(this.addDisposableListener(\"resize\", function () {\n          return t.renderer.onResize(t.cols, t.rows);\n        })), this.register(this.addDisposableListener(\"blur\", function () {\n          return t.renderer.onBlur();\n        })), this.register(this.addDisposableListener(\"focus\", function () {\n          return t.renderer.onFocus();\n        })), this.register(this.addDisposableListener(\"dprchange\", function () {\n          return t.renderer.onWindowResize(window.devicePixelRatio);\n        })), this.register(g.addDisposableDomListener(window, \"resize\", function () {\n          return t.renderer.onWindowResize(window.devicePixelRatio);\n        })), this.register(this.charMeasure.addDisposableListener(\"charsizechanged\", function () {\n          return t.renderer.onCharSizeChanged();\n        })), this.register(this.renderer.addDisposableListener(\"resize\", function (e) {\n          return t.viewport.syncScrollArea();\n        })), this.selectionManager = new p.SelectionManager(this, this.charMeasure), this.register(g.addDisposableDomListener(this.element, \"mousedown\", function (e) {\n          return t.selectionManager.onMouseDown(e);\n        })), this.register(this.selectionManager.addDisposableListener(\"refresh\", function (e) {\n          return t.renderer.onSelectionChanged(e.start, e.end, e.columnSelectMode);\n        })), this.register(this.selectionManager.addDisposableListener(\"newselection\", function (e) {\n          t.textarea.value = e, t.textarea.focus(), t.textarea.select();\n        })), this.register(this.addDisposableListener(\"scroll\", function () {\n          t.viewport.syncScrollArea(), t.selectionManager.refresh();\n        })), this.register(g.addDisposableDomListener(this._viewportElement, \"scroll\", function () {\n          return t.selectionManager.refresh();\n        })), this.mouseHelper = new v.MouseHelper(this.renderer), this.element.classList.toggle(\"enable-mouse-events\", this.mouseEvents), this.mouseEvents ? this.selectionManager.disable() : this.selectionManager.enable(), this.options.screenReaderMode && (this._accessibilityManager = new E.AccessibilityManager(this)), this.charMeasure.measure(this.options), this.refresh(0, this.rows - 1), this._initGlobal(), this.bindMouse();\n      }, t.prototype._setupRenderer = function () {\n        switch (this.options.rendererType) {\n          case \"canvas\":\n            this.renderer = new f.Renderer(this, this.options.theme);\n            break;\n\n          case \"dom\":\n            this.renderer = new x.DomRenderer(this, this.options.theme);\n            break;\n\n          default:\n            throw new Error('Unrecognized rendererType \"' + this.options.rendererType + '\"');\n        }\n\n        this.register(this.renderer);\n      }, t.prototype._setTheme = function (e) {\n        this._theme = e;\n        var t = this.renderer.setTheme(e);\n        this.viewport && this.viewport.onThemeChanged(t);\n      }, t.prototype.bindMouse = function () {\n        var e = this,\n            t = this.element,\n            i = this,\n            r = 32;\n\n        function n(e) {\n          var t, n;\n          if (t = function (e) {\n            var t, r, n, s, o;\n\n            switch (e.overrideType || e.type) {\n              case \"mousedown\":\n                t = null !== e.button && void 0 !== e.button ? +e.button : null !== e.which && void 0 !== e.which ? e.which - 1 : null, y.isMSIE && (t = 1 === t ? 0 : 4 === t ? 1 : t);\n                break;\n\n              case \"mouseup\":\n                t = 3;\n                break;\n\n              case \"DOMMouseScroll\":\n                t = e.detail < 0 ? 64 : 65;\n                break;\n\n              case \"wheel\":\n                t = e.deltaY < 0 ? 64 : 65;\n            }\n\n            r = e.shiftKey ? 4 : 0, n = e.metaKey ? 8 : 0, s = e.ctrlKey ? 16 : 0, o = r | n | s, i.vt200Mouse ? o &= s : i.normalMouse || (o = 0);\n            return t = 32 + (o << 2) + t;\n          }(e), n = i.mouseHelper.getRawByteCoords(e, i.screenElement, i.charMeasure, i.cols, i.rows)) switch (o(t, n), e.overrideType || e.type) {\n            case \"mousedown\":\n              r = t;\n              break;\n\n            case \"mouseup\":\n              r = 32;\n          }\n        }\n\n        function s(e, t) {\n          if (i.utfMouse) {\n            if (2047 === t) return void e.push(0);\n            t < 127 ? e.push(t) : (t > 2047 && (t = 2047), e.push(192 | t >> 6), e.push(128 | 63 & t));\n          } else {\n            if (255 === t) return void e.push(0);\n            t > 127 && (t = 127), e.push(t);\n          }\n        }\n\n        function o(e, t) {\n          if (i._vt300Mouse) {\n            e &= 3, t.x -= 32, t.y -= 32;\n            var r = u.C0.ESC + \"[24\";\n            if (0 === e) r += \"1\";else if (1 === e) r += \"3\";else if (2 === e) r += \"5\";else {\n              if (3 === e) return;\n              r += \"0\";\n            }\n            return r += \"~[\" + t.x + \",\" + t.y + \"]\\r\", void i.handler(r);\n          }\n\n          if (i._decLocator) return e &= 3, t.x -= 32, t.y -= 32, 0 === e ? e = 2 : 1 === e ? e = 4 : 2 === e ? e = 6 : 3 === e && (e = 3), void i.handler(u.C0.ESC + \"[\" + e + \";\" + (3 === e ? 4 : 0) + \";\" + t.y + \";\" + t.x + \";\" + t.page || \"0&w\");\n          if (i.urxvtMouse) return t.x -= 32, t.y -= 32, t.x++, t.y++, void i.handler(u.C0.ESC + \"[\" + e + \";\" + t.x + \";\" + t.y + \"M\");\n          if (i.sgrMouse) return t.x -= 32, t.y -= 32, void i.handler(u.C0.ESC + \"[<\" + ((3 == (3 & e) ? -4 & e : e) - 32) + \";\" + t.x + \";\" + t.y + (3 == (3 & e) ? \"m\" : \"M\"));\n          var n = [];\n          s(n, e), s(n, t.x), s(n, t.y), i.handler(u.C0.ESC + \"[M\" + String.fromCharCode.apply(String, n));\n        }\n\n        this.register(g.addDisposableDomListener(t, \"mousedown\", function (t) {\n          if (t.preventDefault(), e.focus(), e.mouseEvents && !e.selectionManager.shouldForceSelection(t)) {\n            if (n(t), e.vt200Mouse) return t.overrideType = \"mouseup\", n(t), e.cancel(t);\n            var s;\n            e.normalMouse && (s = function (t) {\n              e.normalMouse && function (e) {\n                var t = r,\n                    n = i.mouseHelper.getRawByteCoords(e, i.screenElement, i.charMeasure, i.cols, i.rows);\n                n && o(t += 32, n);\n              }(t);\n            }, e._document.addEventListener(\"mousemove\", s));\n\n            var a = function (t) {\n              return e.normalMouse && !e.x10Mouse && n(t), s && (e._document.removeEventListener(\"mousemove\", s), s = null), e._document.removeEventListener(\"mouseup\", a), e.cancel(t);\n            };\n\n            return e._document.addEventListener(\"mouseup\", a), e.cancel(t);\n          }\n        })), this.register(g.addDisposableDomListener(t, \"wheel\", function (t) {\n          if (e.mouseEvents) e.x10Mouse || e._vt300Mouse || e._decLocator || (n(t), t.preventDefault());else if (!e.buffer.hasScrollback) {\n            var i = e.viewport.getLinesScrolled(t);\n            if (0 === i) return;\n\n            for (var r = u.C0.ESC + (e.applicationCursor ? \"O\" : \"[\") + (t.deltaY < 0 ? \"A\" : \"B\"), s = \"\", o = 0; o < Math.abs(i); o++) s += r;\n\n            e.handler(s);\n          }\n        })), this.register(g.addDisposableDomListener(t, \"wheel\", function (t) {\n          if (!e.mouseEvents) return e.viewport.onWheel(t), e.cancel(t);\n        })), this.register(g.addDisposableDomListener(t, \"touchstart\", function (t) {\n          if (!e.mouseEvents) return e.viewport.onTouchStart(t), e.cancel(t);\n        })), this.register(g.addDisposableDomListener(t, \"touchmove\", function (t) {\n          if (!e.mouseEvents) return e.viewport.onTouchMove(t), e.cancel(t);\n        }));\n      }, t.prototype.refresh = function (e, t) {\n        this.renderer && this.renderer.refreshRows(e, t);\n      }, t.prototype._queueLinkification = function (e, t) {\n        this.linkifier && this.linkifier.linkifyRows(e, t);\n      }, t.prototype.updateCursorStyle = function (e) {\n        this.selectionManager && this.selectionManager.shouldColumnSelect(e) ? this.element.classList.add(\"column-select\") : this.element.classList.remove(\"column-select\");\n      }, t.prototype.showCursor = function () {\n        this.cursorState || (this.cursorState = 1, this.refresh(this.buffer.y, this.buffer.y));\n      }, t.prototype.scroll = function (e) {\n        var t;\n        void 0 === e && (e = !1), (t = this._blankLine) && t.length === this.cols && t.get(0)[o.CHAR_DATA_ATTR_INDEX] === this.eraseAttr() || (t = this.buffer.getBlankLine(this.eraseAttr(), e), this._blankLine = t), t.isWrapped = e;\n        var i = this.buffer.ybase + this.buffer.scrollTop,\n            r = this.buffer.ybase + this.buffer.scrollBottom;\n\n        if (0 === this.buffer.scrollTop) {\n          var n = this.buffer.lines.isFull;\n          r === this.buffer.lines.length - 1 ? n ? this.buffer.lines.recycle().copyFrom(t) : this.buffer.lines.push(t.clone()) : this.buffer.lines.splice(r + 1, 0, t.clone()), n ? this._userScrolling && (this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0)) : (this.buffer.ybase++, this._userScrolling || this.buffer.ydisp++);\n        } else {\n          var s = r - i + 1;\n          this.buffer.lines.shiftElements(i + 1, s - 1, -1), this.buffer.lines.set(r, t.clone());\n        }\n\n        this._userScrolling || (this.buffer.ydisp = this.buffer.ybase), this.updateRange(this.buffer.scrollTop), this.updateRange(this.buffer.scrollBottom), this.emit(\"scroll\", this.buffer.ydisp);\n      }, t.prototype.scrollLines = function (e, t) {\n        if (e < 0) {\n          if (0 === this.buffer.ydisp) return;\n          this._userScrolling = !0;\n        } else e + this.buffer.ydisp >= this.buffer.ybase && (this._userScrolling = !1);\n\n        var i = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + e, this.buffer.ybase), 0), i !== this.buffer.ydisp && (t || this.emit(\"scroll\", this.buffer.ydisp), this.refresh(0, this.rows - 1));\n      }, t.prototype.scrollPages = function (e) {\n        this.scrollLines(e * (this.rows - 1));\n      }, t.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n      }, t.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n      }, t.prototype.scrollToLine = function (e) {\n        var t = e - this.buffer.ydisp;\n        0 !== t && this.scrollLines(t);\n      }, t.prototype.write = function (e) {\n        var t = this;\n        this._isDisposed || e && (this.writeBuffer.push(e), this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= 5 && (this.handler(u.C0.DC3), this._xoffSentToCatchUp = !0), !this._writeInProgress && this.writeBuffer.length > 0 && (this._writeInProgress = !0, setTimeout(function () {\n          t._innerWrite();\n        })));\n      }, t.prototype._innerWrite = function (e) {\n        var t = this;\n        void 0 === e && (e = 0), this._isDisposed && (this.writeBuffer = []);\n\n        for (var i = Date.now(); this.writeBuffer.length > e;) {\n          var r = this.writeBuffer[e];\n          if (e++, this._xoffSentToCatchUp && this.writeBuffer.length === e && (this.handler(u.C0.DC1), this._xoffSentToCatchUp = !1), this._refreshStart = this.buffer.y, this._refreshEnd = this.buffer.y, this._inputHandler.parse(r), this.updateRange(this.buffer.y), this.refresh(this._refreshStart, this._refreshEnd), Date.now() - i >= 12) break;\n        }\n\n        this.writeBuffer.length > e ? setTimeout(function () {\n          return t._innerWrite(e);\n        }, 0) : (this._writeInProgress = !1, this.writeBuffer = []);\n      }, t.prototype.writeln = function (e) {\n        this.write(e + \"\\r\\n\");\n      }, t.prototype.attachCustomKeyEventHandler = function (e) {\n        this._customKeyEventHandler = e;\n      }, t.prototype.addCsiHandler = function (e, t) {\n        return this._inputHandler.addCsiHandler(e, t);\n      }, t.prototype.addOscHandler = function (e, t) {\n        return this._inputHandler.addOscHandler(e, t);\n      }, t.prototype.registerLinkMatcher = function (e, t, i) {\n        var r = this.linkifier.registerLinkMatcher(e, t, i);\n        return this.refresh(0, this.rows - 1), r;\n      }, t.prototype.deregisterLinkMatcher = function (e) {\n        this.linkifier.deregisterLinkMatcher(e) && this.refresh(0, this.rows - 1);\n      }, t.prototype.registerCharacterJoiner = function (e) {\n        var t = this.renderer.registerCharacterJoiner(e);\n        return this.refresh(0, this.rows - 1), t;\n      }, t.prototype.deregisterCharacterJoiner = function (e) {\n        this.renderer.deregisterCharacterJoiner(e) && this.refresh(0, this.rows - 1);\n      }, Object.defineProperty(t.prototype, \"markers\", {\n        get: function () {\n          return this.buffer.markers;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.addMarker = function (e) {\n        if (this.buffer === this.buffers.normal) return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + e);\n      }, t.prototype.hasSelection = function () {\n        return !!this.selectionManager && this.selectionManager.hasSelection;\n      }, t.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : \"\";\n      }, t.prototype.clearSelection = function () {\n        this.selectionManager && this.selectionManager.clearSelection();\n      }, t.prototype.selectAll = function () {\n        this.selectionManager && this.selectionManager.selectAll();\n      }, t.prototype.selectLines = function (e, t) {\n        this.selectionManager && this.selectionManager.selectLines(e, t);\n      }, t.prototype._keyDown = function (e) {\n        if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n        if (!this._compositionHelper.keydown(e)) return this.buffer.ybase !== this.buffer.ydisp && this.scrollToBottom(), !1;\n        var t = T.evaluateKeyboardEvent(e, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n\n        if (this.updateCursorStyle(e), 3 === t.type || 2 === t.type) {\n          var i = this.rows - 1;\n          return this.scrollLines(2 === t.type ? -i : i), this.cancel(e, !0);\n        }\n\n        return 1 === t.type && this.selectAll(), !!this._isThirdLevelShift(this.browser, e) || (t.cancel && this.cancel(e, !0), !t.key || (this.emit(\"keydown\", e), this.emit(\"key\", t.key, e), this.showCursor(), this.handler(t.key), this.cancel(e, !0)));\n      }, t.prototype._isThirdLevelShift = function (e, t) {\n        var i = e.isMac && !this.options.macOptionIsMeta && t.altKey && !t.ctrlKey && !t.metaKey || e.isMSWindows && t.altKey && t.ctrlKey && !t.metaKey;\n        return \"keypress\" === t.type ? i : i && (!t.keyCode || t.keyCode > 47);\n      }, t.prototype.setgLevel = function (e) {\n        this.glevel = e, this.charset = this.charsets[e];\n      }, t.prototype.setgCharset = function (e, t) {\n        this.charsets[e] = t, this.glevel === e && (this.charset = t);\n      }, t.prototype._keyUp = function (e) {\n        this.updateCursorStyle(e);\n      }, t.prototype._keyPress = function (e) {\n        var t;\n        if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n        if (this.cancel(e), e.charCode) t = e.charCode;else if (null === e.which || void 0 === e.which) t = e.keyCode;else {\n          if (0 === e.which || 0 === e.charCode) return !1;\n          t = e.which;\n        }\n        return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !this._isThirdLevelShift(this.browser, e)) && (t = String.fromCharCode(t), this.emit(\"keypress\", t, e), this.emit(\"key\", t, e), this.showCursor(), this.handler(t), !0);\n      }, t.prototype.bell = function () {\n        var e = this;\n        this.emit(\"bell\"), this._soundBell() && this.soundManager.playBellSound(), this._visualBell() && (this.element.classList.add(\"visual-bell-active\"), clearTimeout(this._visualBellTimer), this._visualBellTimer = window.setTimeout(function () {\n          e.element.classList.remove(\"visual-bell-active\");\n        }, 200));\n      }, t.prototype.log = function (e, t) {\n        this.options.debug && this._context.console && this._context.console.log && this._context.console.log(e, t);\n      }, t.prototype.error = function (e, t) {\n        this.options.debug && this._context.console && this._context.console.error && this._context.console.error(e, t);\n      }, t.prototype.resize = function (e, t) {\n        isNaN(e) || isNaN(t) || (e !== this.cols || t !== this.rows ? (e < 2 && (e = 2), t < 1 && (t = 1), this.buffers.resize(e, t), this.cols = e, this.rows = t, this.buffers.setupTabStops(this.cols), this.charMeasure && this.charMeasure.measure(this.options), this.refresh(0, this.rows - 1), this.emit(\"resize\", {\n          cols: e,\n          rows: t\n        })) : !this.charMeasure || this.charMeasure.width && this.charMeasure.height || this.charMeasure.measure(this.options));\n      }, t.prototype.updateRange = function (e) {\n        e < this._refreshStart && (this._refreshStart = e), e > this._refreshEnd && (this._refreshEnd = e);\n      }, t.prototype.maxRange = function () {\n        this._refreshStart = 0, this._refreshEnd = this.rows - 1;\n      }, t.prototype.clear = function () {\n        if (0 !== this.buffer.ybase || 0 !== this.buffer.y) {\n          this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y)), this.buffer.lines.length = 1, this.buffer.ydisp = 0, this.buffer.ybase = 0, this.buffer.y = 0;\n\n          for (var e = 1; e < this.rows; e++) this.buffer.lines.push(this.buffer.getBlankLine(o.DEFAULT_ATTR));\n\n          this.refresh(0, this.rows - 1), this.emit(\"scroll\", this.buffer.ydisp);\n        }\n      }, t.prototype.ch = function (e) {\n        return e ? [this.eraseAttr(), o.NULL_CELL_CHAR, o.NULL_CELL_WIDTH, o.NULL_CELL_CODE] : [o.DEFAULT_ATTR, o.NULL_CELL_CHAR, o.NULL_CELL_WIDTH, o.NULL_CELL_CODE];\n      }, t.prototype.is = function (e) {\n        return 0 === (this.options.termName + \"\").indexOf(e);\n      }, t.prototype.handler = function (e) {\n        this.options.disableStdin || (this.selectionManager && this.selectionManager.hasSelection && this.selectionManager.clearSelection(), this.buffer.ybase !== this.buffer.ydisp && this.scrollToBottom(), this.emit(\"data\", e));\n      }, t.prototype.handleTitle = function (e) {\n        this.emit(\"title\", e);\n      }, t.prototype.index = function () {\n        this.buffer.y++, this.buffer.y > this.buffer.scrollBottom && (this.buffer.y--, this.scroll()), this.buffer.x >= this.cols && this.buffer.x--;\n      }, t.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n          var e = this.buffer.scrollBottom - this.buffer.scrollTop;\n          this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, e, 1), this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttr())), this.updateRange(this.buffer.scrollTop), this.updateRange(this.buffer.scrollBottom);\n        } else this.buffer.y--;\n      }, t.prototype.reset = function () {\n        this.options.rows = this.rows, this.options.cols = this.cols;\n        var e = this._customKeyEventHandler,\n            t = this._inputHandler,\n            i = this.cursorState;\n        this._setup(), this._customKeyEventHandler = e, this._inputHandler = t, this.cursorState = i, this.refresh(0, this.rows - 1), this.viewport && this.viewport.syncScrollArea();\n      }, t.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = !0;\n      }, t.prototype.cancel = function (e, t) {\n        if (this.options.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;\n      }, t.prototype.matchColor = function (e, t, i) {\n        var r = e << 16 | t << 8 | i;\n        if (null !== O[r] && void 0 !== O[r]) return O[r];\n\n        for (var n, s, o = 1 / 0, a = -1, l = 0; l < w.DEFAULT_ANSI_COLORS.length; l++) {\n          if (0 === (s = I(e, t, i, (n = w.DEFAULT_ANSI_COLORS[l].rgba) >>> 24, n >>> 16 & 255, n >>> 8 & 255))) {\n            a = l;\n            break;\n          }\n\n          s < o && (o = s, a = l);\n        }\n\n        return O[r] = a;\n      }, t.prototype._visualBell = function () {\n        return !1;\n      }, t.prototype._soundBell = function () {\n        return \"sound\" === this.options.bellStyle;\n      }, t;\n    }(l.EventEmitter);\n\n    t.Terminal = D;\n    var O = {};\n\n    function I(e, t, i, r, n, s) {\n      return Math.pow(30 * (e - r), 2) + Math.pow(59 * (t - n), 2) + Math.pow(11 * (i - s), 2);\n    }\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(0),\n        o = function (e) {\n      function t(t) {\n        var i = e.call(this) || this;\n        return i._terminal = t, i._normal = new s.Buffer(i._terminal, !0), i._normal.fillViewportRows(), i._alt = new s.Buffer(i._terminal, !1), i._activeBuffer = i._normal, i.setupTabStops(), i;\n      }\n\n      return n(t, e), Object.defineProperty(t.prototype, \"alt\", {\n        get: function () {\n          return this._alt;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"active\", {\n        get: function () {\n          return this._activeBuffer;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"normal\", {\n        get: function () {\n          return this._normal;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.activateNormalBuffer = function () {\n        this._activeBuffer !== this._normal && (this._normal.x = this._alt.x, this._normal.y = this._alt.y, this._alt.clear(), this._activeBuffer = this._normal, this.emit(\"activate\", {\n          activeBuffer: this._normal,\n          inactiveBuffer: this._alt\n        }));\n      }, t.prototype.activateAltBuffer = function (e) {\n        this._activeBuffer !== this._alt && (this._alt.fillViewportRows(e), this._alt.x = this._normal.x, this._alt.y = this._normal.y, this._activeBuffer = this._alt, this.emit(\"activate\", {\n          activeBuffer: this._alt,\n          inactiveBuffer: this._normal\n        }));\n      }, t.prototype.resize = function (e, t) {\n        this._normal.resize(e, t), this._alt.resize(e, t);\n      }, t.prototype.setupTabStops = function (e) {\n        this._normal.setupTabStops(e), this._alt.setupTabStops(e);\n      }, t;\n    }(i(2).EventEmitter);\n\n    t.BufferSet = o;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = i(0),\n        n = 3,\n        s = function () {\n      function e(e, t, i) {\n        if (void 0 === i && (i = !1), this.isWrapped = i, this._data = null, this._combined = {}, t || (t = [0, r.NULL_CELL_CHAR, r.NULL_CELL_WIDTH, r.NULL_CELL_CODE]), e) {\n          this._data = new Uint32Array(e * n);\n\n          for (var s = 0; s < e; ++s) this.set(s, t);\n        }\n\n        this.length = e;\n      }\n\n      return e.prototype.get = function (e) {\n        var t = this._data[e * n + 1];\n        return [this._data[e * n + 0], 2147483648 & t ? this._combined[e] : t ? String.fromCharCode(t) : \"\", this._data[e * n + 2], 2147483648 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : t];\n      }, e.prototype.getWidth = function (e) {\n        return this._data[e * n + 2];\n      }, e.prototype.set = function (e, t) {\n        this._data[e * n + 0] = t[0], t[1].length > 1 ? (this._combined[e] = t[1], this._data[e * n + 1] = 2147483648 | e) : this._data[e * n + 1] = t[1].charCodeAt(0), this._data[e * n + 2] = t[2];\n      }, e.prototype.insertCells = function (e, t, i) {\n        if (e %= this.length, t < this.length - e) {\n          for (var r = this.length - e - t - 1; r >= 0; --r) this.set(e + t + r, this.get(e + r));\n\n          for (r = 0; r < t; ++r) this.set(e + r, i);\n        } else for (r = e; r < this.length; ++r) this.set(r, i);\n      }, e.prototype.deleteCells = function (e, t, i) {\n        if (e %= this.length, t < this.length - e) {\n          for (var r = 0; r < this.length - e - t; ++r) this.set(e + r, this.get(e + t + r));\n\n          for (r = this.length - t; r < this.length; ++r) this.set(r, i);\n        } else for (r = e; r < this.length; ++r) this.set(r, i);\n      }, e.prototype.replaceCells = function (e, t, i) {\n        for (; e < t && e < this.length;) this.set(e++, i);\n      }, e.prototype.resize = function (e, t) {\n        if (e !== this.length) {\n          if (e > this.length) {\n            var i = new Uint32Array(e * n);\n            this.length && (e * n < this._data.length ? i.set(this._data.subarray(0, e * n)) : i.set(this._data)), this._data = i;\n\n            for (var r = this.length; r < e; ++r) this.set(r, t);\n          } else if (e) {\n            (i = new Uint32Array(e * n)).set(this._data.subarray(0, e * n)), this._data = i;\n            var s = Object.keys(this._combined);\n\n            for (r = 0; r < s.length; r++) {\n              var o = parseInt(s[r], 10);\n              o >= e && delete this._combined[o];\n            }\n          } else this._data = null, this._combined = {};\n\n          this.length = e;\n        }\n      }, e.prototype.fill = function (e) {\n        this._combined = {};\n\n        for (var t = 0; t < this.length; ++t) this.set(t, e);\n      }, e.prototype.copyFrom = function (e) {\n        for (var t in this.length !== e.length ? this._data = new Uint32Array(e._data) : this._data.set(e._data), this.length = e.length, this._combined = {}, e._combined) this._combined[t] = e._combined[t];\n\n        this.isWrapped = e.isWrapped;\n      }, e.prototype.clone = function () {\n        var t = new e(0);\n\n        for (var i in t._data = new Uint32Array(this._data), t.length = this.length, this._combined) t._combined[i] = this._combined[i];\n\n        return t.isWrapped = this.isWrapped, t;\n      }, e.prototype.getTrimmedLength = function () {\n        for (var e = this.length - 1; e >= 0; --e) if (0 !== this._data[e * n + 1]) return e + this._data[e * n + 2];\n\n        return 0;\n      }, e.prototype.copyCellsFrom = function (e, t, i, r, s) {\n        var o = e._data;\n        if (s) for (var a = r - 1; a >= 0; a--) for (var l = 0; l < n; l++) this._data[(i + a) * n + l] = o[(t + a) * n + l];else for (a = 0; a < r; a++) for (l = 0; l < n; l++) this._data[(i + a) * n + l] = o[(t + a) * n + l];\n        var h = Object.keys(e._combined);\n\n        for (l = 0; l < h.length; l++) {\n          var c = parseInt(h[l], 10);\n          c >= t && (this._combined[c - t + i] = e._combined[c]);\n        }\n      }, e.prototype.translateToString = function (e, t, i) {\n        void 0 === e && (e = !1), void 0 === t && (t = 0), void 0 === i && (i = this.length), e && (i = Math.min(i, this.getTrimmedLength()));\n\n        for (var s = \"\"; t < i;) {\n          var o = this._data[t * n + 1];\n          s += 2147483648 & o ? this._combined[t] : o ? String.fromCharCode(o) : r.WHITESPACE_CELL_CHAR, t += this._data[t * n + 2] || 1;\n        }\n\n        return s;\n      }, e;\n    }();\n\n    t.BufferLine = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(0);\n\n    function n(e, t, i) {\n      if (t === e.length - 1) return e[t].getTrimmedLength();\n      var n = e[t].get(i - 1),\n          s = \"\" === n[r.CHAR_DATA_CHAR_INDEX] && 1 === n[r.CHAR_DATA_WIDTH_INDEX],\n          o = 2 === e[t + 1].getWidth(0);\n      return s && o ? i - 1 : i;\n    }\n\n    t.reflowLargerGetLinesToRemove = function (e, t, i, s) {\n      for (var o = [], a = 0; a < e.length - 1; a++) {\n        var l = a,\n            h = e.get(++l);\n\n        if (h.isWrapped) {\n          for (var c = [e.get(a)]; l < e.length && h.isWrapped;) c.push(h), h = e.get(++l);\n\n          if (s >= a && s < l) a += c.length - 1;else {\n            for (var u = 0, _ = n(c, u, t), f = 1, d = 0; f < c.length;) {\n              var p = n(c, f, t),\n                  m = p - d,\n                  y = i - _,\n                  g = Math.min(m, y);\n              c[u].copyCellsFrom(c[f], d, _, g, !1), (_ += g) === i && (u++, _ = 0), (d += g) === p && (f++, d = 0), 0 === _ && 0 !== u && 2 === c[u - 1].getWidth(i - 1) && (c[u].copyCellsFrom(c[u - 1], i - 1, _++, 1, !1), c[u - 1].set(i - 1, r.FILL_CHAR_DATA));\n            }\n\n            c[u].replaceCells(_, i, r.FILL_CHAR_DATA);\n\n            for (var C = 0, v = c.length - 1; v > 0 && (v > u || 0 === c[v].getTrimmedLength()); v--) C++;\n\n            C > 0 && (o.push(a + c.length - C), o.push(C)), a += c.length - 1;\n          }\n        }\n      }\n\n      return o;\n    }, t.reflowLargerCreateNewLayout = function (e, t) {\n      for (var i = [], r = 0, n = t[r], s = 0, o = 0; o < e.length; o++) if (n === o) {\n        var a = t[++r];\n        e.emit(\"delete\", {\n          index: o - s,\n          amount: a\n        }), o += a - 1, s += a, n = t[++r];\n      } else i.push(o);\n\n      return {\n        layout: i,\n        countRemoved: s\n      };\n    }, t.reflowLargerApplyNewLayout = function (e, t) {\n      for (var i = [], r = 0; r < t.length; r++) i.push(e.get(t[r]));\n\n      for (r = 0; r < i.length; r++) e.set(r, i[r]);\n\n      e.length = t.length;\n    }, t.reflowSmallerGetNewLineLengths = function (e, t, i) {\n      for (var r = [], s = e.map(function (i, r) {\n        return n(e, r, t);\n      }).reduce(function (e, t) {\n        return e + t;\n      }), o = 0, a = 0, l = 0; l < s;) {\n        if (s - l < i) {\n          r.push(s - l);\n          break;\n        }\n\n        o += i;\n        var h = n(e, a, t);\n        o > h && (o -= h, a++);\n        var c = 2 === e[a].getWidth(o - 1);\n        c && o--;\n        var u = c ? i - 1 : i;\n        r.push(u), l += u;\n      }\n\n      return r;\n    }, t.getWrappedLineTrimmedLength = n;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t(t) {\n        var i = e.call(this) || this;\n        return i._maxLength = t, i._array = new Array(i._maxLength), i._startIndex = 0, i._length = 0, i;\n      }\n\n      return n(t, e), Object.defineProperty(t.prototype, \"maxLength\", {\n        get: function () {\n          return this._maxLength;\n        },\n        set: function (e) {\n          if (this._maxLength !== e) {\n            for (var t = new Array(e), i = 0; i < Math.min(e, this.length); i++) t[i] = this._array[this._getCyclicIndex(i)];\n\n            this._array = t, this._maxLength = e, this._startIndex = 0;\n          }\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"length\", {\n        get: function () {\n          return this._length;\n        },\n        set: function (e) {\n          if (e > this._length) for (var t = this._length; t < e; t++) this._array[t] = void 0;\n          this._length = e;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.get = function (e) {\n        return this._array[this._getCyclicIndex(e)];\n      }, t.prototype.set = function (e, t) {\n        this._array[this._getCyclicIndex(e)] = t;\n      }, t.prototype.push = function (e) {\n        this._array[this._getCyclicIndex(this._length)] = e, this._length === this._maxLength ? (this._startIndex = ++this._startIndex % this._maxLength, this.emitMayRemoveListeners(\"trim\", 1)) : this._length++;\n      }, t.prototype.recycle = function () {\n        if (this._length !== this._maxLength) throw new Error(\"Can only recycle when the buffer is full\");\n        return this._startIndex = ++this._startIndex % this._maxLength, this.emitMayRemoveListeners(\"trim\", 1), this._array[this._getCyclicIndex(this._length - 1)];\n      }, Object.defineProperty(t.prototype, \"isFull\", {\n        get: function () {\n          return this._length === this._maxLength;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n      }, t.prototype.splice = function (e, t) {\n        for (var i = [], r = 2; r < arguments.length; r++) i[r - 2] = arguments[r];\n\n        if (t) {\n          for (var n = e; n < this._length - t; n++) this._array[this._getCyclicIndex(n)] = this._array[this._getCyclicIndex(n + t)];\n\n          this._length -= t;\n        }\n\n        for (n = this._length - 1; n >= e; n--) this._array[this._getCyclicIndex(n + i.length)] = this._array[this._getCyclicIndex(n)];\n\n        for (n = 0; n < i.length; n++) this._array[this._getCyclicIndex(e + n)] = i[n];\n\n        if (this._length + i.length > this._maxLength) {\n          var s = this._length + i.length - this._maxLength;\n          this._startIndex += s, this._length = this._maxLength, this.emitMayRemoveListeners(\"trim\", s);\n        } else this._length += i.length;\n      }, t.prototype.trimStart = function (e) {\n        e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.emitMayRemoveListeners(\"trim\", e);\n      }, t.prototype.shiftElements = function (e, t, i) {\n        if (!(t <= 0)) {\n          if (e < 0 || e >= this._length) throw new Error(\"start argument out of range\");\n          if (e + i < 0) throw new Error(\"Cannot shift elements in list beyond index 0\");\n\n          if (i > 0) {\n            for (var r = t - 1; r >= 0; r--) this.set(e + r + i, this.get(e + r));\n\n            var n = e + t + i - this._length;\n            if (n > 0) for (this._length += n; this._length > this._maxLength;) this._length--, this._startIndex++, this.emitMayRemoveListeners(\"trim\", 1);\n          } else for (r = 0; r < t; r++) this.set(e + r + i, this.get(e + r));\n        }\n      }, t.prototype._getCyclicIndex = function (e) {\n        return (this._startIndex + e) % this._maxLength;\n      }, t;\n    }(i(2).EventEmitter);\n\n    t.CircularList = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e, t, i) {\n        this._textarea = e, this._compositionView = t, this._terminal = i, this._isComposing = !1, this._isSendingComposition = !1, this._compositionPosition = {\n          start: null,\n          end: null\n        };\n      }\n\n      return e.prototype.compositionstart = function () {\n        this._isComposing = !0, this._compositionPosition.start = this._textarea.value.length, this._compositionView.textContent = \"\", this._compositionView.classList.add(\"active\");\n      }, e.prototype.compositionupdate = function (e) {\n        var t = this;\n        this._compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(function () {\n          t._compositionPosition.end = t._textarea.value.length;\n        }, 0);\n      }, e.prototype.compositionend = function () {\n        this._finalizeComposition(!0);\n      }, e.prototype.keydown = function (e) {\n        if (this._isComposing || this._isSendingComposition) {\n          if (229 === e.keyCode) return !1;\n          if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;\n\n          this._finalizeComposition(!1);\n        }\n\n        return 229 !== e.keyCode || (this._handleAnyTextareaChanges(), !1);\n      }, e.prototype._finalizeComposition = function (e) {\n        var t = this;\n\n        if (this._compositionView.classList.remove(\"active\"), this._isComposing = !1, this._clearTextareaPosition(), e) {\n          var i = {\n            start: this._compositionPosition.start,\n            end: this._compositionPosition.end\n          };\n          this._isSendingComposition = !0, setTimeout(function () {\n            if (t._isSendingComposition) {\n              t._isSendingComposition = !1;\n              var e = void 0;\n              e = t._isComposing ? t._textarea.value.substring(i.start, i.end) : t._textarea.value.substring(i.start), t._terminal.handler(e);\n            }\n          }, 0);\n        } else {\n          this._isSendingComposition = !1;\n\n          var r = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n\n          this._terminal.handler(r);\n        }\n      }, e.prototype._handleAnyTextareaChanges = function () {\n        var e = this,\n            t = this._textarea.value;\n        setTimeout(function () {\n          if (!e._isComposing) {\n            var i = e._textarea.value.replace(t, \"\");\n\n            i.length > 0 && e._terminal.handler(i);\n          }\n        }, 0);\n      }, e.prototype.updateCompositionElements = function (e) {\n        var t = this;\n\n        if (this._isComposing) {\n          if (this._terminal.buffer.isCursorInViewport) {\n            var i = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight),\n                r = this._terminal.buffer.y * i,\n                n = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = n + \"px\", this._compositionView.style.top = r + \"px\", this._compositionView.style.height = i + \"px\", this._compositionView.style.lineHeight = i + \"px\", this._compositionView.style.fontFamily = this._terminal.options.fontFamily, this._compositionView.style.fontSize = this._terminal.options.fontSize + \"px\";\n\n            var s = this._compositionView.getBoundingClientRect();\n\n            this._textarea.style.left = n + \"px\", this._textarea.style.top = r + \"px\", this._textarea.style.width = s.width + \"px\", this._textarea.style.height = s.height + \"px\", this._textarea.style.lineHeight = s.height + \"px\";\n          }\n\n          e || setTimeout(function () {\n            return t.updateCompositionElements(!0);\n          }, 0);\n        }\n      }, e.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = \"\", this._textarea.style.top = \"\";\n      }, e;\n    }();\n\n    t.CompositionHelper = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(3),\n        o = i(7),\n        a = 15,\n        l = function (e) {\n      function t(t, i, r, n) {\n        var s = e.call(this) || this;\n        return s._terminal = t, s._viewportElement = i, s._scrollArea = r, s._charMeasure = n, s.scrollBarWidth = 0, s._currentRowHeight = 0, s._lastRecordedBufferLength = 0, s._lastRecordedViewportHeight = 0, s._lastRecordedBufferHeight = 0, s._lastScrollTop = 0, s._wheelPartialScroll = 0, s._refreshAnimationFrame = null, s._ignoreNextScrollEvent = !1, s.scrollBarWidth = s._viewportElement.offsetWidth - s._scrollArea.offsetWidth || a, s.register(o.addDisposableDomListener(s._viewportElement, \"scroll\", s._onScroll.bind(s))), setTimeout(function () {\n          return s.syncScrollArea();\n        }, 0), s;\n      }\n\n      return n(t, e), t.prototype.onThemeChanged = function (e) {\n        this._viewportElement.style.backgroundColor = e.background.css;\n      }, t.prototype._refresh = function () {\n        var e = this;\n        null === this._refreshAnimationFrame && (this._refreshAnimationFrame = requestAnimationFrame(function () {\n          return e._innerRefresh();\n        }));\n      }, t.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n          this._currentRowHeight = this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio, this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n\n          var e = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._terminal.renderer.dimensions.canvasHeight);\n\n          this._lastRecordedBufferHeight !== e && (this._lastRecordedBufferHeight = e, this._scrollArea.style.height = this._lastRecordedBufferHeight + \"px\");\n        }\n\n        var t = this._terminal.buffer.ydisp * this._currentRowHeight;\n        this._viewportElement.scrollTop !== t && (this._ignoreNextScrollEvent = !0, this._viewportElement.scrollTop = t), this._refreshAnimationFrame = null;\n      }, t.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) return this._lastRecordedBufferLength = this._terminal.buffer.lines.length, void this._refresh();\n\n        if (this._lastRecordedViewportHeight === this._terminal.renderer.dimensions.canvasHeight) {\n          var e = this._terminal.buffer.ydisp * this._currentRowHeight;\n          this._lastScrollTop === e && this._lastScrollTop === this._viewportElement.scrollTop && this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio === this._currentRowHeight || this._refresh();\n        } else this._refresh();\n      }, t.prototype._onScroll = function (e) {\n        if (this._lastScrollTop = this._viewportElement.scrollTop, this._viewportElement.offsetParent) if (this._ignoreNextScrollEvent) this._ignoreNextScrollEvent = !1;else {\n          var t = Math.round(this._lastScrollTop / this._currentRowHeight) - this._terminal.buffer.ydisp;\n\n          this._terminal.scrollLines(t, !0);\n        }\n      }, t.prototype.onWheel = function (e) {\n        var t = this._getPixelsScrolled(e);\n\n        0 !== t && (this._viewportElement.scrollTop += t, e.preventDefault());\n      }, t.prototype._getPixelsScrolled = function (e) {\n        if (0 === e.deltaY) return 0;\n        var t = e.deltaY;\n        return e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t *= this._currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._currentRowHeight * this._terminal.rows), t;\n      }, t.prototype.getLinesScrolled = function (e) {\n        if (0 === e.deltaY) return 0;\n        var t = e.deltaY;\n        return e.deltaMode === WheelEvent.DOM_DELTA_PIXEL ? (t /= this._currentRowHeight + 0, this._wheelPartialScroll += t, t = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1), this._wheelPartialScroll %= 1) : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._terminal.rows), t;\n      }, t.prototype.onTouchStart = function (e) {\n        this._lastTouchY = e.touches[0].pageY;\n      }, t.prototype.onTouchMove = function (e) {\n        var t = this._lastTouchY - e.touches[0].pageY;\n        this._lastTouchY = e.touches[0].pageY, 0 !== t && (this._viewportElement.scrollTop += t, e.preventDefault());\n      }, t;\n    }(s.Disposable);\n\n    t.Viewport = l;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    function r(e) {\n      return e.replace(/\\r?\\n/g, \"\\r\");\n    }\n\n    function n(e, t) {\n      return t ? \"\u001b[200~\" + e + \"\u001b[201~\" : e;\n    }\n\n    function s(e, t) {\n      var i = t.screenElement.getBoundingClientRect(),\n          r = e.clientX - i.left - 10,\n          n = e.clientY - i.top - 10;\n      t.textarea.style.position = \"absolute\", t.textarea.style.width = \"20px\", t.textarea.style.height = \"20px\", t.textarea.style.left = r + \"px\", t.textarea.style.top = n + \"px\", t.textarea.style.zIndex = \"1000\", t.textarea.focus(), setTimeout(function () {\n        t.textarea.style.position = null, t.textarea.style.width = null, t.textarea.style.height = null, t.textarea.style.left = null, t.textarea.style.top = null, t.textarea.style.zIndex = null;\n      }, 200);\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.prepareTextForTerminal = r, t.bracketTextForPaste = n, t.copyHandler = function (e, t, i) {\n      t.browser.isMSIE ? window.clipboardData.setData(\"Text\", i.selectionText) : e.clipboardData.setData(\"text/plain\", i.selectionText), e.preventDefault();\n    }, t.pasteHandler = function (e, t) {\n      e.stopPropagation();\n\n      var i = function (i) {\n        i = n(i = r(i), t.bracketedPasteMode), t.handler(i), t.textarea.value = \"\", t.emit(\"paste\", i), t.cancel(e);\n      };\n\n      t.browser.isMSIE ? window.clipboardData && i(window.clipboardData.getData(\"Text\")) : e.clipboardData && i(e.clipboardData.getData(\"text/plain\"));\n    }, t.moveTextAreaUnderMouseCursor = s, t.rightClickHandler = function (e, t, i, r) {\n      s(e, t), r && !i.isClickInSelection(e) && i.selectWordAtCursor(e), t.textarea.value = i.selectionText, t.textarea.select();\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(8),\n        o = i(38),\n        a = i(0),\n        l = i(15),\n        h = i(39),\n        c = i(3),\n        u = i(16),\n        _ = i(17),\n        f = {\n      \"(\": 0,\n      \")\": 1,\n      \"*\": 2,\n      \"+\": 3,\n      \"-\": 1,\n      \".\": 2\n    },\n        d = function () {\n      function e(e) {\n        this._terminal = e, this._data = new Uint32Array(0);\n      }\n\n      return e.prototype.hook = function (e, t, i) {\n        this._data = new Uint32Array(0);\n      }, e.prototype.put = function (e, t, i) {\n        this._data = u.concat(this._data, e.subarray(t, i));\n      }, e.prototype.unhook = function () {\n        var e = _.utf32ToString(this._data);\n\n        switch (this._data = new Uint32Array(0), e) {\n          case '\"q':\n            return this._terminal.handler(s.C0.ESC + 'P1$r0\"q' + s.C0.ESC + \"\\\\\");\n\n          case '\"p':\n            return this._terminal.handler(s.C0.ESC + 'P1$r61\"p' + s.C0.ESC + \"\\\\\");\n\n          case \"r\":\n            var t = this._terminal.buffer.scrollTop + 1 + \";\" + (this._terminal.buffer.scrollBottom + 1) + \"r\";\n            return this._terminal.handler(s.C0.ESC + \"P1$r\" + t + s.C0.ESC + \"\\\\\");\n\n          case \"m\":\n            return this._terminal.handler(s.C0.ESC + \"P1$r0m\" + s.C0.ESC + \"\\\\\");\n\n          case \" q\":\n            var i = {\n              block: 2,\n              underline: 4,\n              bar: 6\n            }[this._terminal.getOption(\"cursorStyle\")];\n\n            return i -= this._terminal.getOption(\"cursorBlink\"), this._terminal.handler(s.C0.ESC + \"P1$r\" + i + \" q\" + s.C0.ESC + \"\\\\\");\n\n          default:\n            this._terminal.error(\"Unknown DCS $q %s\", e), this._terminal.handler(s.C0.ESC + \"P0$r\" + s.C0.ESC + \"\\\\\");\n        }\n      }, e;\n    }(),\n        p = function (e) {\n      function t(t, i) {\n        void 0 === i && (i = new h.EscapeSequenceParser());\n        var r = e.call(this) || this;\n        r._terminal = t, r._parser = i, r._parseBuffer = new Uint32Array(4096), r._stringDecoder = new _.StringToUtf32(), r.register(r._parser), r._parser.setCsiHandlerFallback(function (e, t, i) {\n          r._terminal.error(\"Unknown CSI code: \", {\n            collect: e,\n            params: t,\n            flag: String.fromCharCode(i)\n          });\n        }), r._parser.setEscHandlerFallback(function (e, t) {\n          r._terminal.error(\"Unknown ESC code: \", {\n            collect: e,\n            flag: String.fromCharCode(t)\n          });\n        }), r._parser.setExecuteHandlerFallback(function (e) {\n          r._terminal.error(\"Unknown EXECUTE code: \", {\n            code: e\n          });\n        }), r._parser.setOscHandlerFallback(function (e, t) {\n          r._terminal.error(\"Unknown OSC code: \", {\n            identifier: e,\n            data: t\n          });\n        }), r._parser.setPrintHandler(function (e, t, i) {\n          return r.print(e, t, i);\n        }), r._parser.setCsiHandler(\"@\", function (e, t) {\n          return r.insertChars(e);\n        }), r._parser.setCsiHandler(\"A\", function (e, t) {\n          return r.cursorUp(e);\n        }), r._parser.setCsiHandler(\"B\", function (e, t) {\n          return r.cursorDown(e);\n        }), r._parser.setCsiHandler(\"C\", function (e, t) {\n          return r.cursorForward(e);\n        }), r._parser.setCsiHandler(\"D\", function (e, t) {\n          return r.cursorBackward(e);\n        }), r._parser.setCsiHandler(\"E\", function (e, t) {\n          return r.cursorNextLine(e);\n        }), r._parser.setCsiHandler(\"F\", function (e, t) {\n          return r.cursorPrecedingLine(e);\n        }), r._parser.setCsiHandler(\"G\", function (e, t) {\n          return r.cursorCharAbsolute(e);\n        }), r._parser.setCsiHandler(\"H\", function (e, t) {\n          return r.cursorPosition(e);\n        }), r._parser.setCsiHandler(\"I\", function (e, t) {\n          return r.cursorForwardTab(e);\n        }), r._parser.setCsiHandler(\"J\", function (e, t) {\n          return r.eraseInDisplay(e);\n        }), r._parser.setCsiHandler(\"K\", function (e, t) {\n          return r.eraseInLine(e);\n        }), r._parser.setCsiHandler(\"L\", function (e, t) {\n          return r.insertLines(e);\n        }), r._parser.setCsiHandler(\"M\", function (e, t) {\n          return r.deleteLines(e);\n        }), r._parser.setCsiHandler(\"P\", function (e, t) {\n          return r.deleteChars(e);\n        }), r._parser.setCsiHandler(\"S\", function (e, t) {\n          return r.scrollUp(e);\n        }), r._parser.setCsiHandler(\"T\", function (e, t) {\n          return r.scrollDown(e, t);\n        }), r._parser.setCsiHandler(\"X\", function (e, t) {\n          return r.eraseChars(e);\n        }), r._parser.setCsiHandler(\"Z\", function (e, t) {\n          return r.cursorBackwardTab(e);\n        }), r._parser.setCsiHandler(\"`\", function (e, t) {\n          return r.charPosAbsolute(e);\n        }), r._parser.setCsiHandler(\"a\", function (e, t) {\n          return r.hPositionRelative(e);\n        }), r._parser.setCsiHandler(\"b\", function (e, t) {\n          return r.repeatPrecedingCharacter(e);\n        }), r._parser.setCsiHandler(\"c\", function (e, t) {\n          return r.sendDeviceAttributes(e, t);\n        }), r._parser.setCsiHandler(\"d\", function (e, t) {\n          return r.linePosAbsolute(e);\n        }), r._parser.setCsiHandler(\"e\", function (e, t) {\n          return r.vPositionRelative(e);\n        }), r._parser.setCsiHandler(\"f\", function (e, t) {\n          return r.hVPosition(e);\n        }), r._parser.setCsiHandler(\"g\", function (e, t) {\n          return r.tabClear(e);\n        }), r._parser.setCsiHandler(\"h\", function (e, t) {\n          return r.setMode(e, t);\n        }), r._parser.setCsiHandler(\"l\", function (e, t) {\n          return r.resetMode(e, t);\n        }), r._parser.setCsiHandler(\"m\", function (e, t) {\n          return r.charAttributes(e);\n        }), r._parser.setCsiHandler(\"n\", function (e, t) {\n          return r.deviceStatus(e, t);\n        }), r._parser.setCsiHandler(\"p\", function (e, t) {\n          return r.softReset(e, t);\n        }), r._parser.setCsiHandler(\"q\", function (e, t) {\n          return r.setCursorStyle(e, t);\n        }), r._parser.setCsiHandler(\"r\", function (e, t) {\n          return r.setScrollRegion(e, t);\n        }), r._parser.setCsiHandler(\"s\", function (e, t) {\n          return r.saveCursor(e);\n        }), r._parser.setCsiHandler(\"u\", function (e, t) {\n          return r.restoreCursor(e);\n        }), r._parser.setExecuteHandler(s.C0.BEL, function () {\n          return r.bell();\n        }), r._parser.setExecuteHandler(s.C0.LF, function () {\n          return r.lineFeed();\n        }), r._parser.setExecuteHandler(s.C0.VT, function () {\n          return r.lineFeed();\n        }), r._parser.setExecuteHandler(s.C0.FF, function () {\n          return r.lineFeed();\n        }), r._parser.setExecuteHandler(s.C0.CR, function () {\n          return r.carriageReturn();\n        }), r._parser.setExecuteHandler(s.C0.BS, function () {\n          return r.backspace();\n        }), r._parser.setExecuteHandler(s.C0.HT, function () {\n          return r.tab();\n        }), r._parser.setExecuteHandler(s.C0.SO, function () {\n          return r.shiftOut();\n        }), r._parser.setExecuteHandler(s.C0.SI, function () {\n          return r.shiftIn();\n        }), r._parser.setExecuteHandler(s.C1.IND, function () {\n          return r.index();\n        }), r._parser.setExecuteHandler(s.C1.NEL, function () {\n          return r.nextLine();\n        }), r._parser.setExecuteHandler(s.C1.HTS, function () {\n          return r.tabSet();\n        }), r._parser.setOscHandler(0, function (e) {\n          return r.setTitle(e);\n        }), r._parser.setOscHandler(2, function (e) {\n          return r.setTitle(e);\n        }), r._parser.setEscHandler(\"7\", function () {\n          return r.saveCursor([]);\n        }), r._parser.setEscHandler(\"8\", function () {\n          return r.restoreCursor([]);\n        }), r._parser.setEscHandler(\"D\", function () {\n          return r.index();\n        }), r._parser.setEscHandler(\"E\", function () {\n          return r.nextLine();\n        }), r._parser.setEscHandler(\"H\", function () {\n          return r.tabSet();\n        }), r._parser.setEscHandler(\"M\", function () {\n          return r.reverseIndex();\n        }), r._parser.setEscHandler(\"=\", function () {\n          return r.keypadApplicationMode();\n        }), r._parser.setEscHandler(\">\", function () {\n          return r.keypadNumericMode();\n        }), r._parser.setEscHandler(\"c\", function () {\n          return r.reset();\n        }), r._parser.setEscHandler(\"n\", function () {\n          return r.setgLevel(2);\n        }), r._parser.setEscHandler(\"o\", function () {\n          return r.setgLevel(3);\n        }), r._parser.setEscHandler(\"|\", function () {\n          return r.setgLevel(3);\n        }), r._parser.setEscHandler(\"}\", function () {\n          return r.setgLevel(2);\n        }), r._parser.setEscHandler(\"~\", function () {\n          return r.setgLevel(1);\n        }), r._parser.setEscHandler(\"%@\", function () {\n          return r.selectDefaultCharset();\n        }), r._parser.setEscHandler(\"%G\", function () {\n          return r.selectDefaultCharset();\n        });\n\n        var n = function (e) {\n          a._parser.setEscHandler(\"(\" + e, function () {\n            return r.selectCharset(\"(\" + e);\n          }), a._parser.setEscHandler(\")\" + e, function () {\n            return r.selectCharset(\")\" + e);\n          }), a._parser.setEscHandler(\"*\" + e, function () {\n            return r.selectCharset(\"*\" + e);\n          }), a._parser.setEscHandler(\"+\" + e, function () {\n            return r.selectCharset(\"+\" + e);\n          }), a._parser.setEscHandler(\"-\" + e, function () {\n            return r.selectCharset(\"-\" + e);\n          }), a._parser.setEscHandler(\".\" + e, function () {\n            return r.selectCharset(\".\" + e);\n          }), a._parser.setEscHandler(\"/\" + e, function () {\n            return r.selectCharset(\"/\" + e);\n          });\n        },\n            a = this;\n\n        for (var l in o.CHARSETS) n(l);\n\n        return r._parser.setErrorHandler(function (e) {\n          return r._terminal.error(\"Parsing error: \", e), e;\n        }), r._parser.setDcsHandler(\"$q\", new d(r._terminal)), r;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._terminal = null;\n      }, t.prototype.parse = function (e) {\n        if (this._terminal) {\n          var t = this._terminal.buffer,\n              i = t.x,\n              r = t.y;\n          this._terminal.debug && this._terminal.log(\"data: \" + e), this._parseBuffer.length < e.length && (this._parseBuffer = new Uint32Array(e.length));\n\n          for (var n = 0; n < e.length; ++n) this._parseBuffer[n] = e.charCodeAt(n);\n\n          this._parser.parse(this._parseBuffer, this._stringDecoder.decode(e, this._parseBuffer)), (t = this._terminal.buffer).x === i && t.y === r || this._terminal.emit(\"cursormove\");\n        }\n      }, t.prototype.print = function (e, t, i) {\n        var r,\n            n,\n            s,\n            o = this._terminal.buffer,\n            h = this._terminal.charset,\n            c = this._terminal.options.screenReaderMode,\n            u = this._terminal.cols,\n            f = this._terminal.wraparoundMode,\n            d = this._terminal.insertMode,\n            p = this._terminal.curAttr,\n            m = o.lines.get(o.y + o.ybase);\n\n        this._terminal.updateRange(o.y);\n\n        for (var y = t; y < i; ++y) {\n          if (r = e[y], n = _.stringFromCodePoint(r), s = l.wcwidth(r), r < 127 && h) {\n            var g = h[n];\n            g && (r = g.charCodeAt(0), n = g);\n          }\n\n          if (c && this._terminal.emit(\"a11y.char\", n), s || !o.x) {\n            if (o.x + s - 1 >= u) if (f) o.x = 0, o.y++, o.y > o.scrollBottom ? (o.y--, this._terminal.scroll(!0)) : o.lines.get(o.y).isWrapped = !0, m = o.lines.get(o.y + o.ybase);else if (2 === s) continue;\n            if (d) m.insertCells(o.x, s, [p, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]), 2 === m.get(u - 1)[a.CHAR_DATA_WIDTH_INDEX] && m.set(u - 1, [p, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]);\n            if (m.set(o.x++, [p, n, s, r]), s > 0) for (; --s;) m.set(o.x++, [p, \"\", 0, void 0]);\n          } else {\n            var C = m.get(o.x - 1);\n            if (C) if (C[a.CHAR_DATA_WIDTH_INDEX]) C[a.CHAR_DATA_CHAR_INDEX] += n, C[a.CHAR_DATA_CODE_INDEX] = r, m.set(o.x - 1, C);else {\n              var v = m.get(o.x - 2);\n              v && (v[a.CHAR_DATA_CHAR_INDEX] += n, v[a.CHAR_DATA_CODE_INDEX] = r, m.set(o.x - 2, v));\n            }\n          }\n        }\n\n        this._terminal.updateRange(o.y);\n      }, t.prototype.addCsiHandler = function (e, t) {\n        return this._parser.addCsiHandler(e, t);\n      }, t.prototype.addOscHandler = function (e, t) {\n        return this._parser.addOscHandler(e, t);\n      }, t.prototype.bell = function () {\n        this._terminal.bell();\n      }, t.prototype.lineFeed = function () {\n        var e = this._terminal.buffer;\n        this._terminal.options.convertEol && (e.x = 0), e.y++, e.y > e.scrollBottom && (e.y--, this._terminal.scroll()), e.x >= this._terminal.cols && e.x--, this._terminal.emit(\"linefeed\");\n      }, t.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n      }, t.prototype.backspace = function () {\n        this._terminal.buffer.x > 0 && this._terminal.buffer.x--;\n      }, t.prototype.tab = function () {\n        var e = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop(), this._terminal.options.screenReaderMode && this._terminal.emit(\"a11y.tab\", this._terminal.buffer.x - e);\n      }, t.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n      }, t.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n      }, t.prototype.insertChars = function (e) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, e[0] || 1, [this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]), this._terminal.updateRange(this._terminal.buffer.y);\n      }, t.prototype.cursorUp = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y -= t, this._terminal.buffer.y < 0 && (this._terminal.buffer.y = 0);\n      }, t.prototype.cursorDown = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--;\n      }, t.prototype.cursorForward = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.x += t, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);\n      }, t.prototype.cursorBackward = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--, this._terminal.buffer.x -= t, this._terminal.buffer.x < 0 && (this._terminal.buffer.x = 0);\n      }, t.prototype.cursorNextLine = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x = 0;\n      }, t.prototype.cursorPrecedingLine = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y -= t, this._terminal.buffer.y < 0 && (this._terminal.buffer.y = 0), this._terminal.buffer.x = 0;\n      }, t.prototype.cursorCharAbsolute = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.x = t - 1;\n      }, t.prototype.cursorPosition = function (e) {\n        var t,\n            i = e[0] - 1;\n        t = e.length >= 2 ? e[1] - 1 : 0, i < 0 ? i = 0 : i >= this._terminal.rows && (i = this._terminal.rows - 1), t < 0 ? t = 0 : t >= this._terminal.cols && (t = this._terminal.cols - 1), this._terminal.buffer.x = t, this._terminal.buffer.y = i;\n      }, t.prototype.cursorForwardTab = function (e) {\n        for (var t = e[0] || 1; t--;) this._terminal.buffer.x = this._terminal.buffer.nextStop();\n      }, t.prototype._eraseInBufferLine = function (e, t, i, r) {\n        void 0 === r && (r = !1);\n\n        var n = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + e);\n\n        n.replaceCells(t, i, [this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]), r && (n.isWrapped = !1);\n      }, t.prototype._resetBufferLine = function (e) {\n        this._eraseInBufferLine(e, 0, this._terminal.cols, !0);\n      }, t.prototype.eraseInDisplay = function (e) {\n        var t;\n\n        switch (e[0]) {\n          case 0:\n            for (t = this._terminal.buffer.y, this._terminal.updateRange(t), this._eraseInBufferLine(t++, this._terminal.buffer.x, this._terminal.cols, 0 === this._terminal.buffer.x); t < this._terminal.rows; t++) this._resetBufferLine(t);\n\n            this._terminal.updateRange(t);\n\n            break;\n\n          case 1:\n            for (t = this._terminal.buffer.y, this._terminal.updateRange(t), this._eraseInBufferLine(t, 0, this._terminal.buffer.x + 1, !0), this._terminal.buffer.x + 1 >= this._terminal.cols && (this._terminal.buffer.lines.get(t + 1).isWrapped = !1); t--;) this._resetBufferLine(t);\n\n            this._terminal.updateRange(0);\n\n            break;\n\n          case 2:\n            for (t = this._terminal.rows, this._terminal.updateRange(t - 1); t--;) this._resetBufferLine(t);\n\n            this._terminal.updateRange(0);\n\n            break;\n\n          case 3:\n            var i = this._terminal.buffer.lines.length - this._terminal.rows;\n            i > 0 && (this._terminal.buffer.lines.trimStart(i), this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - i, 0), this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - i, 0), this._terminal.emit(\"scroll\", 0));\n        }\n      }, t.prototype.eraseInLine = function (e) {\n        switch (e[0]) {\n          case 0:\n            this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n\n            break;\n\n          case 1:\n            this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n\n            break;\n\n          case 2:\n            this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n\n        }\n\n        this._terminal.updateRange(this._terminal.buffer.y);\n      }, t.prototype.insertLines = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1);\n\n        for (var i = this._terminal.buffer, r = i.y + i.ybase, n = this._terminal.rows - 1 - i.scrollBottom, s = this._terminal.rows - 1 + i.ybase - n + 1; t--;) i.lines.splice(s - 1, 1), i.lines.splice(r, 0, i.getBlankLine(this._terminal.eraseAttr()));\n\n        this._terminal.updateRange(i.y), this._terminal.updateRange(i.scrollBottom);\n      }, t.prototype.deleteLines = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1);\n        var i,\n            r = this._terminal.buffer,\n            n = r.y + r.ybase;\n\n        for (i = this._terminal.rows - 1 - r.scrollBottom, i = this._terminal.rows - 1 + r.ybase - i; t--;) r.lines.splice(n, 1), r.lines.splice(i, 0, r.getBlankLine(this._terminal.eraseAttr()));\n\n        this._terminal.updateRange(r.y), this._terminal.updateRange(r.scrollBottom);\n      }, t.prototype.deleteChars = function (e) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, e[0] || 1, [this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]), this._terminal.updateRange(this._terminal.buffer.y);\n      }, t.prototype.scrollUp = function (e) {\n        for (var t = e[0] || 1, i = this._terminal.buffer; t--;) i.lines.splice(i.ybase + i.scrollTop, 1), i.lines.splice(i.ybase + i.scrollBottom, 0, i.getBlankLine(a.DEFAULT_ATTR));\n\n        this._terminal.updateRange(i.scrollTop), this._terminal.updateRange(i.scrollBottom);\n      }, t.prototype.scrollDown = function (e, t) {\n        if (e.length < 2 && !t) {\n          for (var i = e[0] || 1, r = this._terminal.buffer; i--;) r.lines.splice(r.ybase + r.scrollBottom, 1), r.lines.splice(r.ybase + r.scrollBottom, 0, r.getBlankLine(a.DEFAULT_ATTR));\n\n          this._terminal.updateRange(r.scrollTop), this._terminal.updateRange(r.scrollBottom);\n        }\n      }, t.prototype.eraseChars = function (e) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (e[0] || 1), [this._terminal.eraseAttr(), a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]);\n      }, t.prototype.cursorBackwardTab = function (e) {\n        for (var t = e[0] || 1, i = this._terminal.buffer; t--;) i.x = i.prevStop();\n      }, t.prototype.charPosAbsolute = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.x = t - 1, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);\n      }, t.prototype.hPositionRelative = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.x += t, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);\n      }, t.prototype.repeatPrecedingCharacter = function (e) {\n        var t = this._terminal.buffer,\n            i = t.lines.get(t.ybase + t.y);\n        i.replaceCells(t.x, t.x + (e[0] || 1), i.get(t.x - 1) || [a.DEFAULT_ATTR, a.NULL_CELL_CHAR, a.NULL_CELL_WIDTH, a.NULL_CELL_CODE]);\n      }, t.prototype.sendDeviceAttributes = function (e, t) {\n        e[0] > 0 || (t ? \">\" === t && (this._terminal.is(\"xterm\") ? this._terminal.handler(s.C0.ESC + \"[>0;276;0c\") : this._terminal.is(\"rxvt-unicode\") ? this._terminal.handler(s.C0.ESC + \"[>85;95;0c\") : this._terminal.is(\"linux\") ? this._terminal.handler(e[0] + \"c\") : this._terminal.is(\"screen\") && this._terminal.handler(s.C0.ESC + \"[>83;40003;0c\")) : this._terminal.is(\"xterm\") || this._terminal.is(\"rxvt-unicode\") || this._terminal.is(\"screen\") ? this._terminal.handler(s.C0.ESC + \"[?1;2c\") : this._terminal.is(\"linux\") && this._terminal.handler(s.C0.ESC + \"[?6c\"));\n      }, t.prototype.linePosAbsolute = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y = t - 1, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1);\n      }, t.prototype.vPositionRelative = function (e) {\n        var t = e[0];\n        t < 1 && (t = 1), this._terminal.buffer.y += t, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x >= this._terminal.cols && this._terminal.buffer.x--;\n      }, t.prototype.hVPosition = function (e) {\n        e[0] < 1 && (e[0] = 1), e[1] < 1 && (e[1] = 1), this._terminal.buffer.y = e[0] - 1, this._terminal.buffer.y >= this._terminal.rows && (this._terminal.buffer.y = this._terminal.rows - 1), this._terminal.buffer.x = e[1] - 1, this._terminal.buffer.x >= this._terminal.cols && (this._terminal.buffer.x = this._terminal.cols - 1);\n      }, t.prototype.tabClear = function (e) {\n        var t = e[0];\n        t <= 0 ? delete this._terminal.buffer.tabs[this._terminal.buffer.x] : 3 === t && (this._terminal.buffer.tabs = {});\n      }, t.prototype.setMode = function (e, t) {\n        if (e.length > 1) for (var i = 0; i < e.length; i++) this.setMode([e[i]]);else if (t) {\n          if (\"?\" === t) switch (e[0]) {\n            case 1:\n              this._terminal.applicationCursor = !0;\n              break;\n\n            case 2:\n              this._terminal.setgCharset(0, o.DEFAULT_CHARSET), this._terminal.setgCharset(1, o.DEFAULT_CHARSET), this._terminal.setgCharset(2, o.DEFAULT_CHARSET), this._terminal.setgCharset(3, o.DEFAULT_CHARSET);\n              break;\n\n            case 3:\n              this._terminal.savedCols = this._terminal.cols, this._terminal.resize(132, this._terminal.rows);\n              break;\n\n            case 6:\n              this._terminal.originMode = !0;\n              break;\n\n            case 7:\n              this._terminal.wraparoundMode = !0;\n              break;\n\n            case 12:\n              break;\n\n            case 66:\n              this._terminal.log(\"Serial port requested application keypad.\"), this._terminal.applicationKeypad = !0, this._terminal.viewport && this._terminal.viewport.syncScrollArea();\n              break;\n\n            case 9:\n            case 1e3:\n            case 1002:\n            case 1003:\n              this._terminal.x10Mouse = 9 === e[0], this._terminal.vt200Mouse = 1e3 === e[0], this._terminal.normalMouse = e[0] > 1e3, this._terminal.mouseEvents = !0, this._terminal.element && this._terminal.element.classList.add(\"enable-mouse-events\"), this._terminal.selectionManager && this._terminal.selectionManager.disable(), this._terminal.log(\"Binding to mouse events.\");\n              break;\n\n            case 1004:\n              this._terminal.sendFocus = !0;\n              break;\n\n            case 1005:\n              this._terminal.utfMouse = !0;\n              break;\n\n            case 1006:\n              this._terminal.sgrMouse = !0;\n              break;\n\n            case 1015:\n              this._terminal.urxvtMouse = !0;\n              break;\n\n            case 25:\n              this._terminal.cursorHidden = !1;\n              break;\n\n            case 1048:\n              this.saveCursor(e);\n              break;\n\n            case 1049:\n              this.saveCursor(e);\n\n            case 47:\n            case 1047:\n              this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr()), this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.showCursor();\n              break;\n\n            case 2004:\n              this._terminal.bracketedPasteMode = !0;\n          }\n        } else switch (e[0]) {\n          case 4:\n            this._terminal.insertMode = !0;\n        }\n      }, t.prototype.resetMode = function (e, t) {\n        if (e.length > 1) for (var i = 0; i < e.length; i++) this.resetMode([e[i]]);else if (t) {\n          if (\"?\" === t) switch (e[0]) {\n            case 1:\n              this._terminal.applicationCursor = !1;\n              break;\n\n            case 3:\n              132 === this._terminal.cols && this._terminal.savedCols && this._terminal.resize(this._terminal.savedCols, this._terminal.rows), delete this._terminal.savedCols;\n              break;\n\n            case 6:\n              this._terminal.originMode = !1;\n              break;\n\n            case 7:\n              this._terminal.wraparoundMode = !1;\n              break;\n\n            case 12:\n              break;\n\n            case 66:\n              this._terminal.log(\"Switching back to normal keypad.\"), this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea();\n              break;\n\n            case 9:\n            case 1e3:\n            case 1002:\n            case 1003:\n              this._terminal.x10Mouse = !1, this._terminal.vt200Mouse = !1, this._terminal.normalMouse = !1, this._terminal.mouseEvents = !1, this._terminal.element && this._terminal.element.classList.remove(\"enable-mouse-events\"), this._terminal.selectionManager && this._terminal.selectionManager.enable();\n              break;\n\n            case 1004:\n              this._terminal.sendFocus = !1;\n              break;\n\n            case 1005:\n              this._terminal.utfMouse = !1;\n              break;\n\n            case 1006:\n              this._terminal.sgrMouse = !1;\n              break;\n\n            case 1015:\n              this._terminal.urxvtMouse = !1;\n              break;\n\n            case 25:\n              this._terminal.cursorHidden = !0;\n              break;\n\n            case 1048:\n              this.restoreCursor(e);\n              break;\n\n            case 1049:\n            case 47:\n            case 1047:\n              this._terminal.buffers.activateNormalBuffer(), 1049 === e[0] && this.restoreCursor(e), this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.showCursor();\n              break;\n\n            case 2004:\n              this._terminal.bracketedPasteMode = !1;\n          }\n        } else switch (e[0]) {\n          case 4:\n            this._terminal.insertMode = !1;\n        }\n      }, t.prototype.charAttributes = function (e) {\n        if (1 !== e.length || 0 !== e[0]) {\n          for (var t, i = e.length, r = this._terminal.curAttr >> 18, n = this._terminal.curAttr >> 9 & 511, s = 511 & this._terminal.curAttr, o = 0; o < i; o++) (t = e[o]) >= 30 && t <= 37 ? n = t - 30 : t >= 40 && t <= 47 ? s = t - 40 : t >= 90 && t <= 97 ? n = (t += 8) - 90 : t >= 100 && t <= 107 ? s = (t += 8) - 100 : 0 === t ? (r = a.DEFAULT_ATTR >> 18, n = a.DEFAULT_ATTR >> 9 & 511, s = 511 & a.DEFAULT_ATTR) : 1 === t ? r |= 1 : 3 === t ? r |= 64 : 4 === t ? r |= 2 : 5 === t ? r |= 4 : 7 === t ? r |= 8 : 8 === t ? r |= 16 : 2 === t ? r |= 32 : 22 === t ? (r &= -2, r &= -33) : 23 === t ? r &= -65 : 24 === t ? r &= -3 : 25 === t ? r &= -5 : 27 === t ? r &= -9 : 28 === t ? r &= -17 : 39 === t ? n = a.DEFAULT_ATTR >> 9 & 511 : 49 === t ? s = 511 & a.DEFAULT_ATTR : 38 === t ? 2 === e[o + 1] ? (o += 2, -1 === (n = this._terminal.matchColor(255 & e[o], 255 & e[o + 1], 255 & e[o + 2])) && (n = 511), o += 2) : 5 === e[o + 1] && (n = t = 255 & e[o += 2]) : 48 === t ? 2 === e[o + 1] ? (o += 2, -1 === (s = this._terminal.matchColor(255 & e[o], 255 & e[o + 1], 255 & e[o + 2])) && (s = 511), o += 2) : 5 === e[o + 1] && (s = t = 255 & e[o += 2]) : 100 === t ? (n = a.DEFAULT_ATTR >> 9 & 511, s = 511 & a.DEFAULT_ATTR) : this._terminal.error(\"Unknown SGR attribute: %d.\", t);\n\n          this._terminal.curAttr = r << 18 | n << 9 | s;\n        } else this._terminal.curAttr = a.DEFAULT_ATTR;\n      }, t.prototype.deviceStatus = function (e, t) {\n        if (t) {\n          if (\"?\" === t) switch (e[0]) {\n            case 6:\n              i = this._terminal.buffer.y + 1, r = this._terminal.buffer.x + 1;\n\n              this._terminal.emit(\"data\", s.C0.ESC + \"[?\" + i + \";\" + r + \"R\");\n\n          }\n        } else switch (e[0]) {\n          case 5:\n            this._terminal.emit(\"data\", s.C0.ESC + \"[0n\");\n\n            break;\n\n          case 6:\n            var i = this._terminal.buffer.y + 1,\n                r = this._terminal.buffer.x + 1;\n\n            this._terminal.emit(\"data\", s.C0.ESC + \"[\" + i + \";\" + r + \"R\");\n\n        }\n      }, t.prototype.softReset = function (e, t) {\n        \"!\" === t && (this._terminal.cursorHidden = !1, this._terminal.insertMode = !1, this._terminal.originMode = !1, this._terminal.wraparoundMode = !0, this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea(), this._terminal.applicationCursor = !1, this._terminal.buffer.scrollTop = 0, this._terminal.buffer.scrollBottom = this._terminal.rows - 1, this._terminal.curAttr = a.DEFAULT_ATTR, this._terminal.buffer.x = this._terminal.buffer.y = 0, this._terminal.charset = null, this._terminal.glevel = 0, this._terminal.charsets = [null]);\n      }, t.prototype.setCursorStyle = function (e, t) {\n        if (\" \" === t) {\n          var i = e[0] < 1 ? 1 : e[0];\n\n          switch (i) {\n            case 1:\n            case 2:\n              this._terminal.setOption(\"cursorStyle\", \"block\");\n\n              break;\n\n            case 3:\n            case 4:\n              this._terminal.setOption(\"cursorStyle\", \"underline\");\n\n              break;\n\n            case 5:\n            case 6:\n              this._terminal.setOption(\"cursorStyle\", \"bar\");\n\n          }\n\n          var r = i % 2 == 1;\n\n          this._terminal.setOption(\"cursorBlink\", r);\n        }\n      }, t.prototype.setScrollRegion = function (e, t) {\n        t || (this._terminal.buffer.scrollTop = (e[0] || 1) - 1, this._terminal.buffer.scrollBottom = (e[1] && e[1] <= this._terminal.rows ? e[1] : this._terminal.rows) - 1, this._terminal.buffer.x = 0, this._terminal.buffer.y = 0);\n      }, t.prototype.saveCursor = function (e) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x, this._terminal.buffer.savedY = this._terminal.buffer.y, this._terminal.buffer.savedCurAttr = this._terminal.curAttr;\n      }, t.prototype.restoreCursor = function (e) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0, this._terminal.buffer.y = this._terminal.buffer.savedY || 0, this._terminal.curAttr = this._terminal.buffer.savedCurAttr || a.DEFAULT_ATTR;\n      }, t.prototype.setTitle = function (e) {\n        this._terminal.handleTitle(e);\n      }, t.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0, this.index();\n      }, t.prototype.keypadApplicationMode = function () {\n        this._terminal.log(\"Serial port requested application keypad.\"), this._terminal.applicationKeypad = !0, this._terminal.viewport && this._terminal.viewport.syncScrollArea();\n      }, t.prototype.keypadNumericMode = function () {\n        this._terminal.log(\"Switching back to normal keypad.\"), this._terminal.applicationKeypad = !1, this._terminal.viewport && this._terminal.viewport.syncScrollArea();\n      }, t.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0), this._terminal.setgCharset(0, o.DEFAULT_CHARSET);\n      }, t.prototype.selectCharset = function (e) {\n        if (2 !== e.length) return this.selectDefaultCharset();\n        \"/\" !== e[0] && this._terminal.setgCharset(f[e[0]], o.CHARSETS[e[1]] || o.DEFAULT_CHARSET);\n      }, t.prototype.index = function () {\n        this._terminal.index();\n      }, t.prototype.tabSet = function () {\n        this._terminal.tabSet();\n      }, t.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n      }, t.prototype.reset = function () {\n        this._parser.reset(), this._terminal.reset();\n      }, t.prototype.setgLevel = function (e) {\n        this._terminal.setgLevel(e);\n      }, t;\n    }(c.Disposable);\n\n    t.InputHandler = p;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.CHARSETS = {}, t.DEFAULT_CHARSET = t.CHARSETS.B, t.CHARSETS[0] = {\n      \"`\": \"◆\",\n      a: \"▒\",\n      b: \"\\t\",\n      c: \"\\f\",\n      d: \"\\r\",\n      e: \"\\n\",\n      f: \"°\",\n      g: \"±\",\n      h: \"␤\",\n      i: \"\\v\",\n      j: \"┘\",\n      k: \"┐\",\n      l: \"┌\",\n      m: \"└\",\n      n: \"┼\",\n      o: \"⎺\",\n      p: \"⎻\",\n      q: \"─\",\n      r: \"⎼\",\n      s: \"⎽\",\n      t: \"├\",\n      u: \"┤\",\n      v: \"┴\",\n      w: \"┬\",\n      x: \"│\",\n      y: \"≤\",\n      z: \"≥\",\n      \"{\": \"π\",\n      \"|\": \"≠\",\n      \"}\": \"£\",\n      \"~\": \"·\"\n    }, t.CHARSETS.A = {\n      \"#\": \"£\"\n    }, t.CHARSETS.B = null, t.CHARSETS[4] = {\n      \"#\": \"£\",\n      \"@\": \"¾\",\n      \"[\": \"ij\",\n      \"\\\\\": \"½\",\n      \"]\": \"|\",\n      \"{\": \"¨\",\n      \"|\": \"f\",\n      \"}\": \"¼\",\n      \"~\": \"´\"\n    }, t.CHARSETS.C = t.CHARSETS[5] = {\n      \"[\": \"Ä\",\n      \"\\\\\": \"Ö\",\n      \"]\": \"Å\",\n      \"^\": \"Ü\",\n      \"`\": \"é\",\n      \"{\": \"ä\",\n      \"|\": \"ö\",\n      \"}\": \"å\",\n      \"~\": \"ü\"\n    }, t.CHARSETS.R = {\n      \"#\": \"£\",\n      \"@\": \"à\",\n      \"[\": \"°\",\n      \"\\\\\": \"ç\",\n      \"]\": \"§\",\n      \"{\": \"é\",\n      \"|\": \"ù\",\n      \"}\": \"è\",\n      \"~\": \"¨\"\n    }, t.CHARSETS.Q = {\n      \"@\": \"à\",\n      \"[\": \"â\",\n      \"\\\\\": \"ç\",\n      \"]\": \"ê\",\n      \"^\": \"î\",\n      \"`\": \"ô\",\n      \"{\": \"é\",\n      \"|\": \"ù\",\n      \"}\": \"è\",\n      \"~\": \"û\"\n    }, t.CHARSETS.K = {\n      \"@\": \"§\",\n      \"[\": \"Ä\",\n      \"\\\\\": \"Ö\",\n      \"]\": \"Ü\",\n      \"{\": \"ä\",\n      \"|\": \"ö\",\n      \"}\": \"ü\",\n      \"~\": \"ß\"\n    }, t.CHARSETS.Y = {\n      \"#\": \"£\",\n      \"@\": \"§\",\n      \"[\": \"°\",\n      \"\\\\\": \"ç\",\n      \"]\": \"é\",\n      \"`\": \"ù\",\n      \"{\": \"à\",\n      \"|\": \"ò\",\n      \"}\": \"è\",\n      \"~\": \"ì\"\n    }, t.CHARSETS.E = t.CHARSETS[6] = {\n      \"@\": \"Ä\",\n      \"[\": \"Æ\",\n      \"\\\\\": \"Ø\",\n      \"]\": \"Å\",\n      \"^\": \"Ü\",\n      \"`\": \"ä\",\n      \"{\": \"æ\",\n      \"|\": \"ø\",\n      \"}\": \"å\",\n      \"~\": \"ü\"\n    }, t.CHARSETS.Z = {\n      \"#\": \"£\",\n      \"@\": \"§\",\n      \"[\": \"¡\",\n      \"\\\\\": \"Ñ\",\n      \"]\": \"¿\",\n      \"{\": \"°\",\n      \"|\": \"ñ\",\n      \"}\": \"ç\"\n    }, t.CHARSETS.H = t.CHARSETS[7] = {\n      \"@\": \"É\",\n      \"[\": \"Ä\",\n      \"\\\\\": \"Ö\",\n      \"]\": \"Å\",\n      \"^\": \"Ü\",\n      \"`\": \"é\",\n      \"{\": \"ä\",\n      \"|\": \"ö\",\n      \"}\": \"å\",\n      \"~\": \"ü\"\n    }, t.CHARSETS[\"=\"] = {\n      \"#\": \"ù\",\n      \"@\": \"à\",\n      \"[\": \"é\",\n      \"\\\\\": \"ç\",\n      \"]\": \"ê\",\n      \"^\": \"î\",\n      _: \"è\",\n      \"`\": \"ô\",\n      \"{\": \"ä\",\n      \"|\": \"ö\",\n      \"}\": \"ü\",\n      \"~\": \"û\"\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = i(3),\n        o = i(17);\n\n    function a(e, t) {\n      for (var i = t - e, r = new Array(i); i--;) r[i] = --t;\n\n      return r;\n    }\n\n    var l = function () {\n      function e(e) {\n        this.table = \"undefined\" == typeof Uint8Array ? new Array(e) : new Uint8Array(e);\n      }\n\n      return e.prototype.add = function (e, t, i, r) {\n        this.table[t << 8 | e] = (0 | i) << 4 | (void 0 === r ? t : r);\n      }, e.prototype.addMany = function (e, t, i, r) {\n        for (var n = 0; n < e.length; n++) this.add(e[n], t, i, r);\n      }, e;\n    }();\n\n    t.TransitionTable = l;\n    var h = a(32, 127),\n        c = a(0, 24);\n    c.push(25), c.push.apply(c, a(28, 32));\n\n    t.VT500_TRANSITION_TABLE = function () {\n      var e,\n          t = new l(4095),\n          i = a(0, 14);\n\n      for (e in i) for (var r = 0; r <= 160; ++r) t.add(r, e, 1, 0);\n\n      for (e in t.addMany(h, 0, 2, 0), i) t.addMany([24, 26, 153, 154], e, 3, 0), t.addMany(a(128, 144), e, 3, 0), t.addMany(a(144, 152), e, 3, 0), t.add(156, e, 0, 0), t.add(27, e, 11, 1), t.add(157, e, 4, 8), t.addMany([152, 158, 159], e, 0, 7), t.add(155, e, 11, 3), t.add(144, e, 11, 9);\n\n      return t.addMany(c, 0, 3, 0), t.addMany(c, 1, 3, 1), t.add(127, 1, 0, 1), t.addMany(c, 8, 0, 8), t.addMany(c, 3, 3, 3), t.add(127, 3, 0, 3), t.addMany(c, 4, 3, 4), t.add(127, 4, 0, 4), t.addMany(c, 6, 3, 6), t.addMany(c, 5, 3, 5), t.add(127, 5, 0, 5), t.addMany(c, 2, 3, 2), t.add(127, 2, 0, 2), t.add(93, 1, 4, 8), t.addMany(h, 8, 5, 8), t.add(127, 8, 5, 8), t.addMany([156, 27, 24, 26, 7], 8, 6, 0), t.addMany(a(28, 32), 8, 0, 8), t.addMany([88, 94, 95], 1, 0, 7), t.addMany(h, 7, 0, 7), t.addMany(c, 7, 0, 7), t.add(156, 7, 0, 0), t.add(127, 7, 0, 7), t.add(91, 1, 11, 3), t.addMany(a(64, 127), 3, 7, 0), t.addMany(a(48, 58), 3, 8, 4), t.add(59, 3, 8, 4), t.addMany([60, 61, 62, 63], 3, 9, 4), t.addMany(a(48, 58), 4, 8, 4), t.add(59, 4, 8, 4), t.addMany(a(64, 127), 4, 7, 0), t.addMany([58, 60, 61, 62, 63], 4, 0, 6), t.addMany(a(32, 64), 6, 0, 6), t.add(127, 6, 0, 6), t.addMany(a(64, 127), 6, 0, 0), t.add(58, 3, 0, 6), t.addMany(a(32, 48), 3, 9, 5), t.addMany(a(32, 48), 5, 9, 5), t.addMany(a(48, 64), 5, 0, 6), t.addMany(a(64, 127), 5, 7, 0), t.addMany(a(32, 48), 4, 9, 5), t.addMany(a(32, 48), 1, 9, 2), t.addMany(a(32, 48), 2, 9, 2), t.addMany(a(48, 127), 2, 10, 0), t.addMany(a(48, 80), 1, 10, 0), t.addMany(a(81, 88), 1, 10, 0), t.addMany([89, 90, 92], 1, 10, 0), t.addMany(a(96, 127), 1, 10, 0), t.add(80, 1, 11, 9), t.addMany(c, 9, 0, 9), t.add(127, 9, 0, 9), t.addMany(a(28, 32), 9, 0, 9), t.addMany(a(32, 48), 9, 9, 12), t.add(58, 9, 0, 11), t.addMany(a(48, 58), 9, 8, 10), t.add(59, 9, 8, 10), t.addMany([60, 61, 62, 63], 9, 9, 10), t.addMany(c, 11, 0, 11), t.addMany(a(32, 128), 11, 0, 11), t.addMany(a(28, 32), 11, 0, 11), t.addMany(c, 10, 0, 10), t.add(127, 10, 0, 10), t.addMany(a(28, 32), 10, 0, 10), t.addMany(a(48, 58), 10, 8, 10), t.add(59, 10, 8, 10), t.addMany([58, 60, 61, 62, 63], 10, 0, 11), t.addMany(a(32, 48), 10, 9, 12), t.addMany(c, 12, 0, 12), t.add(127, 12, 0, 12), t.addMany(a(28, 32), 12, 0, 12), t.addMany(a(32, 48), 12, 9, 12), t.addMany(a(48, 64), 12, 0, 11), t.addMany(a(64, 127), 12, 12, 13), t.addMany(a(64, 127), 10, 12, 13), t.addMany(a(64, 127), 9, 12, 13), t.addMany(c, 13, 13, 13), t.addMany(h, 13, 13, 13), t.add(127, 13, 0, 13), t.addMany([27, 156], 13, 14, 0), t.add(160, 8, 5, 8), t;\n    }();\n\n    var u = function () {\n      function e() {}\n\n      return e.prototype.hook = function (e, t, i) {}, e.prototype.put = function (e, t, i) {}, e.prototype.unhook = function () {}, e;\n    }(),\n        _ = function (e) {\n      function i(i) {\n        void 0 === i && (i = t.VT500_TRANSITION_TABLE);\n        var r = e.call(this) || this;\n        return r.TRANSITIONS = i, r.initialState = 0, r.currentState = r.initialState, r._osc = \"\", r._params = [0], r._collect = \"\", r._printHandlerFb = function (e, t, i) {}, r._executeHandlerFb = function (e) {}, r._csiHandlerFb = function (e, t, i) {}, r._escHandlerFb = function (e, t) {}, r._oscHandlerFb = function (e, t) {}, r._dcsHandlerFb = new u(), r._errorHandlerFb = function (e) {\n          return e;\n        }, r._printHandler = r._printHandlerFb, r._executeHandlers = Object.create(null), r._csiHandlers = Object.create(null), r._escHandlers = Object.create(null), r._oscHandlers = Object.create(null), r._dcsHandlers = Object.create(null), r._activeDcsHandler = null, r._errorHandler = r._errorHandlerFb, r.setEscHandler(\"\\\\\", function () {}), r;\n      }\n\n      return n(i, e), i.prototype.dispose = function () {\n        this._printHandlerFb = null, this._executeHandlerFb = null, this._csiHandlerFb = null, this._escHandlerFb = null, this._oscHandlerFb = null, this._dcsHandlerFb = null, this._errorHandlerFb = null, this._printHandler = null, this._executeHandlers = null, this._escHandlers = null, this._csiHandlers = null, this._oscHandlers = null, this._dcsHandlers = null, this._activeDcsHandler = null, this._errorHandler = null;\n      }, i.prototype.setPrintHandler = function (e) {\n        this._printHandler = e;\n      }, i.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n      }, i.prototype.setExecuteHandler = function (e, t) {\n        this._executeHandlers[e.charCodeAt(0)] = t;\n      }, i.prototype.clearExecuteHandler = function (e) {\n        this._executeHandlers[e.charCodeAt(0)] && delete this._executeHandlers[e.charCodeAt(0)];\n      }, i.prototype.setExecuteHandlerFallback = function (e) {\n        this._executeHandlerFb = e;\n      }, i.prototype.addCsiHandler = function (e, t) {\n        var i = e.charCodeAt(0);\n        void 0 === this._csiHandlers[i] && (this._csiHandlers[i] = []);\n        var r = this._csiHandlers[i];\n        return r.push(t), {\n          dispose: function () {\n            var e = r.indexOf(t);\n            -1 !== e && r.splice(e, 1);\n          }\n        };\n      }, i.prototype.setCsiHandler = function (e, t) {\n        this._csiHandlers[e.charCodeAt(0)] = [t];\n      }, i.prototype.clearCsiHandler = function (e) {\n        this._csiHandlers[e.charCodeAt(0)] && delete this._csiHandlers[e.charCodeAt(0)];\n      }, i.prototype.setCsiHandlerFallback = function (e) {\n        this._csiHandlerFb = e;\n      }, i.prototype.setEscHandler = function (e, t) {\n        this._escHandlers[e] = t;\n      }, i.prototype.clearEscHandler = function (e) {\n        this._escHandlers[e] && delete this._escHandlers[e];\n      }, i.prototype.setEscHandlerFallback = function (e) {\n        this._escHandlerFb = e;\n      }, i.prototype.addOscHandler = function (e, t) {\n        void 0 === this._oscHandlers[e] && (this._oscHandlers[e] = []);\n        var i = this._oscHandlers[e];\n        return i.push(t), {\n          dispose: function () {\n            var e = i.indexOf(t);\n            -1 !== e && i.splice(e, 1);\n          }\n        };\n      }, i.prototype.setOscHandler = function (e, t) {\n        this._oscHandlers[e] = [t];\n      }, i.prototype.clearOscHandler = function (e) {\n        this._oscHandlers[e] && delete this._oscHandlers[e];\n      }, i.prototype.setOscHandlerFallback = function (e) {\n        this._oscHandlerFb = e;\n      }, i.prototype.setDcsHandler = function (e, t) {\n        this._dcsHandlers[e] = t;\n      }, i.prototype.clearDcsHandler = function (e) {\n        this._dcsHandlers[e] && delete this._dcsHandlers[e];\n      }, i.prototype.setDcsHandlerFallback = function (e) {\n        this._dcsHandlerFb = e;\n      }, i.prototype.setErrorHandler = function (e) {\n        this._errorHandler = e;\n      }, i.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n      }, i.prototype.reset = function () {\n        this.currentState = this.initialState, this._osc = \"\", this._params = [0], this._collect = \"\", this._activeDcsHandler = null;\n      }, i.prototype.parse = function (e, t) {\n        for (var i = 0, r = 0, n = !1, s = this.currentState, a = -1, l = -1, h = this._osc, c = this._collect, u = this._params, _ = this.TRANSITIONS.table, f = this._activeDcsHandler, d = null, p = 0; p < t; ++p) if (i = e[p], 0 === s && i > 31 && i < 128) {\n          a = ~a ? a : p;\n\n          do {\n            p++;\n          } while (p < t && e[p] > 31 && e[p] < 128);\n\n          p--;\n        } else if (4 === s && i > 47 && i < 57) u[u.length - 1] = 10 * u[u.length - 1] + i - 48;else {\n          switch ((r = _[s << 8 | (i < 160 ? i : 160)]) >> 4) {\n            case 2:\n              a = ~a ? a : p;\n              break;\n\n            case 3:\n              ~a && (this._printHandler(e, a, p), a = -1), (d = this._executeHandlers[i]) ? d() : this._executeHandlerFb(i);\n              break;\n\n            case 0:\n              ~a ? (this._printHandler(e, a, p), a = -1) : ~l && (f.put(e, l, p), l = -1);\n              break;\n\n            case 1:\n              if (i > 159) switch (s) {\n                case 0:\n                  a = ~a ? a : p;\n                  break;\n\n                case 6:\n                  r |= 6;\n                  break;\n\n                case 11:\n                  r |= 11;\n                  break;\n\n                case 13:\n                  l = ~l ? l : p, r |= 13;\n                  break;\n\n                default:\n                  n = !0;\n              } else n = !0;\n\n              if (n) {\n                if (this._errorHandler({\n                  position: p,\n                  code: i,\n                  currentState: s,\n                  print: a,\n                  dcs: l,\n                  osc: h,\n                  collect: c,\n                  params: u,\n                  abort: !1\n                }).abort) return;\n                n = !1;\n              }\n\n              break;\n\n            case 7:\n              for (var m = this._csiHandlers[i], y = m ? m.length - 1 : -1; y >= 0 && !m[y](u, c); y--);\n\n              y < 0 && this._csiHandlerFb(c, u, i);\n              break;\n\n            case 8:\n              59 === i ? u.push(0) : u[u.length - 1] = 10 * u[u.length - 1] + i - 48;\n              break;\n\n            case 9:\n              c += String.fromCharCode(i);\n              break;\n\n            case 10:\n              (d = this._escHandlers[c + String.fromCharCode(i)]) ? d(c, i) : this._escHandlerFb(c, i);\n              break;\n\n            case 11:\n              ~a && (this._printHandler(e, a, p), a = -1), h = \"\", u = [0], c = \"\", l = -1;\n              break;\n\n            case 12:\n              (f = this._dcsHandlers[c + String.fromCharCode(i)]) || (f = this._dcsHandlerFb), f.hook(c, u, i);\n              break;\n\n            case 13:\n              l = ~l ? l : p;\n              break;\n\n            case 14:\n              f && (~l && f.put(e, l, p), f.unhook(), f = null), 27 === i && (r |= 1), h = \"\", u = [0], c = \"\", l = -1;\n              break;\n\n            case 4:\n              ~a && (this._printHandler(e, a, p), a = -1), h = \"\";\n              break;\n\n            case 5:\n              for (var g = p + 1;; g++) if (g >= t || (i = e[g]) < 32 || i > 127 && i <= 159) {\n                h += o.utf32ToString(e, p, g), p = g - 1;\n                break;\n              }\n\n              break;\n\n            case 6:\n              if (h && 24 !== i && 26 !== i) {\n                var C = h.indexOf(\";\");\n                if (-1 === C) this._oscHandlerFb(-1, h);else {\n                  for (var v = parseInt(h.substring(0, C)), b = h.substring(C + 1), w = this._oscHandlers[v], L = w ? w.length - 1 : -1; L >= 0 && !w[L](b); L--);\n\n                  L < 0 && this._oscHandlerFb(v, b);\n                }\n              }\n\n              27 === i && (r |= 1), h = \"\", u = [0], c = \"\", l = -1;\n          }\n\n          s = 15 & r;\n        }\n\n        0 === s && ~a ? this._printHandler(e, a, t) : 13 === s && ~l && f && f.put(e, l, t), this._osc = h, this._collect = c, this._params = u, this._activeDcsHandler = f, this.currentState = s;\n      }, i;\n    }(s.Disposable);\n\n    t.EscapeSequenceParser = _;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(41),\n        o = i(47),\n        a = i(48),\n        l = i(10),\n        h = i(49),\n        c = i(2),\n        u = i(13),\n        _ = i(20),\n        f = i(50),\n        d = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        r._terminal = t, r._isPaused = !1, r._needsFullRefresh = !1;\n        var n = r._terminal.options.allowTransparency;\n\n        if (r.colorManager = new l.ColorManager(document, n), r._characterJoinerRegistry = new f.CharacterJoinerRegistry(t), i && r.colorManager.setTheme(i), r._renderLayers = [new s.TextRenderLayer(r._terminal.screenElement, 0, r.colorManager.colors, r._characterJoinerRegistry, n), new o.SelectionRenderLayer(r._terminal.screenElement, 1, r.colorManager.colors), new h.LinkRenderLayer(r._terminal.screenElement, 2, r.colorManager.colors, r._terminal), new a.CursorRenderLayer(r._terminal.screenElement, 3, r.colorManager.colors)], r.dimensions = {\n          scaledCharWidth: null,\n          scaledCharHeight: null,\n          scaledCellWidth: null,\n          scaledCellHeight: null,\n          scaledCharLeft: null,\n          scaledCharTop: null,\n          scaledCanvasWidth: null,\n          scaledCanvasHeight: null,\n          canvasWidth: null,\n          canvasHeight: null,\n          actualCellWidth: null,\n          actualCellHeight: null\n        }, r._devicePixelRatio = window.devicePixelRatio, r._updateDimensions(), r.onOptionsChanged(), r._renderDebouncer = new u.RenderDebouncer(r._terminal, r._renderRows.bind(r)), r._screenDprMonitor = new _.ScreenDprMonitor(), r._screenDprMonitor.setListener(function () {\n          return r.onWindowResize(window.devicePixelRatio);\n        }), r.register(r._screenDprMonitor), \"IntersectionObserver\" in window) {\n          var c = new IntersectionObserver(function (e) {\n            return r.onIntersectionChange(e[e.length - 1]);\n          }, {\n            threshold: 0\n          });\n          c.observe(r._terminal.element), r.register({\n            dispose: function () {\n              return c.disconnect();\n            }\n          });\n        }\n\n        return r;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._renderLayers.forEach(function (e) {\n          return e.dispose();\n        });\n      }, t.prototype.onIntersectionChange = function (e) {\n        this._isPaused = 0 === e.intersectionRatio, !this._isPaused && this._needsFullRefresh && this._terminal.refresh(0, this._terminal.rows - 1);\n      }, t.prototype.onWindowResize = function (e) {\n        this._devicePixelRatio !== e && (this._devicePixelRatio = e, this.onResize(this._terminal.cols, this._terminal.rows));\n      }, t.prototype.setTheme = function (e) {\n        var t = this;\n        return this.colorManager.setTheme(e), this._renderLayers.forEach(function (e) {\n          e.onThemeChanged(t._terminal, t.colorManager.colors), e.reset(t._terminal);\n        }), this._isPaused ? this._needsFullRefresh = !0 : this._terminal.refresh(0, this._terminal.rows - 1), this.colorManager.colors;\n      }, t.prototype.onResize = function (e, t) {\n        var i = this;\n        this._updateDimensions(), this._renderLayers.forEach(function (e) {\n          return e.resize(i._terminal, i.dimensions);\n        }), this._isPaused ? this._needsFullRefresh = !0 : this._terminal.refresh(0, this._terminal.rows - 1), this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\", this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\", this.emit(\"resize\", {\n          width: this.dimensions.canvasWidth,\n          height: this.dimensions.canvasHeight\n        });\n      }, t.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n      }, t.prototype.onBlur = function () {\n        var e = this;\n\n        this._runOperation(function (t) {\n          return t.onBlur(e._terminal);\n        });\n      }, t.prototype.onFocus = function () {\n        var e = this;\n\n        this._runOperation(function (t) {\n          return t.onFocus(e._terminal);\n        });\n      }, t.prototype.onSelectionChanged = function (e, t, i) {\n        var r = this;\n        void 0 === i && (i = !1), this._runOperation(function (n) {\n          return n.onSelectionChanged(r._terminal, e, t, i);\n        });\n      }, t.prototype.onCursorMove = function () {\n        var e = this;\n\n        this._runOperation(function (t) {\n          return t.onCursorMove(e._terminal);\n        });\n      }, t.prototype.onOptionsChanged = function () {\n        var e = this;\n        this.colorManager.allowTransparency = this._terminal.options.allowTransparency, this._runOperation(function (t) {\n          return t.onOptionsChanged(e._terminal);\n        });\n      }, t.prototype.clear = function () {\n        var e = this;\n\n        this._runOperation(function (t) {\n          return t.reset(e._terminal);\n        });\n      }, t.prototype._runOperation = function (e) {\n        this._isPaused ? this._needsFullRefresh = !0 : this._renderLayers.forEach(function (t) {\n          return e(t);\n        });\n      }, t.prototype.refreshRows = function (e, t) {\n        this._isPaused ? this._needsFullRefresh = !0 : this._renderDebouncer.refresh(e, t);\n      }, t.prototype._renderRows = function (e, t) {\n        var i = this;\n        this._renderLayers.forEach(function (r) {\n          return r.onGridChanged(i._terminal, e, t);\n        }), this._terminal.emit(\"refresh\", {\n          start: e,\n          end: t\n        });\n      }, t.prototype._updateDimensions = function () {\n        this._terminal.charMeasure.width && this._terminal.charMeasure.height && (this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio), this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight), this.dimensions.scaledCharTop = 1 === this._terminal.options.lineHeight ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing), this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2), this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight, this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth, this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows, this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols);\n      }, t.prototype.registerCharacterJoiner = function (e) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(e);\n      }, t.prototype.deregisterCharacterJoiner = function (e) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(e);\n      }, t;\n    }(c.EventEmitter);\n\n    t.Renderer = d;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(0),\n        o = i(1),\n        a = i(42),\n        l = i(9),\n        h = i(4),\n        c = function (e) {\n      function t(t, i, r, n, s) {\n        var o = e.call(this, t, \"text\", i, s, r) || this;\n        return o._characterOverlapCache = {}, o._state = new a.GridCache(), o._characterJoinerRegistry = n, o;\n      }\n\n      return n(t, e), t.prototype.resize = function (t, i) {\n        e.prototype.resize.call(this, t, i);\n\n        var r = this._getFont(t, !1, !1);\n\n        this._characterWidth === i.scaledCharWidth && this._characterFont === r || (this._characterWidth = i.scaledCharWidth, this._characterFont = r, this._characterOverlapCache = {}), this._state.clear(), this._state.resize(t.cols, t.rows);\n      }, t.prototype.reset = function (e) {\n        this._state.clear(), this.clearAll();\n      }, t.prototype._forEachCell = function (e, t, i, r, n) {\n        for (var a = t; a <= i; a++) for (var l = a + e.buffer.ydisp, h = e.buffer.lines.get(l), c = r ? r.getJoinedCharacters(l) : [], u = 0; u < e.cols; u++) {\n          var _ = h.get(u),\n              f = _[s.CHAR_DATA_CODE_INDEX] || s.WHITESPACE_CELL_CODE,\n              d = _[s.CHAR_DATA_CHAR_INDEX] || s.WHITESPACE_CELL_CHAR,\n              p = _[s.CHAR_DATA_ATTR_INDEX],\n              m = _[s.CHAR_DATA_WIDTH_INDEX],\n              y = !1,\n              g = u;\n\n          if (0 !== m) {\n            if (c.length > 0 && u === c[0][0]) {\n              y = !0;\n              var C = c.shift();\n              d = e.buffer.translateBufferLineToString(l, !0, C[0], C[1]), m = C[1] - C[0], f = 1 / 0, g = C[1] - 1;\n            }\n\n            !y && this._isOverlapping(_) && g < h.length - 1 && h.get(g + 1)[s.CHAR_DATA_CODE_INDEX] === s.NULL_CELL_CODE && (m = 2);\n            var v = p >> 18,\n                b = 511 & p,\n                w = p >> 9 & 511;\n\n            if (8 & v) {\n              var L = b;\n              b = w, (w = L) === o.DEFAULT_COLOR && (w = o.INVERTED_DEFAULT_COLOR), b === o.DEFAULT_COLOR && (b = o.INVERTED_DEFAULT_COLOR);\n            }\n\n            n(f, d, m, u, a, w, b, v), u = g;\n          }\n        }\n      }, t.prototype._drawBackground = function (e, t, i) {\n        var r = this,\n            n = this._ctx,\n            s = e.cols,\n            a = 0,\n            l = 0,\n            c = null;\n        n.save(), this._forEachCell(e, t, i, null, function (e, t, i, u, _, f, d, p) {\n          var m = null;\n          d === o.INVERTED_DEFAULT_COLOR ? m = r._colors.foreground.css : h.is256Color(d) && (m = r._colors.ansi[d].css), null === c && (a = u, l = _), _ !== l ? (n.fillStyle = c, r.fillCells(a, l, s - a, 1), a = u, l = _) : c !== m && (n.fillStyle = c, r.fillCells(a, l, u - a, 1), a = u, l = _), c = m;\n        }), null !== c && (n.fillStyle = c, this.fillCells(a, l, s - a, 1)), n.restore();\n      }, t.prototype._drawForeground = function (e, t, i) {\n        var r = this;\n\n        this._forEachCell(e, t, i, this._characterJoinerRegistry, function (t, i, n, s, a, l, c, u) {\n          16 & u || (2 & u && (r._ctx.save(), l === o.INVERTED_DEFAULT_COLOR ? r._ctx.fillStyle = r._colors.background.css : h.is256Color(l) ? r._ctx.fillStyle = r._colors.ansi[l].css : r._ctx.fillStyle = r._colors.foreground.css, r.fillBottomLineAtCells(s, a, n), r._ctx.restore()), r.drawChars(e, i, t, n, s, a, l, c, !!(1 & u), !!(32 & u), !!(64 & u)));\n        });\n      }, t.prototype.onGridChanged = function (e, t, i) {\n        0 !== this._state.cache.length && (this._charAtlas && this._charAtlas.beginFrame(), this.clearCells(0, t, e.cols, i - t + 1), this._drawBackground(e, t, i), this._drawForeground(e, t, i));\n      }, t.prototype.onOptionsChanged = function (e) {\n        this.setTransparency(e, e.options.allowTransparency);\n      }, t.prototype._isOverlapping = function (e) {\n        if (1 !== e[s.CHAR_DATA_WIDTH_INDEX]) return !1;\n        if (e[s.CHAR_DATA_CODE_INDEX] < 256) return !1;\n        var t = e[s.CHAR_DATA_CHAR_INDEX];\n        if (this._characterOverlapCache.hasOwnProperty(t)) return this._characterOverlapCache[t];\n        this._ctx.save(), this._ctx.font = this._characterFont;\n\n        var i = Math.floor(this._ctx.measureText(t).width) > this._characterWidth;\n\n        return this._ctx.restore(), this._characterOverlapCache[t] = i, i;\n      }, t;\n    }(l.BaseRenderLayer);\n\n    t.TextRenderLayer = c;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e() {\n        this.cache = [];\n      }\n\n      return e.prototype.resize = function (e, t) {\n        for (var i = 0; i < e; i++) {\n          this.cache.length <= i && this.cache.push([]);\n\n          for (var r = this.cache[i].length; r < t; r++) this.cache[i].push(null);\n\n          this.cache[i].length = t;\n        }\n\n        this.cache.length = e;\n      }, e.prototype.clear = function () {\n        for (var e = 0; e < this.cache.length; e++) for (var t = 0; t < this.cache[e].length; t++) this.cache[e][t] = null;\n      }, e;\n    }();\n\n    t.GridCache = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = i(1),\n        o = i(12),\n        a = i(10),\n        l = i(19),\n        h = i(44),\n        c = i(5),\n        u = 1024,\n        _ = 1024,\n        f = {\n      css: \"rgba(0, 0, 0, 0)\",\n      rgba: 0\n    };\n\n    function d(e) {\n      return e.code << 21 | e.bg << 12 | e.fg << 3 | (e.bold ? 0 : 4) + (e.dim ? 0 : 2) + (e.italic ? 0 : 1);\n    }\n\n    t.getGlyphCacheKey = d;\n\n    var p = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        r._config = i, r._drawToCacheCount = 0, r._glyphsWaitingOnBitmap = [], r._bitmapCommitTimeout = null, r._bitmap = null, r._cacheCanvas = t.createElement(\"canvas\"), r._cacheCanvas.width = u, r._cacheCanvas.height = _, r._cacheCtx = r._cacheCanvas.getContext(\"2d\", {\n          alpha: !0\n        });\n        var n = t.createElement(\"canvas\");\n        n.width = r._config.scaledCharWidth, n.height = r._config.scaledCharHeight, r._tmpCtx = n.getContext(\"2d\", {\n          alpha: r._config.allowTransparency\n        }), r._width = Math.floor(u / r._config.scaledCharWidth), r._height = Math.floor(_ / r._config.scaledCharHeight);\n        var s = r._width * r._height;\n        return r._cacheMap = new h.default(s), r._cacheMap.prealloc(s), r;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        null !== this._bitmapCommitTimeout && (window.clearTimeout(this._bitmapCommitTimeout), this._bitmapCommitTimeout = null);\n      }, t.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n      }, t.prototype.draw = function (e, t, i, r) {\n        if (32 === t.code) return !0;\n        if (!this._canCache(t)) return !1;\n\n        var n = d(t),\n            s = this._cacheMap.get(n);\n\n        if (null != s) return this._drawFromCache(e, s, i, r), !0;\n\n        if (this._drawToCacheCount < 100) {\n          var o = void 0;\n          o = this._cacheMap.size < this._cacheMap.capacity ? this._cacheMap.size : this._cacheMap.peek().index;\n\n          var a = this._drawToCache(t, o);\n\n          return this._cacheMap.set(n, a), this._drawFromCache(e, a, i, r), !0;\n        }\n\n        return !1;\n      }, t.prototype._canCache = function (e) {\n        return e.code < 256;\n      }, t.prototype._toCoordinateX = function (e) {\n        return e % this._width * this._config.scaledCharWidth;\n      }, t.prototype._toCoordinateY = function (e) {\n        return Math.floor(e / this._width) * this._config.scaledCharHeight;\n      }, t.prototype._drawFromCache = function (e, t, i, r) {\n        if (!t.isEmpty) {\n          var n = this._toCoordinateX(t.index),\n              s = this._toCoordinateY(t.index);\n\n          e.drawImage(t.inBitmap ? this._bitmap : this._cacheCanvas, n, s, this._config.scaledCharWidth, this._config.scaledCharHeight, i, r, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        }\n      }, t.prototype._getColorFromAnsiIndex = function (e) {\n        return e < this._config.colors.ansi.length ? this._config.colors.ansi[e] : a.DEFAULT_ANSI_COLORS[e];\n      }, t.prototype._getBackgroundColor = function (e) {\n        return this._config.allowTransparency ? f : e.bg === s.INVERTED_DEFAULT_COLOR ? this._config.colors.foreground : e.bg < 256 ? this._getColorFromAnsiIndex(e.bg) : this._config.colors.background;\n      }, t.prototype._getForegroundColor = function (e) {\n        return e.fg === s.INVERTED_DEFAULT_COLOR ? this._config.colors.background : e.fg < 256 ? this._getColorFromAnsiIndex(e.fg) : this._config.colors.foreground;\n      }, t.prototype._drawToCache = function (e, t) {\n        this._drawToCacheCount++, this._tmpCtx.save();\n\n        var i = this._getBackgroundColor(e);\n\n        this._tmpCtx.globalCompositeOperation = \"copy\", this._tmpCtx.fillStyle = i.css, this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight), this._tmpCtx.globalCompositeOperation = \"source-over\";\n        var r = e.bold ? this._config.fontWeightBold : this._config.fontWeight,\n            n = e.italic ? \"italic\" : \"\";\n        this._tmpCtx.font = n + \" \" + r + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily, this._tmpCtx.textBaseline = \"middle\", this._tmpCtx.fillStyle = this._getForegroundColor(e).css, e.dim && (this._tmpCtx.globalAlpha = s.DIM_OPACITY), this._tmpCtx.fillText(e.chars, 0, this._config.scaledCharHeight / 2), this._tmpCtx.restore();\n\n        var o = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight),\n            a = !1;\n\n        this._config.allowTransparency || (a = l.clearColor(o, i));\n\n        var h = this._toCoordinateX(t),\n            c = this._toCoordinateY(t);\n\n        this._cacheCtx.putImageData(o, h, c);\n\n        var u = {\n          index: t,\n          isEmpty: a,\n          inBitmap: !1\n        };\n        return this._addGlyphToBitmap(u), u;\n      }, t.prototype._addGlyphToBitmap = function (e) {\n        var t = this;\n        \"createImageBitmap\" in window && !c.isFirefox && !c.isSafari && (this._glyphsWaitingOnBitmap.push(e), null === this._bitmapCommitTimeout && (this._bitmapCommitTimeout = window.setTimeout(function () {\n          return t._generateBitmap();\n        }, 100)));\n      }, t.prototype._generateBitmap = function () {\n        var e = this,\n            t = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [], window.createImageBitmap(this._cacheCanvas).then(function (i) {\n          e._bitmap = i;\n\n          for (var r = 0; r < t.length; r++) {\n            t[r].inBitmap = !0;\n          }\n        }), this._bitmapCommitTimeout = null;\n      }, t;\n    }(o.default);\n\n    t.default = p;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e) {\n        this.capacity = e, this._map = {}, this._head = null, this._tail = null, this._nodePool = [], this.size = 0;\n      }\n\n      return e.prototype._unlinkNode = function (e) {\n        var t = e.prev,\n            i = e.next;\n        e === this._head && (this._head = i), e === this._tail && (this._tail = t), null !== t && (t.next = i), null !== i && (i.prev = t);\n      }, e.prototype._appendNode = function (e) {\n        var t = this._tail;\n        null !== t && (t.next = e), e.prev = t, e.next = null, this._tail = e, null === this._head && (this._head = e);\n      }, e.prototype.prealloc = function (e) {\n        for (var t = this._nodePool, i = 0; i < e; i++) t.push({\n          prev: null,\n          next: null,\n          key: null,\n          value: null\n        });\n      }, e.prototype.get = function (e) {\n        var t = this._map[e];\n        return void 0 !== t ? (this._unlinkNode(t), this._appendNode(t), t.value) : null;\n      }, e.prototype.peekValue = function (e) {\n        var t = this._map[e];\n        return void 0 !== t ? t.value : null;\n      }, e.prototype.peek = function () {\n        var e = this._head;\n        return null === e ? null : e.value;\n      }, e.prototype.set = function (e, t) {\n        var i = this._map[e];\n        if (void 0 !== i) i = this._map[e], this._unlinkNode(i), i.value = t;else if (this.size >= this.capacity) i = this._head, this._unlinkNode(i), delete this._map[i.key], i.key = e, i.value = t, this._map[e] = i;else {\n          var r = this._nodePool;\n          r.length > 0 ? ((i = r.pop()).key = e, i.value = t) : i = {\n            prev: null,\n            next: null,\n            key: e,\n            value: t\n          }, this._map[e] = i, this.size++;\n        }\n\n        this._appendNode(i);\n      }, e;\n    }();\n\n    t.default = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t(t, i) {\n        return e.call(this) || this;\n      }\n\n      return n(t, e), t.prototype.draw = function (e, t, i, r) {\n        return !1;\n      }, t;\n    }(i(12).default);\n\n    t.default = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(1),\n        o = i(19),\n        a = i(12),\n        l = i(4),\n        h = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        return r._document = t, r._config = i, r._canvasFactory = function (e, t) {\n          var i = r._document.createElement(\"canvas\");\n\n          return i.width = e, i.height = t, i;\n        }, r;\n      }\n\n      return n(t, e), t.prototype._doWarmUp = function () {\n        var e = this,\n            t = o.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        t instanceof HTMLCanvasElement ? this._texture = t : t.then(function (t) {\n          e._texture = t;\n        });\n      }, t.prototype._isCached = function (e, t) {\n        var i = e.code < 256,\n            r = e.fg < 16,\n            n = e.fg === s.DEFAULT_COLOR,\n            o = e.bg === s.DEFAULT_COLOR;\n        return i && (r || n) && o && !e.italic;\n      }, t.prototype.draw = function (e, t, i, r) {\n        if (null === this._texture || void 0 === this._texture) return !1;\n        var n = 0;\n        if (l.is256Color(t.fg) ? n = 2 + t.fg + (t.bold ? 16 : 0) : t.fg === s.DEFAULT_COLOR && t.bold && (n = 1), !this._isCached(t, n)) return !1;\n        e.save();\n        var o = this._config.scaledCharWidth + s.CHAR_ATLAS_CELL_SPACING,\n            a = this._config.scaledCharHeight + s.CHAR_ATLAS_CELL_SPACING;\n        return t.dim && (e.globalAlpha = s.DIM_OPACITY), e.drawImage(this._texture, t.code * o, n * a, o, this._config.scaledCharHeight, i, r, o, this._config.scaledCharHeight), e.restore(), !0;\n      }, t;\n    }(a.default);\n\n    t.default = h;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t(t, i, r) {\n        var n = e.call(this, t, \"selection\", i, !0, r) || this;\n        return n._clearState(), n;\n      }\n\n      return n(t, e), t.prototype._clearState = function () {\n        this._state = {\n          start: null,\n          end: null,\n          columnSelectMode: null,\n          ydisp: null\n        };\n      }, t.prototype.resize = function (t, i) {\n        e.prototype.resize.call(this, t, i), this._clearState();\n      }, t.prototype.reset = function (e) {\n        this._state.start && this._state.end && (this._clearState(), this.clearAll());\n      }, t.prototype.onSelectionChanged = function (e, t, i, r) {\n        if (this._didStateChange(t, i, r, e.buffer.ydisp)) if (this.clearAll(), t && i) {\n          var n = t[1] - e.buffer.ydisp,\n              s = i[1] - e.buffer.ydisp,\n              o = Math.max(n, 0),\n              a = Math.min(s, e.rows - 1);\n\n          if (!(o >= e.rows || a < 0)) {\n            if (this._ctx.fillStyle = this._colors.selection.css, r) {\n              var l = t[0],\n                  h = i[0] - l,\n                  c = a - o + 1;\n              this.fillCells(l, o, h, c);\n            } else {\n              l = n === o ? t[0] : 0;\n              var u = o === a ? i[0] : e.cols;\n              this.fillCells(l, o, u - l, 1);\n\n              var _ = Math.max(a - o - 1, 0);\n\n              if (this.fillCells(0, o + 1, e.cols, _), o !== a) {\n                var f = s === a ? i[0] : e.cols;\n                this.fillCells(0, a, f, 1);\n              }\n            }\n\n            this._state.start = [t[0], t[1]], this._state.end = [i[0], i[1]], this._state.columnSelectMode = r, this._state.ydisp = e.buffer.ydisp;\n          }\n        } else this._clearState();\n      }, t.prototype._didStateChange = function (e, t, i, r) {\n        return !this._areCoordinatesEqual(e, this._state.start) || !this._areCoordinatesEqual(t, this._state.end) || i !== this._state.columnSelectMode || r !== this._state.ydisp;\n      }, t.prototype._areCoordinatesEqual = function (e, t) {\n        return !(!e || !t) && e[0] === t[0] && e[1] === t[1];\n      }, t;\n    }(i(9).BaseRenderLayer);\n\n    t.SelectionRenderLayer = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(0),\n        o = i(9),\n        a = function (e) {\n      function t(t, i, r) {\n        var n = e.call(this, t, \"cursor\", i, !0, r) || this;\n        return n._state = {\n          x: null,\n          y: null,\n          isFocused: null,\n          style: null,\n          width: null\n        }, n._cursorRenderers = {\n          bar: n._renderBarCursor.bind(n),\n          block: n._renderBlockCursor.bind(n),\n          underline: n._renderUnderlineCursor.bind(n)\n        }, n;\n      }\n\n      return n(t, e), t.prototype.resize = function (t, i) {\n        e.prototype.resize.call(this, t, i), this._state = {\n          x: null,\n          y: null,\n          isFocused: null,\n          style: null,\n          width: null\n        };\n      }, t.prototype.reset = function (e) {\n        this._clearCursor(), this._cursorBlinkStateManager && (this._cursorBlinkStateManager.dispose(), this._cursorBlinkStateManager = null, this.onOptionsChanged(e));\n      }, t.prototype.onBlur = function (e) {\n        this._cursorBlinkStateManager && this._cursorBlinkStateManager.pause(), e.refresh(e.buffer.y, e.buffer.y);\n      }, t.prototype.onFocus = function (e) {\n        this._cursorBlinkStateManager ? this._cursorBlinkStateManager.resume(e) : e.refresh(e.buffer.y, e.buffer.y);\n      }, t.prototype.onOptionsChanged = function (e) {\n        var t = this;\n        e.options.cursorBlink ? this._cursorBlinkStateManager || (this._cursorBlinkStateManager = new l(e, function () {\n          t._render(e, !0);\n        })) : (this._cursorBlinkStateManager && (this._cursorBlinkStateManager.dispose(), this._cursorBlinkStateManager = null), e.refresh(e.buffer.y, e.buffer.y));\n      }, t.prototype.onCursorMove = function (e) {\n        this._cursorBlinkStateManager && this._cursorBlinkStateManager.restartBlinkAnimation(e);\n      }, t.prototype.onGridChanged = function (e, t, i) {\n        !this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused ? this._render(e, !1) : this._cursorBlinkStateManager.restartBlinkAnimation(e);\n      }, t.prototype._render = function (e, t) {\n        if (e.cursorState && !e.cursorHidden) {\n          var i = e.buffer.ybase + e.buffer.y,\n              r = i - e.buffer.ydisp;\n          if (r < 0 || r >= e.rows) this._clearCursor();else {\n            var n = e.buffer.lines.get(i).get(e.buffer.x);\n\n            if (n) {\n              if (!e.isFocused) return this._clearCursor(), this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this._renderBlurCursor(e, e.buffer.x, r, n), this._ctx.restore(), this._state.x = e.buffer.x, this._state.y = r, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, void (this._state.width = n[s.CHAR_DATA_WIDTH_INDEX]);\n\n              if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isCursorVisible) {\n                if (this._state) {\n                  if (this._state.x === e.buffer.x && this._state.y === r && this._state.isFocused === e.isFocused && this._state.style === e.options.cursorStyle && this._state.width === n[s.CHAR_DATA_WIDTH_INDEX]) return;\n\n                  this._clearCursor();\n                }\n\n                this._ctx.save(), this._cursorRenderers[e.options.cursorStyle || \"block\"](e, e.buffer.x, r, n), this._ctx.restore(), this._state.x = e.buffer.x, this._state.y = r, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, this._state.width = n[s.CHAR_DATA_WIDTH_INDEX];\n              } else this._clearCursor();\n            }\n          }\n        } else this._clearCursor();\n      }, t.prototype._clearCursor = function () {\n        this._state && (this.clearCells(this._state.x, this._state.y, this._state.width, 1), this._state = {\n          x: null,\n          y: null,\n          isFocused: null,\n          style: null,\n          width: null\n        });\n      }, t.prototype._renderBarCursor = function (e, t, i, r) {\n        this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillLeftLineAtCell(t, i), this._ctx.restore();\n      }, t.prototype._renderBlockCursor = function (e, t, i, r) {\n        this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillCells(t, i, r[s.CHAR_DATA_WIDTH_INDEX], 1), this._ctx.fillStyle = this._colors.cursorAccent.css, this.fillCharTrueColor(e, r, t, i), this._ctx.restore();\n      }, t.prototype._renderUnderlineCursor = function (e, t, i, r) {\n        this._ctx.save(), this._ctx.fillStyle = this._colors.cursor.css, this.fillBottomLineAtCells(t, i), this._ctx.restore();\n      }, t.prototype._renderBlurCursor = function (e, t, i, r) {\n        this._ctx.save(), this._ctx.strokeStyle = this._colors.cursor.css, this.strokeRectAtCell(t, i, r[s.CHAR_DATA_WIDTH_INDEX], 1), this._ctx.restore();\n      }, t;\n    }(o.BaseRenderLayer);\n\n    t.CursorRenderLayer = a;\n\n    var l = function () {\n      function e(e, t) {\n        this._renderCallback = t, this.isCursorVisible = !0, e.isFocused && this._restartInterval();\n      }\n\n      return Object.defineProperty(e.prototype, \"isPaused\", {\n        get: function () {\n          return !(this._blinkStartTimeout || this._blinkInterval);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.dispose = function () {\n        this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = null), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = null), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);\n      }, e.prototype.restartBlinkAnimation = function (e) {\n        var t = this;\n        this.isPaused || (this._animationTimeRestarted = Date.now(), this.isCursorVisible = !0, this._animationFrame || (this._animationFrame = window.requestAnimationFrame(function () {\n          t._renderCallback(), t._animationFrame = null;\n        })));\n      }, e.prototype._restartInterval = function (e) {\n        var t = this;\n        void 0 === e && (e = 600), this._blinkInterval && window.clearInterval(this._blinkInterval), this._blinkStartTimeout = setTimeout(function () {\n          if (t._animationTimeRestarted) {\n            var e = 600 - (Date.now() - t._animationTimeRestarted);\n\n            if (t._animationTimeRestarted = null, e > 0) return void t._restartInterval(e);\n          }\n\n          t.isCursorVisible = !1, t._animationFrame = window.requestAnimationFrame(function () {\n            t._renderCallback(), t._animationFrame = null;\n          }), t._blinkInterval = setInterval(function () {\n            if (t._animationTimeRestarted) {\n              var e = 600 - (Date.now() - t._animationTimeRestarted);\n\n              return t._animationTimeRestarted = null, void t._restartInterval(e);\n            }\n\n            t.isCursorVisible = !t.isCursorVisible, t._animationFrame = window.requestAnimationFrame(function () {\n              t._renderCallback(), t._animationFrame = null;\n            });\n          }, 600);\n        }, e);\n      }, e.prototype.pause = function () {\n        this.isCursorVisible = !0, this._blinkInterval && (window.clearInterval(this._blinkInterval), this._blinkInterval = null), this._blinkStartTimeout && (window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = null), this._animationFrame && (window.cancelAnimationFrame(this._animationFrame), this._animationFrame = null);\n      }, e.prototype.resume = function (e) {\n        this._animationTimeRestarted = null, this._restartInterval(), this.restartBlinkAnimation(e);\n      }, e;\n    }();\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(9),\n        o = i(1),\n        a = i(4),\n        l = function (e) {\n      function t(t, i, r, n) {\n        var s = e.call(this, t, \"link\", i, !0, r) || this;\n        return s._state = null, n.linkifier.on(\"linkhover\", function (e) {\n          return s._onLinkHover(e);\n        }), n.linkifier.on(\"linkleave\", function (e) {\n          return s._onLinkLeave(e);\n        }), s;\n      }\n\n      return n(t, e), t.prototype.resize = function (t, i) {\n        e.prototype.resize.call(this, t, i), this._state = null;\n      }, t.prototype.reset = function (e) {\n        this._clearCurrentLink();\n      }, t.prototype._clearCurrentLink = function () {\n        if (this._state) {\n          this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n          var e = this._state.y2 - this._state.y1 - 1;\n          e > 0 && this.clearCells(0, this._state.y1 + 1, this._state.cols, e), this.clearCells(0, this._state.y2, this._state.x2, 1), this._state = null;\n        }\n      }, t.prototype._onLinkHover = function (e) {\n        if (e.fg === o.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._colors.background.css : a.is256Color(e.fg) ? this._ctx.fillStyle = this._colors.ansi[e.fg].css : this._ctx.fillStyle = this._colors.foreground.css, e.y1 === e.y2) this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);else {\n          this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n\n          for (var t = e.y1 + 1; t < e.y2; t++) this.fillBottomLineAtCells(0, t, e.cols);\n\n          this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n      }, t.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n      }, t;\n    }(s.BaseRenderLayer);\n\n    t.LinkRenderLayer = l;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = i(0),\n        n = function () {\n      function e(e) {\n        this._terminal = e, this._characterJoiners = [], this._nextCharacterJoinerId = 0;\n      }\n\n      return e.prototype.registerCharacterJoiner = function (e) {\n        var t = {\n          id: this._nextCharacterJoinerId++,\n          handler: e\n        };\n        return this._characterJoiners.push(t), t.id;\n      }, e.prototype.deregisterCharacterJoiner = function (e) {\n        for (var t = 0; t < this._characterJoiners.length; t++) if (this._characterJoiners[t].id === e) return this._characterJoiners.splice(t, 1), !0;\n\n        return !1;\n      }, e.prototype.getJoinedCharacters = function (e) {\n        if (0 === this._characterJoiners.length) return [];\n\n        var t = this._terminal.buffer.lines.get(e);\n\n        if (0 === t.length) return [];\n\n        for (var i = [], n = this._terminal.buffer.translateBufferLineToString(e, !0), s = 0, o = 0, a = 0, l = t.get(0)[r.CHAR_DATA_ATTR_INDEX] >> 9, h = 0; h < this._terminal.cols; h++) {\n          var c = t.get(h),\n              u = c[r.CHAR_DATA_CHAR_INDEX],\n              _ = c[r.CHAR_DATA_WIDTH_INDEX],\n              f = c[r.CHAR_DATA_ATTR_INDEX] >> 9;\n\n          if (0 !== _) {\n            if (f !== l) {\n              if (h - s > 1) for (var d = this._getJoinedRanges(n, a, o, t, s), p = 0; p < d.length; p++) i.push(d[p]);\n              s = h, a = o, l = f;\n            }\n\n            o += u.length;\n          }\n        }\n\n        if (this._terminal.cols - s > 1) for (d = this._getJoinedRanges(n, a, o, t, s), p = 0; p < d.length; p++) i.push(d[p]);\n        return i;\n      }, e.prototype._getJoinedRanges = function (t, i, r, n, s) {\n        for (var o = t.substring(i, r), a = this._characterJoiners[0].handler(o), l = 1; l < this._characterJoiners.length; l++) for (var h = this._characterJoiners[l].handler(o), c = 0; c < h.length; c++) e._mergeRanges(a, h[c]);\n\n        return this._stringRangesToCellRanges(a, n, s), a;\n      }, e.prototype._stringRangesToCellRanges = function (e, t, i) {\n        var n = 0,\n            s = !1,\n            o = 0,\n            a = e[n];\n\n        if (a) {\n          for (var l = i; l < this._terminal.cols; l++) {\n            var h = t.get(l),\n                c = h[r.CHAR_DATA_WIDTH_INDEX],\n                u = h[r.CHAR_DATA_CHAR_INDEX].length;\n\n            if (0 !== c) {\n              if (!s && a[0] <= o && (a[0] = l, s = !0), a[1] <= o) {\n                if (a[1] = l, !(a = e[++n])) break;\n                a[0] <= o ? (a[0] = l, s = !0) : s = !1;\n              }\n\n              o += u;\n            }\n          }\n\n          a && (a[1] = this._terminal.cols);\n        }\n      }, e._mergeRanges = function (e, t) {\n        for (var i = !1, r = 0; r < e.length; r++) {\n          var n = e[r];\n\n          if (i) {\n            if (t[1] <= n[0]) return e[r - 1][1] = t[1], e;\n            if (t[1] <= n[1]) return e[r - 1][1] = Math.max(t[1], n[1]), e.splice(r, 1), i = !1, e;\n            e.splice(r, 1), r--;\n          } else {\n            if (t[1] <= n[0]) return e.splice(r, 0, t), e;\n            if (t[1] <= n[1]) return n[0] = Math.min(t[0], n[0]), e;\n            t[0] < n[1] && (n[0] = Math.min(t[0], n[0]), i = !0);\n          }\n        }\n\n        return i ? e[e.length - 1][1] = t[1] : e.push(t), e;\n      }, e;\n    }();\n\n    t.CharacterJoinerRegistry = n;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(21),\n        o = i(2),\n        a = i(0),\n        l = i(15),\n        h = function (e) {\n      function t(t) {\n        var i = e.call(this) || this;\n        return i._terminal = t, i._linkMatchers = [], i._nextLinkMatcherId = 0, i._rowsToLinkify = {\n          start: null,\n          end: null\n        }, i;\n      }\n\n      return n(t, e), t.prototype.attachToDom = function (e) {\n        this._mouseZoneManager = e;\n      }, t.prototype.linkifyRows = function (e, i) {\n        var r = this;\n        this._mouseZoneManager && (null === this._rowsToLinkify.start ? (this._rowsToLinkify.start = e, this._rowsToLinkify.end = i) : (this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, e), this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, i)), this._mouseZoneManager.clearAll(e, i), this._rowsTimeoutId && clearTimeout(this._rowsTimeoutId), this._rowsTimeoutId = setTimeout(function () {\n          return r._linkifyRows();\n        }, t.TIME_BEFORE_LINKIFY));\n      }, t.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var e = this._terminal.buffer,\n            i = e.ydisp + this._rowsToLinkify.start;\n\n        if (!(i >= e.lines.length)) {\n          for (var r = e.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1, n = Math.ceil(t.OVERSCAN_CHAR_LIMIT / this._terminal.cols), s = this._terminal.buffer.iterator(!1, i, r, n, n); s.hasNext();) for (var o = s.next(), a = 0; a < this._linkMatchers.length; a++) this._doLinkifyRow(o.range.first, o.content, this._linkMatchers[a]);\n\n          this._rowsToLinkify.start = null, this._rowsToLinkify.end = null;\n        }\n      }, t.prototype.registerLinkMatcher = function (e, t, i) {\n        if (void 0 === i && (i = {}), !t) throw new Error(\"handler must be defined\");\n        var r = {\n          id: this._nextLinkMatcherId++,\n          regex: e,\n          handler: t,\n          matchIndex: i.matchIndex,\n          validationCallback: i.validationCallback,\n          hoverTooltipCallback: i.tooltipCallback,\n          hoverLeaveCallback: i.leaveCallback,\n          willLinkActivate: i.willLinkActivate,\n          priority: i.priority || 0\n        };\n        return this._addLinkMatcherToList(r), r.id;\n      }, t.prototype._addLinkMatcherToList = function (e) {\n        if (0 !== this._linkMatchers.length) {\n          for (var t = this._linkMatchers.length - 1; t >= 0; t--) if (e.priority <= this._linkMatchers[t].priority) return void this._linkMatchers.splice(t + 1, 0, e);\n\n          this._linkMatchers.splice(0, 0, e);\n        } else this._linkMatchers.push(e);\n      }, t.prototype.deregisterLinkMatcher = function (e) {\n        for (var t = 0; t < this._linkMatchers.length; t++) if (this._linkMatchers[t].id === e) return this._linkMatchers.splice(t, 1), !0;\n\n        return !1;\n      }, t.prototype._doLinkifyRow = function (e, t, i) {\n        for (var r, n = this, s = new RegExp(i.regex.source, i.regex.flags + \"g\"), o = -1, l = function () {\n          var l = r[\"number\" != typeof i.matchIndex ? 0 : i.matchIndex];\n\n          if (!l) {\n            if (h._terminal.debug) throw console.log({\n              match: r,\n              matcher: i\n            }), new Error(\"match found without corresponding matchIndex\");\n            return \"break\";\n          }\n\n          if (o = t.indexOf(l, o + 1), s.lastIndex = o + l.length, o < 0) return \"break\";\n\n          var c = h._terminal.buffer.stringIndexToBufferIndex(e, o);\n\n          if (c[0] < 0) return \"break\";\n\n          var u,\n              _ = h._terminal.buffer.lines.get(c[0]).get(c[1]);\n\n          if (_) {\n            var f = _[a.CHAR_DATA_ATTR_INDEX];\n            u = f >> 9 & 511;\n          }\n\n          i.validationCallback ? i.validationCallback(l, function (e) {\n            n._rowsTimeoutId || e && n._addLink(c[1], c[0] - n._terminal.buffer.ydisp, l, i, u);\n          }) : h._addLink(c[1], c[0] - h._terminal.buffer.ydisp, l, i, u);\n        }, h = this; null !== (r = s.exec(t));) {\n          if (\"break\" === l()) break;\n        }\n      }, t.prototype._addLink = function (e, t, i, r, n) {\n        var o = this,\n            a = l.getStringCellWidth(i),\n            h = e % this._terminal.cols,\n            c = t + Math.floor(e / this._terminal.cols),\n            u = (h + a) % this._terminal.cols,\n            _ = c + Math.floor((h + a) / this._terminal.cols);\n\n        0 === u && (u = this._terminal.cols, _--), this._mouseZoneManager.add(new s.MouseZone(h + 1, c + 1, u + 1, _ + 1, function (e) {\n          if (r.handler) return r.handler(e, i);\n          window.open(i, \"_blank\");\n        }, function (e) {\n          o.emit(\"linkhover\", o._createLinkHoverEvent(h, c, u, _, n)), o._terminal.element.classList.add(\"xterm-cursor-pointer\");\n        }, function (e) {\n          o.emit(\"linktooltip\", o._createLinkHoverEvent(h, c, u, _, n)), r.hoverTooltipCallback && r.hoverTooltipCallback(e, i);\n        }, function () {\n          o.emit(\"linkleave\", o._createLinkHoverEvent(h, c, u, _, n)), o._terminal.element.classList.remove(\"xterm-cursor-pointer\"), r.hoverLeaveCallback && r.hoverLeaveCallback();\n        }, function (e) {\n          return !r.willLinkActivate || r.willLinkActivate(e, i);\n        }));\n      }, t.prototype._createLinkHoverEvent = function (e, t, i, r, n) {\n        return {\n          x1: e,\n          y1: t,\n          x2: i,\n          y2: r,\n          cols: this._terminal.cols,\n          fg: n\n        };\n      }, t.TIME_BEFORE_LINKIFY = 200, t.OVERSCAN_CHAR_LIMIT = 2e3, t;\n    }(o.EventEmitter);\n\n    t.Linkifier = h;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(22),\n        o = i(5),\n        a = i(2),\n        l = i(53),\n        h = i(0),\n        c = i(54),\n        u = String.fromCharCode(160),\n        _ = new RegExp(u, \"g\"),\n        f = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        return r._terminal = t, r._charMeasure = i, r._enabled = !0, r._initListeners(), r.enable(), r._model = new l.SelectionModel(t), r._activeSelectionMode = 0, r;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._removeMouseDownListeners();\n      }, Object.defineProperty(t.prototype, \"_buffer\", {\n        get: function () {\n          return this._terminal.buffers.active;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype._initListeners = function () {\n        var e = this;\n        this._mouseMoveListener = function (t) {\n          return e._onMouseMove(t);\n        }, this._mouseUpListener = function (t) {\n          return e._onMouseUp(t);\n        }, this._trimListener = function (t) {\n          return e._onTrim(t);\n        }, this.initBuffersListeners();\n      }, t.prototype.initBuffersListeners = function () {\n        var e = this;\n        this._terminal.buffer.lines.on(\"trim\", this._trimListener), this._terminal.buffers.on(\"activate\", function (t) {\n          return e._onBufferActivate(t);\n        });\n      }, t.prototype.disable = function () {\n        this.clearSelection(), this._enabled = !1;\n      }, t.prototype.enable = function () {\n        this._enabled = !0;\n      }, Object.defineProperty(t.prototype, \"selectionStart\", {\n        get: function () {\n          return this._model.finalSelectionStart;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"selectionEnd\", {\n        get: function () {\n          return this._model.finalSelectionEnd;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"hasSelection\", {\n        get: function () {\n          var e = this._model.finalSelectionStart,\n              t = this._model.finalSelectionEnd;\n          return !(!e || !t) && (e[0] !== t[0] || e[1] !== t[1]);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"selectionText\", {\n        get: function () {\n          var e = this._model.finalSelectionStart,\n              t = this._model.finalSelectionEnd;\n          if (!e || !t) return \"\";\n          var i = [];\n\n          if (3 === this._activeSelectionMode) {\n            if (e[0] === t[0]) return \"\";\n\n            for (var r = e[1]; r <= t[1]; r++) {\n              var n = this._buffer.translateBufferLineToString(r, !0, e[0], t[0]);\n\n              i.push(n);\n            }\n          } else {\n            var s = e[1] === t[1] ? t[0] : void 0;\n            i.push(this._buffer.translateBufferLineToString(e[1], !0, e[0], s));\n\n            for (r = e[1] + 1; r <= t[1] - 1; r++) {\n              var a = this._buffer.lines.get(r);\n\n              n = this._buffer.translateBufferLineToString(r, !0);\n              a.isWrapped ? i[i.length - 1] += n : i.push(n);\n            }\n\n            if (e[1] !== t[1]) {\n              a = this._buffer.lines.get(t[1]), n = this._buffer.translateBufferLineToString(t[1], !0, 0, t[0]);\n              a.isWrapped ? i[i.length - 1] += n : i.push(n);\n            }\n          }\n\n          return i.map(function (e) {\n            return e.replace(_, \" \");\n          }).join(o.isMSWindows ? \"\\r\\n\" : \"\\n\");\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.clearSelection = function () {\n        this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh();\n      }, t.prototype.refresh = function (e) {\n        var t = this;\n        (this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(function () {\n          return t._refresh();\n        })), o.isLinux && e) && this.selectionText.length && this.emit(\"newselection\", this.selectionText);\n      }, t.prototype._refresh = function () {\n        this._refreshAnimationFrame = null, this.emit(\"refresh\", {\n          start: this._model.finalSelectionStart,\n          end: this._model.finalSelectionEnd,\n          columnSelectMode: 3 === this._activeSelectionMode\n        });\n      }, t.prototype.isClickInSelection = function (e) {\n        var t = this._getMouseBufferCoords(e),\n            i = this._model.finalSelectionStart,\n            r = this._model.finalSelectionEnd;\n\n        return !(!i || !r) && this._areCoordsInSelection(t, i, r);\n      }, t.prototype._areCoordsInSelection = function (e, t, i) {\n        return e[1] > t[1] && e[1] < i[1] || t[1] === i[1] && e[1] === t[1] && e[0] >= t[0] && e[0] < i[0] || t[1] < i[1] && e[1] === i[1] && e[0] < i[0] || t[1] < i[1] && e[1] === t[1] && e[0] >= t[0];\n      }, t.prototype.selectWordAtCursor = function (e) {\n        var t = this._getMouseBufferCoords(e);\n\n        t && (this._selectWordAt(t, !1), this._model.selectionEnd = null, this.refresh(!0));\n      }, t.prototype.selectAll = function () {\n        this._model.isSelectAllActive = !0, this.refresh(), this._terminal.emit(\"selection\");\n      }, t.prototype.selectLines = function (e, t) {\n        this._model.clearSelection(), e = Math.max(e, 0), t = Math.min(t, this._terminal.buffer.lines.length - 1), this._model.selectionStart = [0, e], this._model.selectionEnd = [this._terminal.cols, t], this.refresh(), this._terminal.emit(\"selection\");\n      }, t.prototype._onTrim = function (e) {\n        this._model.onTrim(e) && this.refresh();\n      }, t.prototype._getMouseBufferCoords = function (e) {\n        var t = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, !0);\n\n        return t ? (t[0]--, t[1]--, t[1] += this._terminal.buffer.ydisp, t) : null;\n      }, t.prototype._getMouseEventScrollAmount = function (e) {\n        var t = s.MouseHelper.getCoordsRelativeToElement(e, this._terminal.screenElement)[1],\n            i = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        return t >= 0 && t <= i ? 0 : (t > i && (t -= i), t = Math.min(Math.max(t, -50), 50), (t /= 50) / Math.abs(t) + Math.round(14 * t));\n      }, t.prototype.shouldForceSelection = function (e) {\n        return o.isMac ? e.altKey && this._terminal.options.macOptionClickForcesSelection : e.shiftKey;\n      }, t.prototype.onMouseDown = function (e) {\n        if (this._mouseDownTimeStamp = e.timeStamp, (2 !== e.button || !this.hasSelection) && 0 === e.button) {\n          if (!this._enabled) {\n            if (!this.shouldForceSelection(e)) return;\n            e.stopPropagation();\n          }\n\n          e.preventDefault(), this._dragScrollAmount = 0, this._enabled && e.shiftKey ? this._onIncrementalClick(e) : 1 === e.detail ? this._onSingleClick(e) : 2 === e.detail ? this._onDoubleClick(e) : 3 === e.detail && this._onTripleClick(e), this._addMouseDownListeners(), this.refresh(!0);\n        }\n      }, t.prototype._addMouseDownListeners = function () {\n        var e = this;\n        this._terminal.element.ownerDocument.addEventListener(\"mousemove\", this._mouseMoveListener), this._terminal.element.ownerDocument.addEventListener(\"mouseup\", this._mouseUpListener), this._dragScrollIntervalTimer = setInterval(function () {\n          return e._dragScroll();\n        }, 50);\n      }, t.prototype._removeMouseDownListeners = function () {\n        this._terminal.element.ownerDocument && (this._terminal.element.ownerDocument.removeEventListener(\"mousemove\", this._mouseMoveListener), this._terminal.element.ownerDocument.removeEventListener(\"mouseup\", this._mouseUpListener)), clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = null;\n      }, t.prototype._onIncrementalClick = function (e) {\n        this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));\n      }, t.prototype._onSingleClick = function (e) {\n        if (this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = this.shouldColumnSelect(e) ? 3 : 0, this._model.selectionStart = this._getMouseBufferCoords(e), this._model.selectionStart) {\n          this._model.selectionEnd = null;\n\n          var t = this._buffer.lines.get(this._model.selectionStart[1]);\n\n          if (t) if (!(t.length >= this._model.selectionStart[0])) 0 === t.get(this._model.selectionStart[0])[h.CHAR_DATA_WIDTH_INDEX] && this._model.selectionStart[0]++;\n        }\n      }, t.prototype._onDoubleClick = function (e) {\n        var t = this._getMouseBufferCoords(e);\n\n        t && (this._activeSelectionMode = 1, this._selectWordAt(t, !0));\n      }, t.prototype._onTripleClick = function (e) {\n        var t = this._getMouseBufferCoords(e);\n\n        t && (this._activeSelectionMode = 2, this._selectLineAt(t[1]));\n      }, t.prototype.shouldColumnSelect = function (e) {\n        return e.altKey && !(o.isMac && this._terminal.options.macOptionClickForcesSelection);\n      }, t.prototype._onMouseMove = function (e) {\n        e.stopImmediatePropagation();\n        var t = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n\n        if (this._model.selectionEnd = this._getMouseBufferCoords(e), this._model.selectionEnd) {\n          if (2 === this._activeSelectionMode ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._terminal.cols : 1 === this._activeSelectionMode && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), 3 !== this._activeSelectionMode && (this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._terminal.cols : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0)), this._model.selectionEnd[1] < this._buffer.lines.length) {\n            var i = this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);\n\n            i && 0 === i[h.CHAR_DATA_WIDTH_INDEX] && this._model.selectionEnd[0]++;\n          }\n\n          t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);\n        } else this.refresh(!0);\n      }, t.prototype._dragScroll = function () {\n        this._dragScrollAmount && (this._terminal.scrollLines(this._dragScrollAmount, !1), this._dragScrollAmount > 0 ? (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = this._terminal.cols), this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1)) : (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] = this._terminal.buffer.ydisp), this.refresh());\n      }, t.prototype._onMouseUp = function (e) {\n        var t = e.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners(), this.selectionText.length <= 1 && t < 500 ? new c.AltClickHandler(e, this._terminal).move() : this.hasSelection && this._terminal.emit(\"selection\");\n      }, t.prototype._onBufferActivate = function (e) {\n        this.clearSelection(), e.inactiveBuffer.lines.off(\"trim\", this._trimListener), e.activeBuffer.lines.on(\"trim\", this._trimListener);\n      }, t.prototype._convertViewportColToCharacterIndex = function (e, t) {\n        for (var i = t[0], r = 0; t[0] >= r; r++) {\n          var n = e.get(r);\n          0 === n[h.CHAR_DATA_WIDTH_INDEX] ? i-- : n[h.CHAR_DATA_CHAR_INDEX].length > 1 && t[0] !== r && (i += n[h.CHAR_DATA_CHAR_INDEX].length - 1);\n        }\n\n        return i;\n      }, t.prototype.setSelection = function (e, t, i) {\n        this._model.clearSelection(), this._removeMouseDownListeners(), this._model.selectionStart = [e, t], this._model.selectionStartLength = i, this.refresh();\n      }, t.prototype._getWordAt = function (e, t, i, r) {\n        if (void 0 === i && (i = !0), void 0 === r && (r = !0), e[0] >= this._terminal.cols) return null;\n\n        var n = this._buffer.lines.get(e[1]);\n\n        if (!n) return null;\n\n        var s = this._buffer.translateBufferLineToString(e[1], !1),\n            o = this._convertViewportColToCharacterIndex(n, e),\n            a = o,\n            l = e[0] - o,\n            c = 0,\n            u = 0,\n            _ = 0,\n            f = 0;\n\n        if (\" \" === s.charAt(o)) {\n          for (; o > 0 && \" \" === s.charAt(o - 1);) o--;\n\n          for (; a < s.length && \" \" === s.charAt(a + 1);) a++;\n        } else {\n          var d = e[0],\n              p = e[0];\n\n          for (0 === n.get(d)[h.CHAR_DATA_WIDTH_INDEX] && (c++, d--), 2 === n.get(p)[h.CHAR_DATA_WIDTH_INDEX] && (u++, p++), n.get(p)[h.CHAR_DATA_CHAR_INDEX].length > 1 && (f += n.get(p)[h.CHAR_DATA_CHAR_INDEX].length - 1, a += n.get(p)[h.CHAR_DATA_CHAR_INDEX].length - 1); d > 0 && o > 0 && !this._isCharWordSeparator(n.get(d - 1));) {\n            0 === (m = n.get(d - 1))[h.CHAR_DATA_WIDTH_INDEX] ? (c++, d--) : m[h.CHAR_DATA_CHAR_INDEX].length > 1 && (_ += m[h.CHAR_DATA_CHAR_INDEX].length - 1, o -= m[h.CHAR_DATA_CHAR_INDEX].length - 1), o--, d--;\n          }\n\n          for (; p < n.length && a + 1 < s.length && !this._isCharWordSeparator(n.get(p + 1));) {\n            var m;\n            2 === (m = n.get(p + 1))[h.CHAR_DATA_WIDTH_INDEX] ? (u++, p++) : m[h.CHAR_DATA_CHAR_INDEX].length > 1 && (f += m[h.CHAR_DATA_CHAR_INDEX].length - 1, a += m[h.CHAR_DATA_CHAR_INDEX].length - 1), a++, p++;\n          }\n        }\n\n        a++;\n        var y = o + l - c + _,\n            g = Math.min(this._terminal.cols, a - o + c + u - _ - f);\n        if (!t && \"\" === s.slice(o, a).trim()) return null;\n\n        if (i && 0 === y && 32 !== n.get(0)[h.CHAR_DATA_CODE_INDEX]) {\n          var C = this._buffer.lines.get(e[1] - 1);\n\n          if (C && n.isWrapped && 32 !== C.get(this._terminal.cols - 1)[h.CHAR_DATA_CODE_INDEX]) {\n            var v = this._getWordAt([this._terminal.cols - 1, e[1] - 1], !1, !0, !1);\n\n            if (v) {\n              var b = this._terminal.cols - v.start;\n              y -= b, g += b;\n            }\n          }\n        }\n\n        if (r && y + g === this._terminal.cols && 32 !== n.get(this._terminal.cols - 1)[h.CHAR_DATA_CODE_INDEX]) {\n          var w = this._buffer.lines.get(e[1] + 1);\n\n          if (w && w.isWrapped && 32 !== w.get(0)[h.CHAR_DATA_CODE_INDEX]) {\n            var L = this._getWordAt([0, e[1] + 1], !1, !1, !0);\n\n            L && (g += L.length);\n          }\n        }\n\n        return {\n          start: y,\n          length: g\n        };\n      }, t.prototype._selectWordAt = function (e, t) {\n        var i = this._getWordAt(e, t);\n\n        if (i) {\n          for (; i.start < 0;) i.start += this._terminal.cols, e[1]--;\n\n          this._model.selectionStart = [i.start, e[1]], this._model.selectionStartLength = i.length;\n        }\n      }, t.prototype._selectToWordAt = function (e) {\n        var t = this._getWordAt(e, !0);\n\n        if (t) {\n          for (var i = e[1]; t.start < 0;) t.start += this._terminal.cols, i--;\n\n          if (!this._model.areSelectionValuesReversed()) for (; t.start + t.length > this._terminal.cols;) t.length -= this._terminal.cols, i++;\n          this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, i];\n        }\n      }, t.prototype._isCharWordSeparator = function (e) {\n        return 0 !== e[h.CHAR_DATA_WIDTH_INDEX] && \" ()[]{}'\\\"\".indexOf(e[h.CHAR_DATA_CHAR_INDEX]) >= 0;\n      }, t.prototype._selectLineAt = function (e) {\n        var t = this._buffer.getWrappedRangeForLine(e);\n\n        this._model.selectionStart = [0, t.first], this._model.selectionEnd = [this._terminal.cols, t.last], this._model.selectionStartLength = 0;\n      }, t;\n    }(a.EventEmitter);\n\n    t.SelectionManager = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = function () {\n      function e(e) {\n        this._terminal = e, this.clearSelection();\n      }\n\n      return e.prototype.clearSelection = function () {\n        this.selectionStart = null, this.selectionEnd = null, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n      }, Object.defineProperty(e.prototype, \"finalSelectionStart\", {\n        get: function () {\n          return this.isSelectAllActive ? [0, 0] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(e.prototype, \"finalSelectionEnd\", {\n        get: function () {\n          if (this.isSelectAllActive) return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n          if (!this.selectionStart) return null;\n\n          if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n            var e = this.selectionStart[0] + this.selectionStartLength;\n            return e > this._terminal.cols ? [e % this._terminal.cols, this.selectionStart[1] + Math.floor(e / this._terminal.cols)] : [e, this.selectionStart[1]];\n          }\n\n          return this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1] ? [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]] : this.selectionEnd;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.areSelectionValuesReversed = function () {\n        var e = this.selectionStart,\n            t = this.selectionEnd;\n        return !(!e || !t) && (e[1] > t[1] || e[1] === t[1] && e[0] > t[0]);\n      }, e.prototype.onTrim = function (e) {\n        return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);\n      }, e;\n    }();\n\n    t.SelectionModel = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = i(8),\n        n = function () {\n      function e(e, t) {\n        var i;\n        this._mouseEvent = e, this._terminal = t, this._lines = this._terminal.buffer.lines, this._startCol = this._terminal.buffer.x, this._startRow = this._terminal.buffer.y;\n\n        var r = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, !1);\n\n        r && (i = r.map(function (e) {\n          return e - 1;\n        }), this._endCol = i[0], this._endRow = i[1]);\n      }\n\n      return e.prototype.move = function () {\n        this._mouseEvent.altKey && void 0 !== this._endCol && void 0 !== this._endRow && this._terminal.handler(this._arrowSequences());\n      }, e.prototype._arrowSequences = function () {\n        return this._terminal.buffer.hasScrollback ? this._moveHorizontallyOnly() : this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n      }, e.prototype._resetStartingRow = function () {\n        return 0 === this._moveToRequestedRow().length ? \"\" : s(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), !1).length, this._sequence(\"D\"));\n      }, e.prototype._moveToRequestedRow = function () {\n        var e = this._startRow - this._wrappedRowsForRow(this._startRow),\n            t = this._endRow - this._wrappedRowsForRow(this._endRow);\n\n        return s(Math.abs(e - t) - this._wrappedRowsCount(), this._sequence(this._verticalDirection()));\n      }, e.prototype._moveToRequestedCol = function () {\n        var e;\n        e = this._moveToRequestedRow().length > 0 ? this._endRow - this._wrappedRowsForRow(this._endRow) : this._startRow;\n\n        var t = this._endRow,\n            i = this._horizontalDirection();\n\n        return s(this._bufferLine(this._startCol, e, this._endCol, t, \"C\" === i).length, this._sequence(i));\n      }, e.prototype._moveHorizontallyOnly = function () {\n        var e = this._horizontalDirection();\n\n        return s(Math.abs(this._startCol - this._endCol), this._sequence(e));\n      }, e.prototype._wrappedRowsCount = function () {\n        for (var e = 0, t = this._startRow - this._wrappedRowsForRow(this._startRow), i = this._endRow - this._wrappedRowsForRow(this._endRow), r = 0; r < Math.abs(t - i); r++) {\n          var n = \"A\" === this._verticalDirection() ? -1 : 1;\n          this._lines.get(t + n * r).isWrapped && e++;\n        }\n\n        return e;\n      }, e.prototype._wrappedRowsForRow = function (e) {\n        for (var t = 0, i = this._lines.get(e).isWrapped; i && e >= 0 && e < this._terminal.rows;) t++, e--, i = this._lines.get(e).isWrapped;\n\n        return t;\n      }, e.prototype._horizontalDirection = function () {\n        var e;\n        return e = this._moveToRequestedRow().length > 0 ? this._endRow - this._wrappedRowsForRow(this._endRow) : this._startRow, this._startCol < this._endCol && e <= this._endRow || this._startCol >= this._endCol && e < this._endRow ? \"C\" : \"D\";\n      }, e.prototype._verticalDirection = function () {\n        return this._startRow > this._endRow ? \"A\" : \"B\";\n      }, e.prototype._bufferLine = function (e, t, i, r, n) {\n        for (var s = e, o = t, a = \"\"; s !== i || o !== r;) s += n ? 1 : -1, n && s > this._terminal.cols - 1 ? (a += this._terminal.buffer.translateBufferLineToString(o, !1, e, s), s = 0, e = 0, o++) : !n && s < 0 && (a += this._terminal.buffer.translateBufferLineToString(o, !1, 0, e + 1), e = s = this._terminal.cols - 1, o--);\n\n        return a + this._terminal.buffer.translateBufferLineToString(o, !1, e, s);\n      }, e.prototype._sequence = function (e) {\n        var t = this._terminal.applicationCursor ? \"O\" : \"[\";\n        return r.C0.ESC + t + e;\n      }, e;\n    }();\n\n    function s(e, t) {\n      e = Math.floor(e);\n\n      for (var i = \"\", r = 0; r < e; r++) i += t;\n\n      return i;\n    }\n\n    t.AltClickHandler = n;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        return r._document = t, r._parentElement = i, r._measureElement = r._document.createElement(\"span\"), r._measureElement.classList.add(\"xterm-char-measure-element\"), r._measureElement.textContent = \"W\", r._measureElement.setAttribute(\"aria-hidden\", \"true\"), r._parentElement.appendChild(r._measureElement), r;\n      }\n\n      return n(t, e), Object.defineProperty(t.prototype, \"width\", {\n        get: function () {\n          return this._width;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"height\", {\n        get: function () {\n          return this._height;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.measure = function (e) {\n        this._measureElement.style.fontFamily = e.fontFamily, this._measureElement.style.fontSize = e.fontSize + \"px\";\n\n        var t = this._measureElement.getBoundingClientRect();\n\n        if (0 !== t.width && 0 !== t.height) {\n          var i = Math.ceil(t.height);\n          this._width === t.width && this._height === i || (this._width = t.width, this._height = i, this.emit(\"charsizechanged\"));\n        }\n      }, t;\n    }(i(2).EventEmitter);\n\n    t.CharMeasure = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.DEFAULT_BELL_SOUND = \"data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==\";\n\n    var r = function () {\n      function e(e) {\n        this._terminal = e;\n      }\n\n      return Object.defineProperty(e, \"audioContext\", {\n        get: function () {\n          if (!e._audioContext) {\n            var t = window.AudioContext || window.webkitAudioContext;\n            if (!t) return console.warn(\"Web Audio API is not supported by this browser. Consider upgrading to the latest version\"), null;\n            e._audioContext = new t();\n          }\n\n          return e._audioContext;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), e.prototype.playBellSound = function () {\n        var t = e.audioContext;\n\n        if (t) {\n          var i = t.createBufferSource();\n          t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (e) {\n            i.buffer = e, i.connect(t.destination), i.start(0);\n          });\n        }\n      }, e.prototype._base64ToArrayBuffer = function (e) {\n        for (var t = window.atob(e), i = t.length, r = new Uint8Array(i), n = 0; n < i; n++) r[n] = t.charCodeAt(n);\n\n        return r.buffer;\n      }, e.prototype._removeMimeType = function (e) {\n        return e.split(\",\")[1];\n      }, e;\n    }();\n\n    t.SoundManager = r;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(14),\n        o = i(5),\n        a = i(13),\n        l = i(7),\n        h = i(3),\n        c = function (e) {\n      function t(t) {\n        var i = e.call(this) || this;\n        i._terminal = t, i._liveRegionLineCount = 0, i._charsToConsume = [], i._accessibilityTreeRoot = document.createElement(\"div\"), i._accessibilityTreeRoot.classList.add(\"xterm-accessibility\"), i._rowContainer = document.createElement(\"div\"), i._rowContainer.classList.add(\"xterm-accessibility-tree\"), i._rowElements = [];\n\n        for (var r = 0; r < i._terminal.rows; r++) i._rowElements[r] = i._createAccessibilityTreeNode(), i._rowContainer.appendChild(i._rowElements[r]);\n\n        return i._topBoundaryFocusListener = function (e) {\n          return i._onBoundaryFocus(e, 0);\n        }, i._bottomBoundaryFocusListener = function (e) {\n          return i._onBoundaryFocus(e, 1);\n        }, i._rowElements[0].addEventListener(\"focus\", i._topBoundaryFocusListener), i._rowElements[i._rowElements.length - 1].addEventListener(\"focus\", i._bottomBoundaryFocusListener), i._refreshRowsDimensions(), i._accessibilityTreeRoot.appendChild(i._rowContainer), i._renderRowsDebouncer = new a.RenderDebouncer(i._terminal, i._renderRows.bind(i)), i._refreshRows(), i._liveRegion = document.createElement(\"div\"), i._liveRegion.classList.add(\"live-region\"), i._liveRegion.setAttribute(\"aria-live\", \"assertive\"), i._accessibilityTreeRoot.appendChild(i._liveRegion), i._terminal.element.insertAdjacentElement(\"afterbegin\", i._accessibilityTreeRoot), i.register(i._renderRowsDebouncer), i.register(i._terminal.addDisposableListener(\"resize\", function (e) {\n          return i._onResize(e.rows);\n        })), i.register(i._terminal.addDisposableListener(\"refresh\", function (e) {\n          return i._refreshRows(e.start, e.end);\n        })), i.register(i._terminal.addDisposableListener(\"scroll\", function (e) {\n          return i._refreshRows();\n        })), i.register(i._terminal.addDisposableListener(\"a11y.char\", function (e) {\n          return i._onChar(e);\n        })), i.register(i._terminal.addDisposableListener(\"linefeed\", function () {\n          return i._onChar(\"\\n\");\n        })), i.register(i._terminal.addDisposableListener(\"a11y.tab\", function (e) {\n          return i._onTab(e);\n        })), i.register(i._terminal.addDisposableListener(\"key\", function (e) {\n          return i._onKey(e);\n        })), i.register(i._terminal.addDisposableListener(\"blur\", function () {\n          return i._clearLiveRegion();\n        })), i.register(i._terminal.addDisposableListener(\"dprchange\", function () {\n          return i._refreshRowsDimensions();\n        })), i.register(i._terminal.renderer.addDisposableListener(\"resize\", function () {\n          return i._refreshRowsDimensions();\n        })), i.register(l.addDisposableDomListener(window, \"resize\", function () {\n          return i._refreshRowsDimensions();\n        })), i;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        e.prototype.dispose.call(this), this._terminal.element.removeChild(this._accessibilityTreeRoot), this._rowElements.length = 0;\n      }, t.prototype._onBoundaryFocus = function (e, t) {\n        var i = e.target,\n            r = this._rowElements[0 === t ? 1 : this._rowElements.length - 2];\n\n        if (i.getAttribute(\"aria-posinset\") !== (0 === t ? \"1\" : \"\" + this._terminal.buffer.lines.length) && e.relatedTarget === r) {\n          var n, s;\n\n          if (0 === t ? (n = i, s = this._rowElements.pop(), this._rowContainer.removeChild(s)) : (n = this._rowElements.shift(), s = i, this._rowContainer.removeChild(n)), n.removeEventListener(\"focus\", this._topBoundaryFocusListener), s.removeEventListener(\"focus\", this._bottomBoundaryFocusListener), 0 === t) {\n            var o = this._createAccessibilityTreeNode();\n\n            this._rowElements.unshift(o), this._rowContainer.insertAdjacentElement(\"afterbegin\", o);\n          } else {\n            o = this._createAccessibilityTreeNode();\n            this._rowElements.push(o), this._rowContainer.appendChild(o);\n          }\n\n          this._rowElements[0].addEventListener(\"focus\", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._terminal.scrollLines(0 === t ? -1 : 1), this._rowElements[0 === t ? 1 : this._rowElements.length - 2].focus(), e.preventDefault(), e.stopImmediatePropagation();\n        }\n      }, t.prototype._onResize = function (e) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener(\"focus\", this._bottomBoundaryFocusListener);\n\n        for (var t = this._rowContainer.children.length; t < this._terminal.rows; t++) this._rowElements[t] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[t]);\n\n        for (; this._rowElements.length > e;) this._rowContainer.removeChild(this._rowElements.pop());\n\n        this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._refreshRowsDimensions();\n      }, t.prototype._createAccessibilityTreeNode = function () {\n        var e = document.createElement(\"div\");\n        return e.setAttribute(\"role\", \"listitem\"), e.tabIndex = -1, this._refreshRowDimensions(e), e;\n      }, t.prototype._onTab = function (e) {\n        for (var t = 0; t < e; t++) this._onChar(\" \");\n      }, t.prototype._onChar = function (e) {\n        var t = this;\n\n        if (this._liveRegionLineCount < 21) {\n          if (this._charsToConsume.length > 0) this._charsToConsume.shift() !== e && this._announceCharacter(e);else this._announceCharacter(e);\n          \"\\n\" === e && (this._liveRegionLineCount++, 21 === this._liveRegionLineCount && (this._liveRegion.textContent += s.tooMuchOutput)), o.isMac && this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode && setTimeout(function () {\n            t._accessibilityTreeRoot.appendChild(t._liveRegion);\n          }, 0);\n        }\n      }, t.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = \"\", this._liveRegionLineCount = 0, o.isMac && this._liveRegion.parentNode && this._accessibilityTreeRoot.removeChild(this._liveRegion);\n      }, t.prototype._onKey = function (e) {\n        this._clearLiveRegion(), this._charsToConsume.push(e);\n      }, t.prototype._refreshRows = function (e, t) {\n        this._renderRowsDebouncer.refresh(e, t);\n      }, t.prototype._renderRows = function (e, t) {\n        for (var i = this._terminal.buffer, r = i.lines.length.toString(), n = e; n <= t; n++) {\n          var o = i.translateBufferLineToString(i.ydisp + n, !0),\n              a = (i.ydisp + n + 1).toString(),\n              l = this._rowElements[n];\n          l.textContent = 0 === o.length ? s.blankLine : o, l.setAttribute(\"aria-posinset\", a), l.setAttribute(\"aria-setsize\", r);\n        }\n      }, t.prototype._refreshRowsDimensions = function () {\n        if (this._terminal.renderer.dimensions.actualCellHeight) {\n          this._rowElements.length !== this._terminal.rows && this._onResize(this._terminal.rows);\n\n          for (var e = 0; e < this._terminal.rows; e++) this._refreshRowDimensions(this._rowElements[e]);\n        }\n      }, t.prototype._refreshRowDimensions = function (e) {\n        e.style.height = this._terminal.renderer.dimensions.actualCellHeight + \"px\";\n      }, t.prototype._announceCharacter = function (e) {\n        \" \" === e ? this._liveRegion.innerHTML += \"&nbsp;\" : this._liveRegion.textContent += e;\n      }, t;\n    }(h.Disposable);\n\n    t.AccessibilityManager = c;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    var r,\n        n = this && this.__extends || (r = function (e, t) {\n      return (r = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n      })(e, t);\n    }, function (e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      r(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    });\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var s = i(2),\n        o = i(10),\n        a = i(13),\n        l = i(59),\n        h = i(1),\n        c = \"xterm-dom-renderer-owner-\",\n        u = \"xterm-rows\",\n        _ = \"xterm-selection\",\n        f = 1,\n        d = function (e) {\n      function t(t, i) {\n        var r = e.call(this) || this;\n        r._terminal = t, r._terminalClass = f++, r._rowElements = [];\n        var n = r._terminal.options.allowTransparency;\n        return r.colorManager = new o.ColorManager(document, n), r.setTheme(i), r._rowContainer = document.createElement(\"div\"), r._rowContainer.classList.add(u), r._rowContainer.style.lineHeight = \"normal\", r._rowContainer.setAttribute(\"aria-hidden\", \"true\"), r._refreshRowElements(r._terminal.cols, r._terminal.rows), r._selectionContainer = document.createElement(\"div\"), r._selectionContainer.classList.add(_), r._selectionContainer.setAttribute(\"aria-hidden\", \"true\"), r.dimensions = {\n          scaledCharWidth: null,\n          scaledCharHeight: null,\n          scaledCellWidth: null,\n          scaledCellHeight: null,\n          scaledCharLeft: null,\n          scaledCharTop: null,\n          scaledCanvasWidth: null,\n          scaledCanvasHeight: null,\n          canvasWidth: null,\n          canvasHeight: null,\n          actualCellWidth: null,\n          actualCellHeight: null\n        }, r._updateDimensions(), r._renderDebouncer = new a.RenderDebouncer(r._terminal, r._renderRows.bind(r)), r._rowFactory = new l.DomRendererRowFactory(document), r._terminal.element.classList.add(c + r._terminalClass), r._terminal.screenElement.appendChild(r._rowContainer), r._terminal.screenElement.appendChild(r._selectionContainer), r._terminal.linkifier.on(\"linkhover\", function (e) {\n          return r._onLinkHover(e);\n        }), r._terminal.linkifier.on(\"linkleave\", function (e) {\n          return r._onLinkLeave(e);\n        }), r;\n      }\n\n      return n(t, e), t.prototype.dispose = function () {\n        this._terminal.element.classList.remove(c + this._terminalClass), this._terminal.screenElement.removeChild(this._rowContainer), this._terminal.screenElement.removeChild(this._selectionContainer), this._terminal.screenElement.removeChild(this._themeStyleElement), this._terminal.screenElement.removeChild(this._dimensionsStyleElement), e.prototype.dispose.call(this);\n      }, t.prototype._updateDimensions = function () {\n        var e = this;\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio), this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio), this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing), this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight), this.dimensions.scaledCharLeft = 0, this.dimensions.scaledCharTop = 0, this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols, this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows, this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio), this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio), this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols, this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows, this._rowElements.forEach(function (t) {\n          t.style.width = e.dimensions.canvasWidth + \"px\", t.style.height = e.dimensions.actualCellHeight + \"px\", t.style.lineHeight = e.dimensions.actualCellHeight + \"px\", t.style.overflow = \"hidden\";\n        }), this._dimensionsStyleElement || (this._dimensionsStyleElement = document.createElement(\"style\"), this._terminal.screenElement.appendChild(this._dimensionsStyleElement));\n        var t = this._terminalSelector + \" .\" + u + \" span { display: inline-block; height: 100%; vertical-align: top; width: \" + this.dimensions.actualCellWidth + \"px}\";\n        this._dimensionsStyleElement.innerHTML = t, this._selectionContainer.style.height = this._terminal._viewportElement.style.height, this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\", this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n      }, t.prototype.setTheme = function (e) {\n        var t = this;\n        e && this.colorManager.setTheme(e), this._themeStyleElement || (this._themeStyleElement = document.createElement(\"style\"), this._terminal.screenElement.appendChild(this._themeStyleElement));\n        var i = this._terminalSelector + \" .\" + u + \" { color: \" + this.colorManager.colors.foreground.css + \"; background-color: \" + this.colorManager.colors.background.css + \"; font-family: \" + this._terminal.getOption(\"fontFamily\") + \"; font-size: \" + this._terminal.getOption(\"fontSize\") + \"px;}\";\n        return i += this._terminalSelector + \" span:not(.\" + l.BOLD_CLASS + \") { font-weight: \" + this._terminal.options.fontWeight + \";}\" + this._terminalSelector + \" span.\" + l.BOLD_CLASS + \" { font-weight: \" + this._terminal.options.fontWeightBold + \";}\" + this._terminalSelector + \" span.\" + l.ITALIC_CLASS + \" { font-style: italic;}\", i += this._terminalSelector + \" .\" + u + \":not(.xterm-focus) .\" + l.CURSOR_CLASS + \" { outline: 1px solid \" + this.colorManager.colors.cursor.css + \"; outline-offset: -1px;}\" + this._terminalSelector + \" .\" + u + \".xterm-focus .\" + l.CURSOR_CLASS + \".\" + l.CURSOR_STYLE_BLOCK_CLASS + \" { background-color: \" + this.colorManager.colors.cursor.css + \"; color: \" + this.colorManager.colors.cursorAccent.css + \";}\" + this._terminalSelector + \" .\" + u + \".xterm-focus .\" + l.CURSOR_CLASS + \".\" + l.CURSOR_STYLE_BAR_CLASS + \" { box-shadow: 1px 0 0 \" + this.colorManager.colors.cursor.css + \" inset;}\" + this._terminalSelector + \" .\" + u + \".xterm-focus .\" + l.CURSOR_CLASS + \".\" + l.CURSOR_STYLE_UNDERLINE_CLASS + \" { box-shadow: 0 -1px 0 \" + this.colorManager.colors.cursor.css + \" inset;}\", i += this._terminalSelector + \" .\" + _ + \" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}\" + this._terminalSelector + \" .\" + _ + \" div { position: absolute; background-color: \" + this.colorManager.colors.selection.css + \";}\", this.colorManager.colors.ansi.forEach(function (e, r) {\n          i += t._terminalSelector + \" .xterm-fg-\" + r + \" { color: \" + e.css + \"; }\" + t._terminalSelector + \" .xterm-bg-\" + r + \" { background-color: \" + e.css + \"; }\";\n        }), i += this._terminalSelector + \" .xterm-fg-\" + h.INVERTED_DEFAULT_COLOR + \" { color: \" + this.colorManager.colors.background.css + \"; }\" + this._terminalSelector + \" .xterm-bg-\" + h.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this.colorManager.colors.foreground.css + \"; }\", this._themeStyleElement.innerHTML = i, this.colorManager.colors;\n      }, t.prototype.onWindowResize = function (e) {\n        this._updateDimensions();\n      }, t.prototype._refreshRowElements = function (e, t) {\n        for (var i = this._rowElements.length; i <= t; i++) {\n          var r = document.createElement(\"div\");\n          this._rowContainer.appendChild(r), this._rowElements.push(r);\n        }\n\n        for (; this._rowElements.length > t;) this._rowContainer.removeChild(this._rowElements.pop());\n      }, t.prototype.onResize = function (e, t) {\n        this._refreshRowElements(e, t), this._updateDimensions();\n      }, t.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n      }, t.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(\"xterm-focus\");\n      }, t.prototype.onFocus = function () {\n        this._rowContainer.classList.add(\"xterm-focus\");\n      }, t.prototype.onSelectionChanged = function (e, t, i) {\n        for (; this._selectionContainer.children.length;) this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n\n        if (e && t) {\n          var r = e[1] - this._terminal.buffer.ydisp,\n              n = t[1] - this._terminal.buffer.ydisp,\n              s = Math.max(r, 0),\n              o = Math.min(n, this._terminal.rows - 1);\n\n          if (!(s >= this._terminal.rows || o < 0)) {\n            var a = document.createDocumentFragment();\n            if (i) a.appendChild(this._createSelectionElement(s, e[0], t[0], o - s + 1));else {\n              var l = r === s ? e[0] : 0,\n                  h = s === o ? t[0] : this._terminal.cols;\n              a.appendChild(this._createSelectionElement(s, l, h));\n              var c = o - s - 1;\n\n              if (a.appendChild(this._createSelectionElement(s + 1, 0, this._terminal.cols, c)), s !== o) {\n                var u = n === o ? t[0] : this._terminal.cols;\n                a.appendChild(this._createSelectionElement(o, 0, u));\n              }\n            }\n\n            this._selectionContainer.appendChild(a);\n          }\n        }\n      }, t.prototype._createSelectionElement = function (e, t, i, r) {\n        void 0 === r && (r = 1);\n        var n = document.createElement(\"div\");\n        return n.style.height = r * this.dimensions.actualCellHeight + \"px\", n.style.top = e * this.dimensions.actualCellHeight + \"px\", n.style.left = t * this.dimensions.actualCellWidth + \"px\", n.style.width = this.dimensions.actualCellWidth * (i - t) + \"px\", n;\n      }, t.prototype.onCursorMove = function () {}, t.prototype.onOptionsChanged = function () {\n        this._updateDimensions(), this.setTheme(void 0), this._terminal.refresh(0, this._terminal.rows - 1);\n      }, t.prototype.clear = function () {\n        this._rowElements.forEach(function (e) {\n          return e.innerHTML = \"\";\n        });\n      }, t.prototype.refreshRows = function (e, t) {\n        this._renderDebouncer.refresh(e, t);\n      }, t.prototype._renderRows = function (e, t) {\n        for (var i = this._terminal, r = i.buffer.ybase + i.buffer.y, n = this._terminal.buffer.x, s = e; s <= t; s++) {\n          var o = this._rowElements[s];\n          o.innerHTML = \"\";\n          var a = s + i.buffer.ydisp,\n              l = i.buffer.lines.get(a),\n              h = i.options.cursorStyle;\n          o.appendChild(this._rowFactory.createRow(l, a === r, h, n, this.dimensions.actualCellWidth, i.cols));\n        }\n\n        this._terminal.emit(\"refresh\", {\n          start: e,\n          end: t\n        });\n      }, Object.defineProperty(t.prototype, \"_terminalSelector\", {\n        get: function () {\n          return \".\" + c + this._terminalClass;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.registerCharacterJoiner = function (e) {\n        return -1;\n      }, t.prototype.deregisterCharacterJoiner = function (e) {\n        return !1;\n      }, t.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !0);\n      }, t.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !1);\n      }, t.prototype._setCellUnderline = function (e, t, i, r, n, s) {\n        for (; e !== t || i !== r;) {\n          var o = this._rowElements[i];\n          if (!o) return;\n          var a = o.children[e];\n          a && (a.style.textDecoration = s ? \"underline\" : \"none\"), ++e >= n && (e = 0, i++);\n        }\n      }, t;\n    }(s.EventEmitter);\n\n    t.DomRenderer = d;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(0),\n        n = i(1);\n    t.BOLD_CLASS = \"xterm-bold\", t.ITALIC_CLASS = \"xterm-italic\", t.CURSOR_CLASS = \"xterm-cursor\", t.CURSOR_STYLE_BLOCK_CLASS = \"xterm-cursor-block\", t.CURSOR_STYLE_BAR_CLASS = \"xterm-cursor-bar\", t.CURSOR_STYLE_UNDERLINE_CLASS = \"xterm-cursor-underline\";\n\n    var s = function () {\n      function e(e) {\n        this._document = e;\n      }\n\n      return e.prototype.createRow = function (e, i, s, o, a, l) {\n        for (var h = this._document.createDocumentFragment(), c = 0, u = Math.min(e.length, l) - 1; u >= 0; u--) {\n          if ((_ = e.get(u))[r.CHAR_DATA_CODE_INDEX] !== r.NULL_CELL_CODE || i && u === o) {\n            c = u + 1;\n            break;\n          }\n        }\n\n        for (u = 0; u < c; u++) {\n          var _,\n              f = (_ = e.get(u))[r.CHAR_DATA_CHAR_INDEX] || r.WHITESPACE_CELL_CHAR,\n              d = _[r.CHAR_DATA_ATTR_INDEX],\n              p = _[r.CHAR_DATA_WIDTH_INDEX];\n\n          if (0 !== p) {\n            var m = this._document.createElement(\"span\");\n\n            p > 1 && (m.style.width = a * p + \"px\");\n            var y = d >> 18,\n                g = 511 & d,\n                C = d >> 9 & 511;\n            if (i && u === o) switch (m.classList.add(t.CURSOR_CLASS), s) {\n              case \"bar\":\n                m.classList.add(t.CURSOR_STYLE_BAR_CLASS);\n                break;\n\n              case \"underline\":\n                m.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);\n                break;\n\n              default:\n                m.classList.add(t.CURSOR_STYLE_BLOCK_CLASS);\n            }\n\n            if (8 & y) {\n              var v = g;\n              g = C, (C = v) === n.DEFAULT_COLOR && (C = n.INVERTED_DEFAULT_COLOR), g === n.DEFAULT_COLOR && (g = n.INVERTED_DEFAULT_COLOR);\n            }\n\n            1 & y && (C < 8 && (C += 8), m.classList.add(t.BOLD_CLASS)), 64 & y && m.classList.add(t.ITALIC_CLASS), m.textContent = f, C !== n.DEFAULT_COLOR && m.classList.add(\"xterm-fg-\" + C), g !== n.DEFAULT_COLOR && m.classList.add(\"xterm-bg-\" + g), h.appendChild(m);\n          }\n        }\n\n        return h;\n      }, e;\n    }();\n\n    t.DomRendererRowFactory = s;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = i(8),\n        n = {\n      48: [\"0\", \")\"],\n      49: [\"1\", \"!\"],\n      50: [\"2\", \"@\"],\n      51: [\"3\", \"#\"],\n      52: [\"4\", \"$\"],\n      53: [\"5\", \"%\"],\n      54: [\"6\", \"^\"],\n      55: [\"7\", \"&\"],\n      56: [\"8\", \"*\"],\n      57: [\"9\", \"(\"],\n      186: [\";\", \":\"],\n      187: [\"=\", \"+\"],\n      188: [\",\", \"<\"],\n      189: [\"-\", \"_\"],\n      190: [\".\", \">\"],\n      191: [\"/\", \"?\"],\n      192: [\"`\", \"~\"],\n      219: [\"[\", \"{\"],\n      220: [\"\\\\\", \"|\"],\n      221: [\"]\", \"}\"],\n      222: [\"'\", '\"']\n    };\n\n    t.evaluateKeyboardEvent = function (e, t, i, s) {\n      var o = {\n        type: 0,\n        cancel: !1,\n        key: void 0\n      },\n          a = (e.shiftKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.ctrlKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n\n      switch (e.keyCode) {\n        case 0:\n          \"UIKeyInputUpArrow\" === e.key ? o.key = t ? r.C0.ESC + \"OA\" : r.C0.ESC + \"[A\" : \"UIKeyInputLeftArrow\" === e.key ? o.key = t ? r.C0.ESC + \"OD\" : r.C0.ESC + \"[D\" : \"UIKeyInputRightArrow\" === e.key ? o.key = t ? r.C0.ESC + \"OC\" : r.C0.ESC + \"[C\" : \"UIKeyInputDownArrow\" === e.key && (o.key = t ? r.C0.ESC + \"OB\" : r.C0.ESC + \"[B\");\n          break;\n\n        case 8:\n          if (e.shiftKey) {\n            o.key = r.C0.BS;\n            break;\n          }\n\n          if (e.altKey) {\n            o.key = r.C0.ESC + r.C0.DEL;\n            break;\n          }\n\n          o.key = r.C0.DEL;\n          break;\n\n        case 9:\n          if (e.shiftKey) {\n            o.key = r.C0.ESC + \"[Z\";\n            break;\n          }\n\n          o.key = r.C0.HT, o.cancel = !0;\n          break;\n\n        case 13:\n          o.key = r.C0.CR, o.cancel = !0;\n          break;\n\n        case 27:\n          o.key = r.C0.ESC, o.cancel = !0;\n          break;\n\n        case 37:\n          a ? (o.key = r.C0.ESC + \"[1;\" + (a + 1) + \"D\", o.key === r.C0.ESC + \"[1;3D\" && (o.key = i ? r.C0.ESC + \"b\" : r.C0.ESC + \"[1;5D\")) : o.key = t ? r.C0.ESC + \"OD\" : r.C0.ESC + \"[D\";\n          break;\n\n        case 39:\n          a ? (o.key = r.C0.ESC + \"[1;\" + (a + 1) + \"C\", o.key === r.C0.ESC + \"[1;3C\" && (o.key = i ? r.C0.ESC + \"f\" : r.C0.ESC + \"[1;5C\")) : o.key = t ? r.C0.ESC + \"OC\" : r.C0.ESC + \"[C\";\n          break;\n\n        case 38:\n          a ? (o.key = r.C0.ESC + \"[1;\" + (a + 1) + \"A\", o.key === r.C0.ESC + \"[1;3A\" && (o.key = r.C0.ESC + \"[1;5A\")) : o.key = t ? r.C0.ESC + \"OA\" : r.C0.ESC + \"[A\";\n          break;\n\n        case 40:\n          a ? (o.key = r.C0.ESC + \"[1;\" + (a + 1) + \"B\", o.key === r.C0.ESC + \"[1;3B\" && (o.key = r.C0.ESC + \"[1;5B\")) : o.key = t ? r.C0.ESC + \"OB\" : r.C0.ESC + \"[B\";\n          break;\n\n        case 45:\n          e.shiftKey || e.ctrlKey || (o.key = r.C0.ESC + \"[2~\");\n          break;\n\n        case 46:\n          o.key = a ? r.C0.ESC + \"[3;\" + (a + 1) + \"~\" : r.C0.ESC + \"[3~\";\n          break;\n\n        case 36:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"H\" : t ? r.C0.ESC + \"OH\" : r.C0.ESC + \"[H\";\n          break;\n\n        case 35:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"F\" : t ? r.C0.ESC + \"OF\" : r.C0.ESC + \"[F\";\n          break;\n\n        case 33:\n          e.shiftKey ? o.type = 2 : o.key = r.C0.ESC + \"[5~\";\n          break;\n\n        case 34:\n          e.shiftKey ? o.type = 3 : o.key = r.C0.ESC + \"[6~\";\n          break;\n\n        case 112:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"P\" : r.C0.ESC + \"OP\";\n          break;\n\n        case 113:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"Q\" : r.C0.ESC + \"OQ\";\n          break;\n\n        case 114:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"R\" : r.C0.ESC + \"OR\";\n          break;\n\n        case 115:\n          o.key = a ? r.C0.ESC + \"[1;\" + (a + 1) + \"S\" : r.C0.ESC + \"OS\";\n          break;\n\n        case 116:\n          o.key = a ? r.C0.ESC + \"[15;\" + (a + 1) + \"~\" : r.C0.ESC + \"[15~\";\n          break;\n\n        case 117:\n          o.key = a ? r.C0.ESC + \"[17;\" + (a + 1) + \"~\" : r.C0.ESC + \"[17~\";\n          break;\n\n        case 118:\n          o.key = a ? r.C0.ESC + \"[18;\" + (a + 1) + \"~\" : r.C0.ESC + \"[18~\";\n          break;\n\n        case 119:\n          o.key = a ? r.C0.ESC + \"[19;\" + (a + 1) + \"~\" : r.C0.ESC + \"[19~\";\n          break;\n\n        case 120:\n          o.key = a ? r.C0.ESC + \"[20;\" + (a + 1) + \"~\" : r.C0.ESC + \"[20~\";\n          break;\n\n        case 121:\n          o.key = a ? r.C0.ESC + \"[21;\" + (a + 1) + \"~\" : r.C0.ESC + \"[21~\";\n          break;\n\n        case 122:\n          o.key = a ? r.C0.ESC + \"[23;\" + (a + 1) + \"~\" : r.C0.ESC + \"[23~\";\n          break;\n\n        case 123:\n          o.key = a ? r.C0.ESC + \"[24;\" + (a + 1) + \"~\" : r.C0.ESC + \"[24~\";\n          break;\n\n        default:\n          if (!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) {\n            if (i && !s || !e.altKey || e.metaKey) i && !e.altKey && !e.ctrlKey && e.metaKey ? 65 === e.keyCode && (o.type = 1) : e.key && !e.ctrlKey && !e.altKey && !e.metaKey && e.keyCode >= 48 && 1 === e.key.length && (o.key = e.key);else {\n              var l = n[e.keyCode],\n                  h = l && l[e.shiftKey ? 1 : 0];\n              if (h) o.key = r.C0.ESC + h;else if (e.keyCode >= 65 && e.keyCode <= 90) {\n                var c = e.ctrlKey ? e.keyCode - 64 : e.keyCode + 32;\n                o.key = r.C0.ESC + String.fromCharCode(c);\n              }\n            }\n          } else e.keyCode >= 65 && e.keyCode <= 90 ? o.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? o.key = String.fromCharCode(0) : e.keyCode >= 51 && e.keyCode <= 55 ? o.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? o.key = String.fromCharCode(127) : 219 === e.keyCode ? o.key = String.fromCharCode(27) : 220 === e.keyCode ? o.key = String.fromCharCode(28) : 221 === e.keyCode && (o.key = String.fromCharCode(29));\n      }\n\n      return o;\n    };\n  }, function (e, t, i) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.clone = function e(t, i) {\n      if (void 0 === i && (i = 5), \"object\" != typeof t) return t;\n      if (null === t) return null;\n      var r = Array.isArray(t) ? [] : {};\n\n      for (var n in t) r[n] = i <= 1 ? t[n] : e(t[n], i - 1);\n\n      return r;\n    };\n  }, function (e, t, i) {}, function (e, t, i) {}, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t);\n    var r = i(23),\n        n = i(11),\n        s = i.n(n),\n        o = i(24),\n        a = i(6),\n        l = (i(62), i(25)),\n        h = i(26),\n        c = i(27),\n        u = {\n      updateChannel: \"stable\",\n      fontSize: 12,\n      fontFamily: 'Menlo, \"DejaVu Sans Mono\", Consolas, \"Lucida Console\", monospace',\n      fontWeight: \"normal\",\n      fontWeightBold: \"bold\",\n      lineHeight: 1,\n      letterSpacing: 0,\n      cursorColor: \"#000\",\n      cursorAccentColor: \"#000\",\n      cursorShape: \"BLOCK\",\n      cursorBlink: !1,\n      foregroundColor: \"#fff\",\n      backgroundColor: \"#000\",\n      selectionColor: \"rgba(0,123,255,0.3)\",\n      borderColor: \"#333\",\n      css: \"\",\n      termCSS: \"\",\n      showHamburgerMenu: \"\",\n      showWindowControls: \"\",\n      padding: \"12px 14px\",\n      colors: {\n        black: \"#000000\",\n        red: \"#C51E14\",\n        green: \"#1DC121\",\n        yellow: \"#C7C329\",\n        blue: \"#0A2FC4\",\n        magenta: \"#C839C5\",\n        cyan: \"#20C5C6\",\n        white: \"#C7C7C7\",\n        lightBlack: \"#686868\",\n        lightRed: \"#FD6F6B\",\n        lightGreen: \"#67F86F\",\n        lightYellow: \"#FFFA72\",\n        lightBlue: \"#6A76FB\",\n        lightMagenta: \"#FD7CFC\",\n        lightCyan: \"#68FDFE\",\n        lightWhite: \"#FFFFFF\"\n      },\n      shell: \"\",\n      shellArgs: [\"--login\"],\n      env: {},\n      bell: \"SOUND\",\n      copyOnSelect: !1,\n      defaultSSHApp: !0,\n      quickEdit: !1,\n      macOptionSelectionMode: \"vertical\",\n      webGLRenderer: !0\n    };\n    i(63);\n    i.d(t, \"Term\", function () {\n      return y;\n    }), a.Terminal.applyAddon(l), a.Terminal.applyAddon(h), a.Terminal.applyAddon(c);\n\n    var _,\n        f = window.WebGL2RenderingContext,\n        d = {\n      BEAM: \"bar\",\n      UNDERLINE: \"underline\",\n      BLOCK: \"block\"\n    },\n        p = (_ = !!f && void 0, function () {\n      if (void 0 === _) {\n        var e = document.createElement(\"canvas\").getContext(\"webgl2\", {\n          depth: !1,\n          antialias: !1\n        });\n        _ = e instanceof f;\n      }\n\n      return _;\n    }),\n        m = function (e) {\n      var t = e.colors || {},\n          i = e.backgroundColor || u.backgroundColor,\n          r = !1;\n      return e.webGLRenderer && (p() ? r = !0 : console.warn(\"WebGL2 is not supported on your machine. Falling back to canvas-based rendering.\")), y.reportRenderer(e.uid, r ? \"WebGL\" : \"Canvas\"), {\n        macOptionIsMeta: (e.modifierKeys || {}).altIsMeta || !0,\n        scrollback: e.scrollback,\n        cursorStyle: d[e.cursorShape || \"BEAM\"],\n        cursorBlink: e.cursorBlink || u.cursorBlink,\n        fontFamily: e.fontFamily || u.fontFamily,\n        fontSize: e.fontSize || u.fontSize,\n        fontWeight: e.fontWeight || u.fontWeight,\n        fontWeightBold: e.fontWeightBold || u.fontWeightBold,\n        lineHeight: e.lineHeight || u.lineHeight,\n        letterSpacing: e.letterSpacing || u.letterSpacing,\n        allowTransparency: !1,\n        macOptionClickForcesSelection: \"force\" === e.macOptionSelectionMode,\n        rendererType: r ? \"webgl\" : \"canvas\",\n        experimentalCharAtlas: r ? \"webgl\" : \"dynamic\",\n        theme: {\n          foreground: e.foregroundColor || u.foregroundColor,\n          background: i,\n          cursor: e.cursorColor || u.cursorColor,\n          cursorAccent: e.cursorAccentColor || u.cursorAccentColor,\n          selection: e.selectionColor || u.selectionColor,\n          black: t.black || u.colors.black,\n          red: t.red || u.colors.red,\n          green: t.green || u.colors.green,\n          yellow: t.yellow || u.colors.yellow,\n          blue: t.blue || u.colors.blue,\n          magenta: t.magenta || u.colors.magenta,\n          cyan: t.cyan || u.colors.cyan,\n          white: t.white || u.colors.white,\n          brightBlack: t.lightBlack || u.colors.lightBlack,\n          brightRed: t.lightRed || u.colors.lightRed,\n          brightGreen: t.lightGreen || u.colors.lightGreen,\n          brightYellow: t.lightYellow || u.colors.lightYellow,\n          brightBlue: t.lightBlue || u.colors.lightBlue,\n          brightMagenta: t.lightMagenta || u.colors.lightMagenta,\n          brightCyan: t.lightCyan || u.colors.lightCyan,\n          brightWhite: t.lightWhite || u.colors.lightWhite\n        }\n      };\n    },\n        y = function (e) {\n      function t(t) {\n        var i = e.call(this, t) || this;\n        return i.onMouseUp = function (e) {}, i.onTermWrapperRef = function (e) {\n          i.termWrapperRef = e, e ? (i.resizeObserver = new o.a(function () {\n            i.resizeTimeout || (i.resizeTimeout = setTimeout(function () {\n              delete i.resizeTimeout, i.fitResize();\n            }, 0));\n          }), i.resizeObserver.observe(e)) : i.resizeObserver.disconnect();\n        }, t.ref_(t.uid, i), i.termRef = null, i.termWrapperRef = null, i.termRect = null, i.termOptions = {}, i.disposableListeners = [], i;\n      }\n\n      return r.__extends(t, e), t.reportRenderer = function (e, i) {\n        var r = t.rendererTypes || {};\n        r[e] !== i && (r[e] = i, t.rendererTypes = r);\n      }, t.prototype.componentDidMount = function () {\n        var e = this,\n            t = this.props;\n        this.termOptions = m(t), this.term = t.term || new a.Terminal(this.termOptions), this.termRef = document.createElement(\"div\"), this.termRef.className = \"term_fit term_term\", this.termWrapperRef.appendChild(this.termRef), t.term || (this.term.attachCustomKeyEventHandler(this.keyboardHandler), this.term.open(this.termRef), this.term.webLinksInit(), this.term.winptyCompatInit()), this.props.isTermActive && this.term.focus(), t.onTitle && this.disposableListeners.push(this.term.addDisposableListener(\"title\", t.onTitle)), t.onActive && this.disposableListeners.push(this.term.addDisposableListener(\"focus\", t.onActive)), t.onData && this.disposableListeners.push(this.term.addDisposableListener(\"data\", t.onData)), t.onResize && this.disposableListeners.push(this.term.addDisposableListener(\"resize\", function (e) {\n          var i = e.cols,\n              r = e.rows;\n          t.onResize && t.onResize(i, r);\n        })), t.onCursorMove && this.disposableListeners.push(this.term.addDisposableListener(\"cursormove\", function () {\n          var i = {\n            x: e.term._core.buffer.x * e.term._core.renderer.dimensions.actualCellWidth,\n            y: e.term._core.buffer.y * e.term._core.renderer.dimensions.actualCellHeight,\n            width: e.term._core.renderer.dimensions.actualCellWidth,\n            height: e.term._core.renderer.dimensions.actualCellHeight,\n            col: e.term._core.buffer.y,\n            row: e.term._core.buffer.x\n          };\n          t.onCursorMove && t.onCursorMove(i);\n        })), window.addEventListener(\"paste\", this.onWindowPaste, {\n          capture: !0\n        });\n      }, t.prototype.getTermDocument = function () {\n        return console.warn(\"The underlying terminal engine of Hyper no longer uses iframes with individual `document` objects for each terminal instance. This method call is retained for backwards compatibility reasons. It's ok to attach directlyto the `document` object of the main `window`.\"), document;\n      }, t.prototype.onWindowPaste = function (e) {}, t.prototype.write = function (e) {\n        this.term.write(e);\n      }, t.prototype.focus = function () {\n        this.term.focus();\n      }, t.prototype.clear = function () {\n        this.term.clear();\n      }, t.prototype.reset = function () {\n        this.term.reset();\n      }, t.prototype.resize = function (e, t) {\n        this.term.resize(e, t);\n      }, t.prototype.selectAll = function () {\n        this.term.selectAll();\n      }, t.prototype.fitResize = function () {\n        this.termWrapperRef && this.term.fit();\n      }, t.prototype.keyboardHandler = function (e) {\n        return !e.catched;\n      }, t.prototype.componentWillReceiveProps = function (e) {\n        var t = this;\n        !this.props.cleared && e.cleared && this.clear();\n        var i = m(e);\n        Object.keys(i).filter(function (e) {\n          return \"theme\" !== e && i[e] !== t.termOptions[e];\n        }).forEach(function (e) {\n          try {\n            t.term.setOption(e, i[e]);\n          } catch (e) {\n            if (!/The webgl renderer only works with the webgl char atlas/i.test(e.message)) throw e;\n          }\n        }), (!this.termOptions.theme || i.rendererType !== this.termOptions.rendererType || Object.keys(i.theme).some(function (e) {\n          return i.theme[e] !== t.termOptions.theme[e];\n        })) && this.term.setOption(\"theme\", i.theme), this.termOptions = i, this.props.fontSize === e.fontSize && this.props.fontFamily === e.fontFamily && this.props.lineHeight === e.lineHeight && this.props.letterSpacing === e.letterSpacing || this.fitResize(), e.rows === this.props.rows && e.cols === this.props.cols || this.resize(e.cols, e.rows);\n      }, t.prototype.componentWillUnmount = function () {\n        this.termWrapperRef.removeChild(this.termRef), this.props.ref_(this.props.uid, null), this.disposableListeners.forEach(function (e) {\n          return e.dispose();\n        }), this.disposableListeners = [], window.removeEventListener(\"paste\", this.onWindowPaste, {\n          capture: !0\n        });\n      }, t.prototype.render = function () {\n        var e = \"term_fit \" + (this.props.isTermActive ? \"term_active\" : \"\");\n        return s.a.createElement(\"div\", {\n          className: e,\n          style: {\n            padding: this.props.padding\n          },\n          onMouseUp: this.onMouseUp\n        }, this.props.customChildrenBefore, s.a.createElement(\"div\", {\n          ref: this.onTermWrapperRef,\n          className: \"term_fit term_wrapper\"\n        }), this.props.customChildren);\n      }, t;\n    }(s.a.PureComponent);\n\n    t.default = y;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}