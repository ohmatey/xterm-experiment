{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction prepareTextForTerminal(text, isMSWindows) {\n  if (isMSWindows) {\n    return text.replace(/\\r?\\n/g, '\\r');\n  }\n\n  return text;\n}\n\nexports.prepareTextForTerminal = prepareTextForTerminal;\n\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n  if (bracketedPasteMode) {\n    return '\\x1b[200~' + text + '\\x1b[201~';\n  }\n\n  return text;\n}\n\nexports.bracketTextForPaste = bracketTextForPaste;\n\nfunction copyHandler(ev, term, selectionManager) {\n  if (term.browser.isMSIE) {\n    window.clipboardData.setData('Text', selectionManager.selectionText);\n  } else {\n    ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n  }\n\n  ev.preventDefault();\n}\n\nexports.copyHandler = copyHandler;\n\nfunction pasteHandler(ev, term) {\n  ev.stopPropagation();\n  var text;\n\n  var dispatchPaste = function (text) {\n    text = prepareTextForTerminal(text, term.browser.isMSWindows);\n    text = bracketTextForPaste(text, term.bracketedPasteMode);\n    term.handler(text);\n    term.textarea.value = '';\n    term.emit('paste', text);\n    term.cancel(ev);\n  };\n\n  if (term.browser.isMSIE) {\n    if (window.clipboardData) {\n      text = window.clipboardData.getData('Text');\n      dispatchPaste(text);\n    }\n  } else {\n    if (ev.clipboardData) {\n      text = ev.clipboardData.getData('text/plain');\n      dispatchPaste(text);\n    }\n  }\n}\n\nexports.pasteHandler = pasteHandler;\n\nfunction moveTextAreaUnderMouseCursor(ev, textarea) {\n  textarea.style.position = 'fixed';\n  textarea.style.width = '20px';\n  textarea.style.height = '20px';\n  textarea.style.left = ev.clientX - 10 + 'px';\n  textarea.style.top = ev.clientY - 10 + 'px';\n  textarea.style.zIndex = '1000';\n  textarea.focus();\n  setTimeout(function () {\n    textarea.style.position = null;\n    textarea.style.width = null;\n    textarea.style.height = null;\n    textarea.style.left = null;\n    textarea.style.top = null;\n    textarea.style.zIndex = null;\n  }, 200);\n}\n\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\n\nfunction rightClickHandler(ev, textarea, selectionManager, shouldSelectWord) {\n  moveTextAreaUnderMouseCursor(ev, textarea);\n\n  if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n    selectionManager.selectWordAtCursor(ev);\n  }\n\n  textarea.value = selectionManager.selectionText;\n  textarea.select();\n}\n\nexports.rightClickHandler = rightClickHandler;","map":null,"metadata":{},"sourceType":"script"}